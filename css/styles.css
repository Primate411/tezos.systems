/* ==========================================
   TEZOS.SYSTEMS - MINIMAL & ELEGANT
   Sophisticated Dashboard Design
   ========================================== */

/* ==========================================
   GLOBAL MATRIX SCROLLBARS
   ========================================== */

/* Webkit (Chrome, Safari, Edge) */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 20, 0, 0.3);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 212, 255, 0.25);
    border-radius: 3px;
    border: 1px solid rgba(0, 255, 65, 0.1);
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 212, 255, 0.5);
    box-shadow: 0 0 6px rgba(0, 255, 65, 0.3);
}

::-webkit-scrollbar-corner {
    background: transparent;
}

/* Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 212, 255, 0.25) rgba(0, 20, 0, 0.3);
}

/* ==========================================
   CSS Variables
   ========================================== */

:root {
    /* Refined dark theme */
    --bg-primary: #0f0f1a;
    --bg-secondary: #1a1a2e;
    --bg-tertiary: #16213e;

    /* Minimal glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.02);
    --glass-border: rgba(255, 255, 255, 0.06);

    /* Elegant typography */
    --text-primary: #ffffff;
    --text-secondary: #a0a0b0;
    --text-tertiary: #707080;
    --text-muted: #505060;

    /* Refined accent colors */
    --accent-cyan: #00d4ff;
    --accent-purple: #b794f6;
    --accent-pink: #ff6b9d;
    --accent-blue: #5b8def;

    /* Subtle effects */
    --blur-amount: 24px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="matrix"] {
    /* Matrix green theme - The code is everywhere */
    --text-primary: #00ff00;
    --text-secondary: #00cc00;
    --text-tertiary: #009900;
    --text-muted: #006600;

    /* All accents become matrix green */
    --accent-cyan: #00ff00;
    --accent-purple: #00ff00;
    --accent-pink: #00ff00;
    --accent-blue: #00ff00;
}

[data-theme="void"] {
    --bg-primary: #06060C;
    --bg-secondary: #0C0C18;
    --bg-tertiary: #121224;
    --glass-bg: rgba(12, 12, 30, 0.6);
    --glass-border: rgba(80, 80, 180, 0.15);
    --text-primary: #E2E0FF;
    --text-secondary: #9B97C9;
    --text-tertiary: #6A65A0;
    --text-muted: #3D3978;
    --accent-cyan: #4FC1E9;
    --accent-purple: #8B5CF6;
    --accent-pink: #C084FC;
    --accent-blue: #6366F1;
}

[data-theme="ember"] {
    --bg-primary: #0D0806;
    --bg-secondary: #1A0F0A;
    --bg-tertiary: #241610;
    --glass-bg: rgba(30, 16, 10, 0.65);
    --glass-border: rgba(255, 120, 50, 0.12);
    --text-primary: #FFE8D6;
    --text-secondary: #C9A88A;
    --text-tertiary: #8B6E55;
    --text-muted: #5C4535;
    --accent-cyan: #FF9F43;
    --accent-purple: #E55039;
    --accent-pink: #FF6348;
    --accent-blue: #F19066;
}

[data-theme="signal"] {
    --bg-primary: #08090A;
    --bg-secondary: #0F1112;
    --bg-tertiary: #16191B;
    --glass-bg: rgba(16, 20, 22, 0.7);
    --glass-border: rgba(0, 255, 200, 0.08);
    --text-primary: #D4EEEA;
    --text-secondary: #7FB5AD;
    --text-tertiary: #4D8A80;
    --text-muted: #2D5A52;
    --accent-cyan: #00FFC8;
    --accent-purple: #00B894;
    --accent-pink: #55E6C1;
    --accent-blue: #00D2D3;
}

/* --- Clean: Professional light theme --- */
[data-theme="clean"] {
    --bg-primary: #FFFFFF;
    --bg-secondary: #F8F9FA;
    --bg-tertiary: #F0F1F3;
    --glass-bg: #FFFFFF;
    --glass-border: #e7eaf3;
    --text-primary: #1e2022;
    --text-secondary: #6c757e;
    --text-tertiary: #8c98a4;
    --text-muted: #b7bfc6;
    --accent-cyan: #0784c3;
    --accent-purple: #0784c3;
    --accent-pink: #dc3545;
    --accent-blue: #0784c3;
    --blur-amount: 0px;
    --transition: all 0.15s ease;
}

/* --- Bubblegum: Pink/purple candy theme --- */
[data-theme="bubblegum"] {
    --bg-primary: #1F0E18;
    --bg-secondary: #2D1524;
    --bg-tertiary: #3D1C30;
    --glass-bg: rgba(45, 21, 36, 0.65);
    --glass-border: rgba(255, 105, 180, 0.15);
    --text-primary: #F5E0EE;
    --text-secondary: #C08BA8;
    --text-tertiary: #8E5A74;
    --text-muted: #5E3A4E;
    --accent-cyan: #FF69B4;
    --accent-purple: #FF85C8;
    --accent-pink: #FF9ED2;
    --accent-blue: #FF69B4;
}

/* --- Dark: Achromatic zen theme --- */
[data-theme="dark"] {
    --bg-primary: #1A1A1A;
    --bg-secondary: #222222;
    --bg-tertiary: #2A2A2A;
    --glass-bg: rgba(34, 34, 34, 0.95);
    --glass-border: #333333;
    --text-primary: #E8E8E8;
    --text-secondary: #9A9A9A;
    --text-tertiary: #737373;
    --text-muted: #525252;
    --accent-cyan: #C8C8C8;
    --accent-purple: #C8C8C8;
    --accent-pink: #C8C8C8;
    --accent-blue: #C8C8C8;
    --blur-amount: 0px;
    --transition: all 0.15s ease;
}

/* ==========================================
   Reset & Base
   ========================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    line-height: 1.6;
}

/* Subtle ambient gradient */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
        radial-gradient(at 20% 30%, rgba(0, 212, 255, 0.03) 0px, transparent 50%),
        radial-gradient(at 80% 70%, rgba(183, 148, 246, 0.03) 0px, transparent 50%);
    z-index: -1;
    pointer-events: none;
}

/* ==========================================
   Header
   ========================================== */

.header {
    padding: 2rem 2rem 3rem;
    position: relative;
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 16px;
}

/* ==========================================
   XTZ PRICE BAR
   ========================================== */

.price-bar {
    max-width: 100%;
    margin: 0;
    padding: 6px 20px 5px;
    background: rgba(0, 0, 0, 0.85);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.price-bar.visible {
    opacity: 1;
    pointer-events: auto;
}

.price-bar-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 0.72rem;
    color: var(--text-secondary);
}

.price-link {
    display: flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
    color: inherit;
    transition: color 0.2s;
}

.price-link:hover {
    color: var(--accent-cyan);
}

.price-label {
    font-family: 'Orbitron', monospace;
    font-size: inherit;
    font-weight: 700;
    text-transform: uppercase;
    opacity: 0.6;
}

.price-value {
    font-family: 'Orbitron', monospace;
    font-weight: 500;
    font-size: inherit;
    color: var(--text-primary);
}

.price-change {
    font-family: 'Orbitron', monospace;
    font-size: 0.8rem;
    font-weight: 700;
}

.price-change.positive {
    color: #00ff88;
}

.price-change.negative {
    color: #ff4466;
}

.price-alt {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-variant-numeric: tabular-nums;
}

.price-separator {
    color: var(--text-muted);
    font-size: 0.7rem;
    user-select: none;
}

.price-mcap {
    font-size: 0.75rem;
    opacity: 0.5;
}

.price-cta {
    font-size: 0.72rem;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    text-decoration: none;
    opacity: 0.7;
    transition: opacity 0.2s, color 0.2s;
    white-space: nowrap;
}
.price-cta:hover {
    opacity: 1;
    color: var(--accent-cyan, #00d4ff);
}

@keyframes pricePulse {
    0% { text-shadow: 0 0 8px var(--accent-cyan); }
    100% { text-shadow: none; }
}

.price-pulse {
    animation: pricePulse 0.8s ease-out;
}

/* Matrix theme overrides */
[data-theme="matrix"] .price-change.positive {
    color: #00ff00;
}

[data-theme="matrix"] .price-change.negative {
    color: #ff3333;
}

@media (max-width: 600px) {
    .price-bar {
        padding: 4px 12px;
    }
    .price-bar-content {
        gap: 10px;
        font-size: 0.75rem;
    }
    .price-mcap,
    .price-alt,
    .price-separator,
    .price-cta {
        display: none;
    }
}

/* ==========================================
   ABOUT TEZOS MODAL & CTA BUTTONS
   ========================================== */

.about-tezos-modal-content {
    max-width: 480px;
}

.about-tezos-stats {
    display: flex;
    gap: 1.5rem;
    margin: 1.25rem 0;
    padding: 1rem;
    background: rgba(0, 255, 0, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
}

.about-tezos-stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
    text-align: center;
}

.about-tezos-stat-value {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-primary);
    font-variant-numeric: tabular-nums;
}

.about-tezos-stat-label {
    font-size: 0.7rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.06em;
}

.about-tezos-links {
    display: flex;
    gap: 10px;
    margin-top: 1.25rem;
}

.hero-cta-primary {
    display: inline-flex;
    align-items: center;
    padding: 10px 24px;
    background: var(--accent-cyan);
    color: #000;
    font-weight: 600;
    font-size: 0.9rem;
    border-radius: 8px;
    text-decoration: none;
    transition: var(--transition);
    letter-spacing: 0.01em;
}

[data-theme="matrix"] .hero-cta-primary {
    background: #00ff00;
    box-shadow: 0 0 16px rgba(0, 255, 0, 0.25);
}

.hero-cta-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
}

[data-theme="matrix"] .hero-cta-primary:hover {
    box-shadow: 0 4px 20px rgba(0, 255, 0, 0.4);
}

.hero-cta-secondary {
    display: inline-flex;
    align-items: center;
    padding: 10px 24px;
    background: transparent;
    color: var(--text-secondary);
    font-weight: 500;
    font-size: 0.9rem;
    border-radius: 8px;
    border: 1px solid var(--glass-border);
    text-decoration: none;
    transition: var(--transition);
}

.hero-cta-secondary:hover {
    border-color: var(--accent-cyan);
    color: var(--text-primary);
}

@media (max-width: 768px) {
    .about-tezos-stats {
        flex-direction: column;
        gap: 0.75rem;
    }

    .about-tezos-links {
        flex-direction: column;
    }

    .hero-cta-primary,
    .hero-cta-secondary {
        justify-content: center;
        text-align: center;
    }
}

/* ==========================================
   UPGRADE CLOCK
   ========================================== */

.upgrade-clock {
    max-width: 1200px;
    margin: 0 auto 1.5rem;
    padding: 0 2rem;
}

.upgrade-clock-content {
    position: relative;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 16px;
    padding: 16px 24px 12px;
    backdrop-filter: blur(10px);
    overflow: visible;
}

.upgrade-main {
    display: flex;
    align-items: center;
    gap: 20px;
    flex-wrap: wrap;
}

.upgrade-count {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-right: 20px;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.upgrade-number {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--accent-purple) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
}

.upgrade-label {
    font-size: 0.7rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 2px;
}

.upgrade-share-btn {
    font-size: 0.75rem;
    opacity: 0.3;
    transition: opacity 0.2s;
    vertical-align: middle;
    margin-left: 4px;
}
.upgrade-share-btn:hover {
    opacity: 1;
}

.upgrade-info {
    flex: 1 1 auto;
    min-width: 200px;
}

.upgrade-current {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.upgrade-current .current-name-row {
    display: flex;
    align-items: center;
    gap: 8px;
}

.current-label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.current-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
}

.upgrade-highlight {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-top: 8px;
}

.upgrade-badges {
    display: flex;
    gap: 10px;
    margin-left: auto;
    flex-wrap: wrap;
    justify-content: center;
}

.upgrade-badge {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px 20px;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(183, 148, 246, 0.1) 100%);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 10px;
}

.badge-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--accent-cyan);
}

.badge-subtext {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin-top: 2px;
    white-space: nowrap;
}

/* ==========================================
   Living Uptime Clock
   ========================================== */
.uptime-clock {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px 24px;
    margin-left: auto;
    min-width: 260px;
    gap: 5px;
    flex-shrink: 0;
    background: linear-gradient(135deg, rgba(0, 255, 136, 0.06) 0%, rgba(0, 212, 255, 0.04) 100%);
    border: 1px solid rgba(0, 255, 136, 0.15);
    border-radius: 12px;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.05), inset 0 1px 0 rgba(255,255,255,0.03);
    position: relative;
    overflow: hidden;
}

/* Subtle corner glow */
.uptime-clock::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent-color, #00ff88), transparent);
    opacity: 0.4;
    border-radius: 12px 12px 0 0;
}

.uptime-counter {
    font-family: 'Orbitron', monospace;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary, #fff);
    white-space: nowrap;
    text-shadow: 0 0 20px rgba(0, 255, 136, 0.15);
    text-align: center;
    display: flex;
    justify-content: center;
}

.uptime-digit {
    display: inline-block;
    width: 0.82em;
    text-align: center;
}

.uptime-sep {
    display: inline-block;
    width: 0.5em;
    text-align: center;
}

.uptime-tagline {
    font-size: 0.6rem;
    font-weight: 600;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    color: var(--accent-color, #00ff88);
    opacity: 0.8;
    white-space: nowrap;
}

.uptime-metrics {
    display: flex;
    gap: 24px;
    margin-top: 4px;
    padding-top: 6px;
    border-top: 1px solid rgba(255,255,255,0.05);
    width: 100%;
    justify-content: center;
}

.uptime-metric {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
}

.uptime-metric-value {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    font-weight: 600;
    color: #fff;
}

.uptime-metric-label {
    font-size: 0.55rem;
    color: rgba(255,255,255,0.35);
    text-transform: uppercase;
    letter-spacing: 1.5px;
}

.uptime-block-pulse {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.65rem;
    color: rgba(255,255,255,0.35);
    font-family: monospace;
    margin-top: 2px;
    padding-top: 4px;
    border-top: 1px solid rgba(255,255,255,0.04);
    width: 100%;
    justify-content: center;
}

.uptime-pulse-dot {
    position: relative;
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--accent-color, #00ff88);
    box-shadow: 0 0 6px var(--accent-color, #00ff88);
    cursor: help;
    flex-shrink: 0;
}

/* Expanding ring animation */
.uptime-pulse-dot::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    border: 1.5px solid var(--accent-color, #00ff88);
    animation: pulse-ring 2s ease-out infinite;
}

.uptime-pulse-dot.flash {
    animation: block-flash 0.4s ease-out;
}

.uptime-pulse-dot.stale {
    background: #ff4444;
    box-shadow: 0 0 6px #ff4444;
}

.uptime-pulse-dot.stale::after {
    border-color: #ff4444;
}

@keyframes pulse-ring {
    0% { transform: scale(1); opacity: 0.8; }
    70% { transform: scale(2.2); opacity: 0; }
    100% { transform: scale(2.2); opacity: 0; }
}

@keyframes block-flash {
    0% { transform: scale(1.8); box-shadow: 0 0 16px var(--accent-color, #00ff88); }
    100% { transform: scale(1); }
}

/* Mobile */
@media (max-width: 768px) {
    .uptime-clock {
        min-width: unset;
        width: 100%;
        margin-left: 0;
        padding: 16px;
    }
    .uptime-counter {
        font-size: 1.15rem;
    }
    .uptime-metrics {
        gap: 16px;
    }
}

.upgrade-status {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    display: none;
}

.upgrade-status.active {
    display: block;
}

.voting-status {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
}

.voting-period {
    display: flex;
    align-items: center;
    gap: 8px;
}

.voting-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--accent-cyan);
    animation: voting-pulse 2s ease-in-out infinite;
}

@keyframes voting-pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
}

.voting-period-name {
    font-weight: 600;
    color: var(--text-primary);
}

.voting-time {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.voting-progress {
    flex: 1;
    min-width: 200px;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.voting-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
    border-radius: 3px;
    transition: width 0.3s ease;
}

.upgrade-timeline {
    margin-top: 12px;
    padding-top: 12px;
    padding-bottom: 8px;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    overflow: visible;
}

.timeline-track {
    display: flex;
    gap: 2px;
    flex-wrap: nowrap;
    padding-bottom: 9px;
}

.timeline-item {
    flex: 1 1 0;
    min-width: 0;
    height: 22px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
    font-weight: 700;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.timeline-item:hover {
    background: rgba(0, 212, 255, 0.1);
    border-color: var(--accent-cyan);
    color: var(--text-primary);
    transform: translateY(-2px);
    z-index: 200;
}

.timeline-item.current {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(183, 148, 246, 0.2) 100%);
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
}

/* Contention icon */
.timeline-item {
    position: relative;
}

.contention-icon {
    position: absolute;
    bottom: -16px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.95rem;
    line-height: 1;
    filter: drop-shadow(0 0 4px rgba(255, 80, 80, 0.8));
    opacity: 0.9;
    transition: all 0.3s ease;
    pointer-events: auto;
    cursor: pointer;
}

.timeline-item.contentious:hover .contention-icon {
    filter: drop-shadow(0 0 6px rgba(255, 80, 80, 0.9));
    opacity: 1;
    transform: translateX(-50%) scale(1.2);
}

[data-theme="matrix"] .contention-icon {
    filter: drop-shadow(0 0 3px rgba(255, 60, 60, 0.7));
}

[data-theme="matrix"] .timeline-item.contentious:hover .contention-icon {
    filter: drop-shadow(0 0 8px rgba(255, 60, 60, 1));
}

/* CSS tooltips replaced by JS-powered rich tooltips — see app.js initRichTooltips */

/* Matrix theme */
[data-theme="matrix"] .upgrade-number {
    background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
    -webkit-background-clip: text;
    background-clip: text;
}

[data-theme="matrix"] .upgrade-badge {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.3);
}
/* Matrix uptime clock — Nebuchadnezzar cold-world island */
[data-theme="matrix"] .uptime-clock { background: linear-gradient(135deg, rgba(0, 80, 180, 0.08) 0%, rgba(0, 120, 255, 0.03) 100%); border-color: rgba(0, 120, 255, 0.2); box-shadow: 0 0 25px rgba(0, 120, 255, 0.08), inset 0 1px 0 rgba(255,255,255,0.04); }
[data-theme="matrix"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #0078ff, transparent); }
[data-theme="matrix"] .uptime-counter { color: #0078ff; text-shadow: 0 0 25px rgba(0, 120, 255, 0.4); }
[data-theme="matrix"] .uptime-tagline { color: rgba(0, 160, 255, 0.85); }
[data-theme="matrix"] .uptime-metric-value { color: rgba(180, 210, 255, 0.9); }
[data-theme="matrix"] .uptime-metric-label { color: rgba(0, 150, 255, 0.6); }
[data-theme="matrix"] .uptime-block-pulse { color: rgba(0, 150, 255, 0.6); }
[data-theme="matrix"] .uptime-pulse-dot { color: #0078ff; background: #0078ff; box-shadow: 0 0 6px rgba(0, 120, 255, 0.6); }
[data-theme="matrix"] .uptime-metrics { border-top-color: rgba(0, 120, 255, 0.1); }
[data-theme="matrix"] .uptime-block-pulse { border-top-color: rgba(0, 120, 255, 0.08); }

[data-theme="matrix"] .badge-text {
    color: #00ff00;
}

[data-theme="matrix"] .voting-dot {
    background: #00ff00;
}

[data-theme="matrix"] .voting-progress-bar {
    background: linear-gradient(90deg, #00ff00, #00cc00);
}

[data-theme="matrix"] .timeline-item.current {
    background: rgba(0, 255, 0, 0.2);
    border-color: #00ff00;
    color: #00ff00;
}

[data-theme="matrix"] .timeline-item:hover {
    background: rgba(0, 255, 0, 0.1);
    border-color: #00ff00;
}

/* matrix tooltip override removed — JS tooltips handle theming */

/* Responsive */
@media (max-width: 768px) {
    .upgrade-clock-content {
        padding: 20px;
    }
    
    .upgrade-main {
        flex-direction: column;
        align-items: flex-start;
        gap: 20px;
    }
    
    .upgrade-count {
        flex-direction: row;
        gap: 12px;
        padding-right: 0;
        border-right: none;
        padding-bottom: 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        width: 100%;
    }
    
    .upgrade-number {
        font-size: 2.5rem;
    }
    
    .upgrade-badge {
        width: 100%;
    }

    .upgrade-badges {
        width: 100%;
        margin-left: 0;
    }

    .contention-icon {
        font-size: 0.75rem;
        bottom: -12px;
    }

    .timeline-track {
        padding-bottom: 14px;
    }
}

.title {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(1.75rem, 4vw, 3.125rem);
    font-weight: 900;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--text-primary);
    line-height: 1.2;
    background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--accent-purple) 50%, var(--accent-pink) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
    position: relative;
}

/* Default theme title — solid cyan, no cycling gradient */
[data-theme="default"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #00E5FF !important;
    background-clip: unset !important;
    color: #00E5FF !important;
    font-family: 'Orbitron', sans-serif !important;
    font-weight: 700 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.15em !important;
    text-shadow: 0 0 3px #00E5FF, 0 0 12px rgba(0,229,255,0.4), 0 0 25px rgba(0,229,255,0.15) !important;
}

.controls {
    display: flex;
    gap: 0.75rem;
    flex-wrap: nowrap;
    justify-content: flex-end;
    align-items: center;
    flex-shrink: 1;
    min-width: 0;
}

/* ==========================================
   SMART DOCK — Overflow Pattern
   ========================================== */

/* Settings gear dropdown */
.dock-settings-group {
    position: relative;
}

.settings-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 8px;
    z-index: 200;
    min-width: 140px;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

#features-dropdown {
    right: auto;
    left: 0;
}

.short-title { display: none; }
@media (max-width: 480px) {
    .full-title { display: none; }
    .short-title { display: inline; }
}

.settings-dropdown.open {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.settings-dropdown .glass-button {
    width: 100%;
    height: 40px;
    border-radius: 8px;
    justify-content: flex-start;
    gap: 8px;
    padding: 0 12px;
    position: relative;
}

.dropdown-label {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-secondary);
}

.dropdown-hint {
    display: none;
}
@media (min-width: 768px) {
    .dropdown-hint {
        display: block;
        position: absolute;
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        margin-left: 10px;
        background: rgba(0,0,0,0.9);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255,255,255,0.1);
        color: rgba(255,255,255,0.6);
        font-size: 0.68rem;
        font-weight: 400;
        padding: 5px 10px;
        border-radius: 6px;
        white-space: nowrap;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.15s ease;
        z-index: 10002;
    }
    .glass-button:hover .dropdown-hint {
        opacity: 1;
    }
}

[data-theme="matrix"] .settings-dropdown {
    background: #0a0f0a;
    border-color: rgba(0, 255, 0, 0.15);
}

/* Mobile: smaller gap for controls */
@media (max-width: 768px) {
    .controls {
        gap: 0.5rem;
    }
    .glass-button {
        width: 40px;
        height: 40px;
    }
}

/* Pulse indicator on toggle buttons */
.glass-button.has-pulse {
    position: relative;
}

.glass-button.has-pulse::after {
    content: '';
    position: absolute;
    top: 4px;
    right: 4px;
    width: 8px;
    height: 8px;
    background: #ff4444;
    border-radius: 50%;
    animation: pulse-dot 1.5s ease-in-out infinite;
    box-shadow: 0 0 6px rgba(255, 68, 68, 0.6);
}

[data-theme="matrix"] .glass-button.has-pulse::after {
    background: #00ff41;
    box-shadow: 0 0 6px rgba(0, 255, 65, 0.6);
}

@keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.7); }
}

/* ==========================================
   END SMART DOCK
   ========================================== */

.glass-button {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur-amount));
    -webkit-backdrop-filter: blur(var(--blur-amount));
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
    color: var(--text-secondary);
}

.glass-button:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    transform: translateY(-2px);
}

.theme-icon {
    font-size: 1.2rem;
}

.ultra-icon {
    font-size: 1.2rem;
}

#ultra-toggle.active {
    background: rgba(255, 107, 157, 0.2);
    border-color: rgba(255, 107, 157, 0.4);
    box-shadow: 0 0 15px rgba(255, 107, 157, 0.3);
}

[data-theme="matrix"] #ultra-toggle.active {
    background: rgba(0, 255, 0, 0.2);
    border-color: rgba(0, 255, 0, 0.4);
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
}

.refresh-icon {
    font-size: 1.3rem;
    display: inline-block;
    transition: transform 0.3s ease;
}

.glass-button.spinning .refresh-icon {
    animation: spin 1s ease-in-out;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* ==========================================
   Main Content
   ========================================== */

.main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem 4rem;
}

.stats-section {
    max-width: 1200px;
    margin: 0 auto 5rem;
    padding: 0;
    transition: margin-bottom 0.3s ease;
}

.stats-section.collapsed {
    margin-bottom: 1rem;
}

.stats-section.collapsed .section-header {
    margin-bottom: 0;
}

.section-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2.5rem;
}

.section-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.info-button {
    background: transparent;
    border: 1px solid var(--glass-border);
    border-radius: 50%;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--text-tertiary);
    transition: var(--transition);
}

.info-button:hover {
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
    transform: scale(1.1);
}

.info-button svg {
    width: 16px;
    height: 16px;
}

/* ==========================================
   Stats Grid
   ========================================== */

.stats-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    transition: max-height 0.3s ease, opacity 0.3s ease;
}

@media (min-width: 640px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ==========================================
   Stat Cards - Minimal & Elegant
   ========================================== */

.stat-card {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur-amount));
    -webkit-backdrop-filter: blur(var(--blur-amount));
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 0;
    perspective: 1000px;
    height: 210px;
    position: relative;
    overflow: visible;
    transition: var(--transition);
}

.stat-card:hover {
    border-color: rgba(255, 255, 255, 0.12);
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

/* Subtle accent glow on hover */
.stat-card[data-stat="total-bakers"]:hover {
    box-shadow: 0 12px 40px rgba(0, 212, 255, 0.08);
}

.stat-card[data-stat="tz4-bakers"]:hover {
    box-shadow: 0 12px 40px rgba(183, 148, 246, 0.08);
}

.stat-card[data-stat="tz4-adoption"]:hover {
    box-shadow: 0 12px 40px rgba(255, 107, 157, 0.08);
}

.stat-card[data-stat="issuance-rate"]:hover {
    box-shadow: 0 12px 40px rgba(91, 141, 239, 0.08);
}

.stat-card[data-stat="tx-volume"]:hover {
    box-shadow: 0 12px 40px rgba(183, 148, 246, 0.08);
}

.stat-card[data-stat="staking-ratio"]:hover {
    box-shadow: 0 12px 40px rgba(0, 212, 255, 0.08);
}

.stat-card[data-stat="total-supply"]:hover {
    box-shadow: 0 12px 40px rgba(255, 107, 157, 0.08);
}

/* Card Info Button */
.card-info-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-tertiary);
    cursor: pointer;
    z-index: 50;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0.6;
    pointer-events: auto;
}

.card-info-btn:hover {
    opacity: 1;
    background: rgba(0, 212, 255, 0.15);
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
    transform: scale(1.15) rotate(15deg);
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
}

.card-info-btn:hover svg {
    animation: pulse-glow 1s ease-in-out infinite;
}

@keyframes pulse-glow {
    0%, 100% { filter: drop-shadow(0 0 2px currentColor); }
    50% { filter: drop-shadow(0 0 8px currentColor); }
}

/* Card Tooltip */
.card-tooltip {
    position: absolute;
    top: 3rem;
    right: 0.5rem;
    width: 280px;
    padding: 0;
    background: var(--bg-secondary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    z-index: 200;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px) scale(0.95);
    transform-origin: top right;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
}

.card-info-btn:hover + .card-tooltip,
.card-tooltip:hover {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) scale(1);
    pointer-events: auto;
}

.tooltip-content {
    padding: 1.25rem;
}

.tooltip-content h4 {
    margin: 0 0 0.75rem 0;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.tooltip-content p {
    margin: 0 0 1rem 0;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--text-secondary);
}

.tooltip-content a {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.8rem;
    color: var(--accent-cyan);
    text-decoration: none;
    transition: all 0.2s ease;
}

.tooltip-content a:hover {
    color: var(--accent-purple);
    text-decoration: underline;
}

/* Tooltip Arrow */
.card-tooltip::before {
    content: '';
    position: absolute;
    top: -6px;
    right: 1rem;
    width: 12px;
    height: 12px;
    background: var(--bg-secondary);
    border-left: 1px solid rgba(255, 255, 255, 0.1);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    transform: rotate(45deg);
}

/* Flip animation system */
.card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
    z-index: 1;
    pointer-events: none;
}

.card-front, .card-back {
    pointer-events: auto;
}

.stat-card.flipping .card-inner {
    transform: rotateY(180deg);
}

.card-front,
.card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: flex-start;
    padding: 1.5rem 1.75rem;
    text-align: left;
    box-sizing: border-box;
    overflow: visible;
}

.card-back {
    transform: rotateY(180deg);
    /* Hide from screen readers when not visible */
    visibility: hidden;
}

.stat-card.flipping .card-back {
    visibility: visible;
}

.stat-card.flipping .card-front {
    visibility: hidden;
}

/* Card content */
.stat-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-tertiary);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.stat-value {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 700;
    line-height: 1;
    margin-bottom: 0.25rem;
    letter-spacing: -0.03em;
    color: var(--text-primary);
}

/* Dual value styling for progress indicators (e.g., "37 / 130") */
.stat-value-dual {
    font-size: clamp(1.6rem, 3.5vw, 2.2rem);
}

/* Text-based stat values (proposal names, voting periods) */
.stat-value-text {
    font-size: clamp(1.2rem, 2.5vw, 1.6rem);
    font-weight: 600;
    text-transform: capitalize;
}

/* Elegant accent colors for each stat */
.stat-card[data-stat="total-bakers"] .stat-value {
    color: var(--accent-cyan);
}

.stat-card[data-stat="tz4-bakers"] .stat-value {
    color: var(--accent-purple);
}

.stat-card[data-stat="tz4-adoption"] .stat-value {
    color: var(--accent-pink);
}

.stat-card[data-stat="issuance-rate"] .stat-value {
    color: var(--accent-blue);
}

.stat-card[data-stat="tx-volume"] .stat-value {
    color: var(--accent-purple);
}

.stat-card[data-stat="staking-ratio"] .stat-value {
    color: var(--accent-cyan);
}

.stat-card[data-stat="total-supply"] .stat-value {
    color: var(--accent-pink);
}

/* Governance colors */
.stat-card[data-stat="proposal"] .stat-value {
    color: var(--accent-cyan);
}

.stat-card[data-stat="voting-period"] .stat-value {
    color: var(--accent-purple);
}

.stat-card[data-stat="participation"] .stat-value {
    color: var(--accent-pink);
}

/* Economy additional colors */
.stat-card[data-stat="staking-apy"] .stat-value {
    color: #10b981;
}

.stat-card[data-stat="delegated"] .stat-value {
    color: var(--accent-purple);
}

.stat-card[data-stat="total-burned"] .stat-value {
    color: #f59e0b;
}

/* Network Activity colors */
.stat-card[data-stat="contract-calls"] .stat-value {
    color: var(--accent-cyan);
}

.stat-card[data-stat="funded-accounts"] .stat-value {
    color: var(--accent-pink);
}

/* Ecosystem colors */
.stat-card[data-stat="smart-contracts"] .stat-value {
    color: var(--accent-purple);
}

.stat-card[data-stat="tokens"] .stat-value {
    color: #f59e0b;
}

.stat-card[data-stat="rollups"] .stat-value {
    color: #10b981;
}

/* Cycle progress color */
.stat-card[data-stat="cycle-progress"] .stat-value {
    color: var(--accent-pink);
}

.stat-description {
    font-size: 0.875rem;
    color: var(--text-secondary);
    font-weight: 400;
    margin-top: 0.5rem;
}

.issuance-breakdown {
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 400;
    margin-top: 0.25rem;
    letter-spacing: 0.02em;
    white-space: nowrap;
}

/* Loading state */
.loading {
    animation: pulse 2s ease-in-out infinite;
    color: var(--text-muted);
}

@keyframes pulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}

.error-state {
    color: #ff6b6b !important;
    font-size: 1.25rem !important;
}

/* Browser fallback */
@supports not (backdrop-filter: blur(24px)) {
    .stat-card {
        background: rgba(26, 26, 46, 0.95);
    }
}

/* ==========================================
   Modal - Minimal Design
   ========================================== */

.modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    animation: fadeIn 0.2s ease;
}

.modal-overlay.active {
    display: flex;
}

.modal-content {
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    max-width: 600px;
    width: 100%;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    padding: 3rem;
    animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-close {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: var(--transition);
}

.modal-close:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    color: var(--text-primary);
    letter-spacing: -0.02em;
}

.modal-body {
    color: var(--text-secondary);
    line-height: 1.7;
    font-size: 0.95rem;
}

.modal-body p {
    margin-bottom: 1rem;
}

.modal-body strong {
    color: var(--text-primary);
    font-weight: 600;
}

.modal-body ul {
    margin: 1.5rem 0;
    list-style: none;
}

.modal-body li {
    margin-bottom: 0.75rem;
    padding-left: 1.5rem;
    position: relative;
}

.modal-body li::before {
    content: '•';
    position: absolute;
    left: 0;
    color: var(--accent-cyan);
    font-weight: 700;
}

.modal-note {
    background: rgba(0, 212, 255, 0.05);
    border-left: 2px solid var(--accent-cyan);
    padding: 1rem 1.25rem;
    border-radius: 8px;
    margin: 1.5rem 0;
    font-size: 0.9rem;
}

.modal-links {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1.5rem;
}

.modal-links a {
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 500;
    padding: 0.875rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    transition: var(--transition);
    border: 1px solid var(--glass-border);
    font-size: 0.9rem;
}

.modal-links a:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

/* ==========================================
   Footer
   ========================================== */

.footer {
    padding: 3rem 2rem;
    text-align: center;
    color: var(--text-tertiary);
    position: relative;
}

.footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 300px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.06), transparent);
}

.footer-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    font-size: 0.875rem;
}

.update-info,
.countdown-info {
    font-weight: 400;
}

.highlight {
    color: var(--accent-cyan);
    font-weight: 500;
}

.powered-by {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 8px;
    letter-spacing: 0.5px;
}

.powered-by a {
    color: var(--accent-cyan);
    text-decoration: none;
    font-weight: 600;
    transition: var(--transition);
}

.powered-by a:hover {
    text-shadow: 0 0 12px var(--accent-cyan);
}

.attribution {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.attribution a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition);
}

.attribution a:hover {
    color: var(--accent-cyan);
}

.error-message {
    color: #ff6b6b;
    margin-top: 1rem;
    font-size: 0.875rem;
    padding: 0.75rem 1rem;
    background: rgba(255, 107, 107, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(255, 107, 107, 0.2);
}

/* ==========================================
   Responsive
   ========================================== */

@media (min-width: 768px) {
    .header {
        padding: 5rem 2rem 4rem;
    }

    .footer-content {
        flex-direction: row;
        justify-content: center;
        gap: 2rem;
    }
}

@media (max-width: 640px) {
    .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 1.5rem;
    }

    .stat-card {
        height: 190px;
    }

    .stat-value {
        font-size: 2.5rem;
    }

    .card-front,
    .card-back {
        padding: 1.25rem 1.5rem;
    }

    .modal-content {
        padding: 2rem;
    }

    .modal-title {
        font-size: 1.25rem;
    }
}

/* ==========================================
   Accessibility
   ========================================== */

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }

    .card-inner {
        transition: none !important;
    }
}

.glass-button:focus,
.info-button:focus,
.modal-close:focus {
    outline: 2px solid var(--accent-cyan);
    outline-offset: 2px;
}

@media (prefers-contrast: high) {
    .stat-card {
        border: 2px solid var(--text-primary);
    }
}

/* Hidden elements */
.svg-defs {
    display: none;
}

/* ==========================================
   ARCADE EFFECTS ENHANCEMENTS
   ========================================== */

/* Enhanced card click state */
.stat-card:active {
    transform: translateY(-2px) scale(0.98);
    transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Neon glow on active cards */
.stat-card.arcade-active {
    box-shadow:
        0 0 20px currentColor,
        0 0 40px currentColor,
        0 12px 40px rgba(0, 0, 0, 0.15);
    border-color: currentColor;
}

/* Button press effects */
.glass-button:active,
.info-button:active {
    transform: translateY(0) scale(0.95);
}

/* Enhanced glow for button hover */
.glass-button:hover {
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
}

/* Title glow enhancement */
.title {
    animation: title-glow 3s ease-in-out infinite;
}

@keyframes title-glow {
    0%, 100% {
        filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
    }
    50% {
        filter: drop-shadow(0 0 40px rgba(183, 148, 246, 0.4));
    }
}

/* Arcade mode toggle effect */
body.arcade-mode::before {
    background:
        radial-gradient(at 20% 30%, rgba(0, 212, 255, 0.08) 0px, transparent 50%),
        radial-gradient(at 80% 70%, rgba(183, 148, 246, 0.08) 0px, transparent 50%),
        radial-gradient(at 50% 50%, rgba(255, 107, 157, 0.05) 0px, transparent 50%);
    animation: ambient-pulse 4s ease-in-out infinite;
}

@keyframes ambient-pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

/* Enhanced stat value animations */
.stat-value {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.stat-card:hover .stat-value {
    transform: scale(1.05);
    text-shadow: 0 0 20px currentColor;
}

/* Loading animation enhancement */
@keyframes pulse {
    0%, 100% {
        opacity: 0.3;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.05);
    }
}

/* Section header glow */
.section-title {
    transition: all 0.3s ease;
}

.stats-section:hover .section-title,
.my-baker-section:hover .section-title {
    color: var(--accent-cyan);
    text-shadow: 0 0 10px var(--accent-cyan);
}

/* Enhanced modal entry */
.modal-overlay.active .modal-content {
    animation: modal-arcade-entry 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modal-arcade-entry {
    0% {
        transform: translateY(20px) scale(0.9);
        opacity: 0;
        filter: blur(10px);
    }
    60% {
        transform: translateY(-5px) scale(1.02);
        filter: blur(0px);
    }
    100% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

/* Footer glow effect */
.footer .highlight {
    animation: highlight-pulse 2s ease-in-out infinite;
}

@keyframes highlight-pulse {
    0%, 100% {
        color: var(--accent-cyan);
        text-shadow: 0 0 5px var(--accent-cyan);
    }
    50% {
        color: var(--accent-purple);
        text-shadow: 0 0 10px var(--accent-purple);
    }
}

/* Enhanced refresh spinning */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.glass-button.spinning {
    animation: spin 1s ease-in-out, button-pulse 1s ease-in-out;
}

@keyframes button-pulse {
    0%, 100% {
        box-shadow: 0 0 0px var(--accent-cyan);
    }
    50% {
        box-shadow: 0 0 30px var(--accent-cyan);
    }
}

/* Card info button enhanced */
.card-info-btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-info-btn:active {
    transform: scale(0.9) rotate(0deg);
}

/* Link effects */
a {
    transition: all 0.2s ease;
}

a:hover {
    filter: drop-shadow(0 0 5px currentColor);
}

/* Enhanced tooltips */
.card-tooltip {
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

/* Responsive arcade enhancements */
@media (min-width: 768px) {
    .stat-card:hover {
        box-shadow:
            0 12px 40px rgba(0, 0, 0, 0.15),
            0 0 30px rgba(0, 212, 255, 0.1);
    }
}

/* Special effects for high combo */
body.high-combo .stat-card {
    animation: rainbow-border 2s linear infinite;
}

@keyframes rainbow-border {
    0% { border-color: rgba(0, 212, 255, 0.3); }
    33% { border-color: rgba(183, 148, 246, 0.3); }
    66% { border-color: rgba(255, 107, 157, 0.3); }
    100% { border-color: rgba(0, 212, 255, 0.3); }
}
/* Sparklines on stat cards */
.sparkline-container {
    width: 100%;
    height: 80px;
    margin-top: auto;
    position: relative;
}

.sparkline-chart {
    width: 100%;
    height: 100%;
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.sparkline-chart:hover {
    opacity: 1;
}

/* Trend arrows next to sparklines */
.trend-arrow {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    font-size: 0.65rem;
    font-weight: 600;
    padding: 2px 5px;
    border-radius: 3px;
    position: absolute;
    bottom: 6px;
    right: 6px;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    opacity: 0.85;
    transition: opacity 0.3s ease;
}

.sparkline-container:hover .trend-arrow {
    opacity: 1;
}

.trend-arrow.up {
    color: #00ff88;
}

.trend-arrow.down {
    color: #ff6b9d;
}

.trend-arrow.neutral {
    color: #888;
}

/* Issuance: lower is better, so invert colors */
.trend-arrow.up.inverted {
    color: #ff6b9d;
}

.trend-arrow.down.inverted {
    color: #00ff88;
}

[data-theme="matrix"] .trend-arrow.up {
    color: #00ff41;
}

[data-theme="matrix"] .trend-arrow.down {
    color: #ff4141;
}

[data-theme="matrix"] .trend-arrow.up.inverted {
    color: #ff4141;
}

[data-theme="matrix"] .trend-arrow.down.inverted {
    color: #00ff41;
}

/* History Modal */
.modal-large {
    max-width: 1200px;
    width: 90vw;
    max-height: 90vh;
    overflow-y: auto;
    background: linear-gradient(180deg, rgba(15, 15, 26, 0.98) 0%, rgba(10, 10, 20, 0.99) 100%);
    border: 1px solid rgba(0, 212, 255, 0.2);
    box-shadow: 
        0 0 60px rgba(0, 212, 255, 0.15),
        0 0 100px rgba(0, 0, 0, 0.8),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.modal-large .modal-title {
    font-size: 1.5rem;
    background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
}

.history-controls {
    display: flex;
    gap: 12px;
    margin: 24px 0;
    justify-content: center;
    flex-wrap: wrap;
}

.time-range-btn {
    padding: 10px 24px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 25px;
    cursor: pointer;
    color: var(--text-secondary);
    font-family: 'Inter', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.time-range-btn:hover {
    background: rgba(0, 212, 255, 0.1);
    border-color: rgba(0, 212, 255, 0.4);
    color: var(--text-primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.2);
}

.time-range-btn.active {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(183, 148, 246, 0.2) 100%);
    border-color: var(--accent-cyan);
    color: var(--text-primary);
    box-shadow: 
        0 0 20px rgba(0, 212, 255, 0.3),
        inset 0 0 20px rgba(0, 212, 255, 0.1);
}

.charts-container {
    display: grid;
    gap: 24px;
    margin-top: 24px;
}

.chart-section {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
    padding: 24px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    position: relative;
    overflow: hidden;
    animation: chartSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: calc(var(--delay, 0) * 0.1s);
    opacity: 0;
    transform: translateY(20px);
}

.chart-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.3), transparent);
}

@keyframes chartSlideIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    flex-wrap: wrap;
    gap: 12px;
}

.chart-section h4 {
    color: var(--accent-cyan);
    font-family: 'Orbitron', 'Rajdhani', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
}

.chart-stats {
    display: flex;
    gap: 20px;
}

.chart-stats .stat-item {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.chart-stats .stat-label {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.chart-stats .stat-value {
    font-size: 0.9rem;
    font-weight: 700;
    font-family: 'SF Mono', 'Fira Code', monospace;
    color: var(--text-primary);
}

.chart-stats .stat-value.positive {
    color: #22c55e;
    text-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
}

.chart-stats .stat-value.negative {
    color: #ef4444;
    text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
}

.chart-stats .stat-value.neutral {
    color: var(--text-secondary);
}

.chart-section canvas {
    height: 280px !important;
    max-height: 280px;
    filter: drop-shadow(0 0 8px rgba(0, 212, 255, 0.2));
}

/* Matrix theme for history modal */
[data-theme="matrix"] .modal-large {
    border-color: rgba(0, 255, 0, 0.2);
    box-shadow: 
        0 0 60px rgba(0, 255, 0, 0.15),
        0 0 100px rgba(0, 0, 0, 0.8);
}

[data-theme="matrix"] .modal-large .modal-title {
    background: linear-gradient(90deg, #00ff00, #00cc00);
    -webkit-background-clip: text;
    background-clip: text;
}

[data-theme="matrix"] .time-range-btn {
    border-color: rgba(0, 255, 0, 0.2);
}

[data-theme="matrix"] .time-range-btn:hover {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.4);
    box-shadow: 0 4px 20px rgba(0, 255, 0, 0.2);
}

[data-theme="matrix"] .time-range-btn.active {
    background: rgba(0, 255, 0, 0.15);
    border-color: #00ff00;
    box-shadow: 
        0 0 20px rgba(0, 255, 0, 0.3),
        inset 0 0 20px rgba(0, 255, 0, 0.1);
}

[data-theme="matrix"] .chart-section::before {
    background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.3), transparent);
}

[data-theme="matrix"] .chart-section h4 {
    color: #00ff00;
    text-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
}

[data-theme="matrix"] .chart-section canvas {
    filter: drop-shadow(0 0 8px rgba(0, 255, 0, 0.2));
}

[data-theme="matrix"] .chart-stats .stat-value.positive {
    color: #00ff00;
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
}

/* Responsive chart adjustments */
@media (max-width: 768px) {
    .modal-large {
        width: 95vw;
        max-height: 95vh;
        padding: 20px;
    }

    .chart-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .chart-stats {
        width: 100%;
        justify-content: space-between;
    }

    .chart-stats .stat-item {
        align-items: center;
    }

    .chart-section {
        padding: 16px;
    }

    .chart-section canvas {
        height: 220px !important;
    }

    .time-range-btn {
        padding: 8px 16px;
        font-size: 0.75rem;
    }
}

/* ==========================================
   MATRIX THEME OVERRIDES
   ========================================== */

/* Matrix green glow for all stat values in matrix theme */
[data-theme="matrix"] .stat-value {
    color: #00ff00 !important;
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.7), 0 0 20px rgba(0, 255, 0, 0.4) !important;
}

/* Matrix green for stat labels */
[data-theme="matrix"] .stat-label {
    color: #009900;
}

/* Matrix green for descriptions */
[data-theme="matrix"] .stat-description {
    color: #00cc00;
}

/* Matrix green for title */
[data-theme="matrix"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #00FF41 !important;
    background-clip: unset !important;
    color: #00FF41 !important;
    font-family: 'Orbitron', sans-serif !important;
    font-weight: 700 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.2em !important;
    text-shadow: 0 0 2px #00FF41, 0 0 10px rgba(0,255,65,0.5), 0 0 30px rgba(0,255,65,0.2) !important;
    filter: none !important;
}

/* Matrix green glows for buttons */
[data-theme="matrix"] .glass-button:hover {
    border-color: rgba(0, 255, 0, 0.5);
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
}

/* Matrix green accents for cards */
[data-theme="matrix"] .stat-card {
    border-color: rgba(0, 255, 0, 0.2);
}

[data-theme="matrix"] .stat-card:hover {
    border-color: rgba(0, 255, 0, 0.4);
    box-shadow: 0 8px 32px rgba(0, 255, 0, 0.15);
}

/* ==========================================
   Toolbar CTA Buttons
   ========================================== */

.toolbar-cta {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    text-decoration: none;
    color: var(--text-secondary);
    font-size: 0.8rem;
    border: 1px solid rgba(0, 255, 0, 0.15);
    width: auto;
    padding: 0 12px;
    white-space: nowrap;
}

.toolbar-cta-label {
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.02em;
}

.toolbar-cta-ext {
    font-size: 0.65rem;
    opacity: 0.5;
    margin-left: 1px;
}

.toolbar-cta:hover {
    color: var(--text-primary);
    border-color: var(--accent-cyan);
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.2);
}

[data-theme="matrix"] .toolbar-cta:hover {
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.3);
}

.toolbar-separator {
    width: 1px;
    height: 24px;
    background: var(--glass-border);
    margin: 0 4px;
    flex-shrink: 0;
}

@media (max-width: 1024px) {
    .controls { gap: 0.5rem; }
    .nav-label { display: none; }
}

/* ==========================================
   ULTRA MODE SELECTOR
   ========================================== */

.ultra-selector {
    position: fixed;
    top: 60px;
    right: 20px;
    width: 280px;
    background: rgba(10, 10, 15, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    backdrop-filter: blur(20px);
    z-index: 10001;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.ultra-selector.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.ultra-selector-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.ultra-selector-title {
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 2px;
    color: var(--accent-cyan);
}

.ultra-selector-close {
    cursor: pointer;
    font-size: 1.2rem;
    opacity: 0.5;
    transition: opacity 0.2s;
}

.ultra-selector-close:hover {
    opacity: 1;
}

.ultra-selector-modes {
    padding: 8px;
}

.ultra-mode-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    padding: 10px 12px;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
}

.ultra-mode-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
}

.ultra-mode-btn.active {
    background: rgba(0, 212, 255, 0.1);
    border-color: var(--accent-cyan);
    color: var(--text-primary);
}

.ultra-mode-icon {
    font-size: 1.4rem;
    width: 28px;
    text-align: center;
    color: var(--accent-cyan);
}

.ultra-mode-name {
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 1px;
}

.ultra-mode-desc {
    display: none;
}

.ultra-mode-btn.active .ultra-mode-desc,
.ultra-mode-btn:hover .ultra-mode-desc {
    display: block;
    font-size: 0.7rem;
    opacity: 0.6;
    margin-top: 2px;
    grid-column: 2;
}

.ultra-selector-footer {
    display: flex;
    gap: 8px;
    padding: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.ultra-selector-footer button {
    padding: 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

#ultra-power-btn {
    flex: 1;
}

#ultra-audio-btn {
    width: 44px;
    font-size: 1.1rem;
}

.ultra-selector-footer button.active {
    background: rgba(0, 212, 255, 0.2);
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
}

[data-theme="matrix"] .ultra-selector {
    border-color: rgba(0, 255, 0, 0.2);
}

[data-theme="matrix"] .ultra-selector-title,
[data-theme="matrix"] .ultra-mode-icon {
    color: #00ff00;
}

[data-theme="matrix"] .ultra-mode-btn.active {
    background: rgba(0, 255, 0, 0.1);
    border-color: #00ff00;
}

[data-theme="matrix"] .ultra-selector-footer button.active {
    background: rgba(0, 255, 0, 0.2);
    border-color: #00ff00;
    color: #00ff00;
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
}

/* ==========================================
   ULTRA MODE EFFECTS
   ========================================== */

/* Glitch Effect */
.glitch-active {
    animation: glitch-effect 150ms steps(2) forwards;
}

@keyframes glitch-effect {
    0% {
        filter: none;
        transform: translate(0);
    }
    25% {
        filter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='r'%3E%3CfeColorMatrix values='1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#r");
        transform: translate(-2px, 1px);
    }
    50% {
        filter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='b'%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#b");
        transform: translate(2px, -1px);
    }
    75% {
        filter: none;
        transform: translate(-1px, 0);
    }
    100% {
        filter: none;
        transform: translate(0);
    }
}

/* Terminal Mode - Hex Underlayer */
.stat-card.hex-active::before {
    content: '0A F3 7B 2C 9D E1 4F 88 0A F3 7B 2C 9D E1 4F 88 0A F3';
    position: absolute;
    inset: 0;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: var(--accent-cyan);
    opacity: 0.08;
    overflow: hidden;
    padding: 8px;
    animation: hex-scroll 2s linear infinite;
    pointer-events: none;
}

@keyframes hex-scroll {
    0% { transform: translateY(0); }
    100% { transform: translateY(-20px); }
}

[data-theme="matrix"] .stat-card.hex-active::before {
    color: #00ff00;
}

/* Signal Mode - Scanline Sweep */
.stat-card.scanline-active::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--accent-cyan);
    box-shadow: 0 0 10px var(--accent-cyan);
    animation: scanline-sweep 0.5s ease-out forwards;
    pointer-events: none;
}

@keyframes scanline-sweep {
    0% { top: 0; opacity: 1; }
    100% { top: 100%; opacity: 0; }
}

[data-theme="matrix"] .stat-card.scanline-active::after {
    background: #00ff00;
    box-shadow: 0 0 10px #00ff00;
}

/* Circuit Mode - Bracket Lock-on */
.stat-card.bracket-locked {
    position: relative;
}

.stat-card.bracket-locked::before,
.stat-card.bracket-locked::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    border: 2px solid var(--accent-cyan);
    pointer-events: none;
    animation: bracket-lock 0.2s ease-out forwards;
}

.stat-card.bracket-locked::before {
    top: -4px;
    left: -4px;
    border-right: none;
    border-bottom: none;
}

.stat-card.bracket-locked::after {
    bottom: -4px;
    right: -4px;
    border-left: none;
    border-top: none;
}

@keyframes bracket-lock {
    0% { opacity: 0; transform: scale(1.5); }
    100% { opacity: 1; transform: scale(1); }
}

[data-theme="matrix"] .stat-card.bracket-locked::before,
[data-theme="matrix"] .stat-card.bracket-locked::after {
    border-color: #00ff00;
}

/* Glitch Mode - Static Noise */
.stat-card.static-active {
    animation: static-noise 0.1s steps(4) infinite;
}

@keyframes static-noise {
    0% { filter: brightness(1); }
    25% { filter: brightness(1.05) contrast(1.02); }
    50% { filter: brightness(0.98); }
    75% { filter: brightness(1.02) saturate(1.1); }
    100% { filter: brightness(1); }
}

/* Network Mode - Pulse Glow */
.stat-card.pulse-active {
    animation: pulse-glow 1s ease-in-out infinite;
}

@keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.1); }
    50% { box-shadow: 0 0 30px rgba(0, 212, 255, 0.3); }
}

[data-theme="matrix"] .stat-card.pulse-active {
    animation: pulse-glow-matrix 1s ease-in-out infinite;
}

@keyframes pulse-glow-matrix {
    0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 0, 0.1); }
    50% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.3); }
}

/* ==========================================
   SHARE MODAL
   ========================================== */

.share-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    z-index: 10005;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
}

.share-modal-overlay.visible {
    opacity: 1;
    visibility: visible;
}

.share-modal-content {
    background: rgba(15, 15, 20, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow: hidden;
    transform: scale(0.95);
    transition: transform 0.2s ease;
}

.share-modal-overlay.visible .share-modal-content {
    transform: scale(1);
}

.share-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.share-modal-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.share-modal-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.share-modal-close:hover {
    color: var(--text-primary);
}

.share-modal-preview {
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    max-height: 400px;
    overflow: auto;
}

.share-modal-preview img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.share-modal-actions {
    display: flex;
    gap: 12px;
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.share-action-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.share-action-btn:hover {
    background: rgba(0, 212, 255, 0.1);
    border-color: var(--accent-cyan);
}

.share-action-btn span {
    font-size: 1.1rem;
}

[data-theme="matrix"] .share-action-btn:hover {
    background: rgba(0, 255, 0, 0.1);
    border-color: #00ff00;
}

/* Per-card share button */
.card-share-btn {
    position: absolute;
    top: calc(1rem + 30px);
    right: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-tertiary);
    font-size: 13px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}
.stat-card:hover .card-share-btn { opacity: 0.6; }
.card-share-btn:hover { opacity: 1 !important; background: rgba(0, 212, 255, 0.15); border-color: var(--accent-cyan); color: var(--accent-cyan); transform: scale(1.15); box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); }

/* Per-card history button */
.card-history-btn {
    position: absolute;
    top: calc(1rem + 60px);
    right: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-tertiary);
    font-size: 13px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}
.stat-card:hover .card-history-btn { opacity: 0.6; }
.card-history-btn:hover { opacity: 1 !important; background: rgba(0, 212, 255, 0.15); border-color: var(--accent-cyan); color: var(--accent-cyan); transform: scale(1.15); box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); }

/* Card history modal */
.card-history-modal {
    position: fixed;
    inset: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.card-history-modal.active {
    opacity: 1;
    visibility: visible;
}

.card-history-content {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 16px;
    width: 90vw;
    max-width: 600px;
    max-height: 85vh;
    padding: 2rem;
    position: relative;
    box-shadow: 0 0 60px rgba(0, 212, 255, 0.1), 0 20px 60px rgba(0, 0, 0, 0.5);
    transform: scale(0.9);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-history-modal.active .card-history-content {
    transform: scale(1);
}

.card-history-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.7);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    z-index: 10;
}

.card-history-close:hover {
    background: rgba(255, 255, 255, 0.15);
    color: var(--accent-cyan);
    transform: rotate(90deg);
}

.card-history-title {
    font-family: 'Orbitron', sans-serif;
    color: var(--accent-cyan);
    font-size: 1.3rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
    margin-bottom: 1.5rem;
    margin-top: 0;
}

.card-history-chart {
    width: 100%;
    height: 400px;
    position: relative;
}

.card-history-chart canvas {
    width: 100% !important;
    height: 100% !important;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .card-history-content {
        width: 100vw;
        height: 100vh;
        max-width: 100vw;
        max-height: 100vh;
        border-radius: 0;
        padding: 1.5rem;
    }

    .card-history-chart {
        height: calc(100vh - 150px);
    }

    /* Touch devices - buttons always visible but compact */
    .card-history-btn,
    .card-share-btn,
    .card-info-btn {
        opacity: 0.6;
        width: 28px;
        height: 28px;
        font-size: 12px;
    }
}

.share-icon {
    font-size: 1.2rem;
}

@media (max-width: 600px) {
    .share-modal-actions {
        flex-direction: column;
    }
}

/* ==========================================
   Mobile Swipeable Tabs
   ========================================== */

.mobile-tabs {
    display: none;
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(15, 15, 26, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--glass-border);
    padding: 0;
    overflow: hidden;
}

.tab-list {
    display: flex;
    overflow-x: auto;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    padding: 0 8px;
}

.tab-list::-webkit-scrollbar {
    display: none;
}

.tab-button {
    flex: 0 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 12px 16px;
    background: transparent;
    border: none;
    color: var(--text-tertiary);
    font-size: 0.7rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    white-space: nowrap;
}

.tab-button::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%) scaleX(0);
    width: 32px;
    height: 2px;
    background: var(--accent-cyan);
    border-radius: 2px;
    transition: transform 0.2s ease;
}

.tab-button.active {
    color: var(--text-primary);
}

.tab-button.active::after {
    transform: translateX(-50%) scaleX(1);
}

.tab-icon {
    font-size: 1.2rem;
    line-height: 1;
}

.tab-label {
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

[data-theme="matrix"] .tab-button::after {
    background: #00ff00;
}

/* Tab panel states */
body.mobile-tabs-active [data-tab-panel] {
    display: none;
}

body.mobile-tabs-active [data-tab-panel].tab-active {
    display: block;
    animation: tabFadeIn 0.3s ease;
}

body.mobile-tabs-active .mobile-overview-summary.tab-active {
    display: grid;
}

@keyframes tabFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Slide animations */
body.mobile-tabs-active [data-tab-panel].tab-entering.slide-from-left {
    animation: slideFromLeft 0.3s ease;
}

body.mobile-tabs-active [data-tab-panel].tab-entering.slide-from-right {
    animation: slideFromRight 0.3s ease;
}

@keyframes slideFromLeft {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideFromRight {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Mobile tab adjustments */
@media (max-width: 767px) {
    .mobile-tabs {
        display: block;
    }
    
    /* Adjust header for mobile tabs */
    body.mobile-tabs-active .header {
        padding-top: 2rem;
        padding-bottom: 1.5rem;
    }
    
    body.mobile-tabs-active .header-content {
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    body.mobile-tabs-active .title {
        font-size: 1.5rem;
    }
    
    /* Hide section headers in tab mode (redundant with tab labels) */
    body.mobile-tabs-active .section-header {
        display: none;
    }

    /* Keep titles visible for My Baker and Calculator sections */
    body.mobile-tabs-active .my-baker-section .section-header {
        display: flex;
    }
    
    /* Adjust main content padding */
    body.mobile-tabs-active .main-content {
        padding-top: 1rem;
    }
    
    /* Small gap between mobile tab bar and upgrade clock card */
    body.mobile-tabs-active .upgrade-clock {
        margin-top: 9px;
    }

    /* Make sections full width */
    body.mobile-tabs-active .stats-section {
        padding: 0 1rem;
    }
    
    /* Swipe hint - subtle */
    body.mobile-tabs-active .main-content::after {
        content: '';
        display: block;
        height: 40px;
    }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
    .tab-button::after {
        transition: none;
    }
    
    body.mobile-tabs-active [data-tab-panel].tab-active {
        animation: none;
    }
    
    body.mobile-tabs-active [data-tab-panel].tab-entering.slide-from-left,
    body.mobile-tabs-active [data-tab-panel].tab-entering.slide-from-right {
        animation: none;
    }
}

/* ==========================================
   Whale Tracker Section
   ========================================== */

.whale-section-inner {
    background: none;
    border: none;
    border-radius: 0;
    backdrop-filter: none;
    padding: 0;
}

.whale-header {
    display: flex;
    align-items: baseline;
    gap: 1rem;
    margin-bottom: 0.75rem;
}

.whale-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.whale-subtitle {
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

.whale-feed {
    display: flex;
    gap: 0.75rem;
    overflow-x: auto;
    padding: 0.5rem 0;
    scrollbar-width: thin;
    scrollbar-color: var(--glass-border) transparent;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

.whale-feed::-webkit-scrollbar {
    height: 4px;
}

.whale-feed::-webkit-scrollbar-track {
    background: transparent;
}

.whale-feed::-webkit-scrollbar-thumb {
    background: var(--glass-border);
    border-radius: 2px;
}

.whale-tx {
    flex: 0 0 auto;
    width: 220px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.whale-tx:hover {
    border-color: var(--accent-cyan);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.whale-tx-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.whale-tx-context {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-secondary);
}

.whale-tx-time {
    font-size: 0.65rem;
    color: var(--text-tertiary);
}

.whale-tx-amount {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-family: 'SF Mono', 'Fira Code', monospace;
}

.whale-tx-amount .xtz {
    font-size: 1rem;
    color: var(--accent-cyan);
}

.whale-tx-flow {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.whale-tx-addr {
    max-width: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.whale-tx-arrow {
    color: var(--text-tertiary);
    flex-shrink: 0;
}

/* Context-specific colors */
.whale-tx-deposit { border-left: 3px solid #ef4444; }
.whale-tx-withdrawal { border-left: 3px solid #22c55e; }
.whale-tx-foundation { border-left: 3px solid #a855f7; }
.whale-tx-baker { border-left: 3px solid #f59e0b; }
.whale-tx-burn { border-left: 3px solid #ef4444; }
.whale-tx-whale { border-left: 3px solid var(--accent-cyan); }
.whale-tx-stake { border-left: 3px solid #3b82f6; }
.whale-tx-unstake { border-left: 3px solid #f97316; }
.whale-tx-delegate { border-left: 3px solid #10b981; }
.whale-tx-undelegate { border-left: 3px solid #6b7280; }

/* Animation for new transactions */
.whale-tx-new {
    animation: whaleSlideIn 0.4s ease-out;
}

@keyframes whaleSlideIn {
    from {
        opacity: 0;
        transform: translateX(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

.whale-tx-exit {
    animation: whaleSlideOut 0.3s ease-in forwards;
}

@keyframes whaleSlideOut {
    to {
        opacity: 0;
        transform: translateX(20px) scale(0.95);
    }
}

/* Empty state */
.whale-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 2rem;
    color: var(--text-tertiary);
    text-align: center;
    width: 100%;
}

.whale-empty-icon {
    font-size: 2rem;
    opacity: 0.5;
}

.whale-empty-sub {
    font-size: 0.75rem;
    opacity: 0.7;
}

.whale-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    color: var(--text-tertiary);
    width: 100%;
}

/* Matrix theme */
[data-theme="matrix"] .whale-tx:hover {
    border-color: #00ff00;
}

[data-theme="matrix"] .whale-tx-amount .xtz {
    color: #00ff00;
}

[data-theme="matrix"] .whale-tx-whale {
    border-left-color: #00ff00;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .whale-section {
        padding: 0;
        margin-bottom: 1.5rem;
    }
    
    .whale-section-inner {
        padding: 16px;
        border-radius: 12px;
    }
    
    .whale-tx {
        width: 180px;
        padding: 0.75rem;
    }
    
    .whale-tx-amount {
        font-size: 1.25rem;
    }
}

/* Mobile tabs integration - whale section shows with overview only if enabled */
body.mobile-tabs-active .whale-section {
    display: none !important;
}

body.mobile-tabs-active[data-active-tab="overview"] .whale-section.visible {
    display: block !important;
}

/* Mobile tabs integration - my-baker & calculator show with overview only if enabled */
body.mobile-tabs-active .my-baker-section {
    display: none !important;
}

body.mobile-tabs-active[data-active-tab="overview"] .my-baker-section.visible {
    display: block !important;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .whale-tx-new,
    .whale-tx-exit {
        animation: none;
    }
}

/* Tezos Domains styling */
.whale-tx-addr .domain-name {
    color: var(--accent-cyan);
    font-weight: 500;
}

[data-theme="matrix"] .whale-tx-addr .domain-name {
    color: #00ff00;
}

/* Whale toggle button */
#my-baker-toggle {
    opacity: 0.5;
}

#my-baker-toggle.active {
    opacity: 1;
}

#calc-toggle {
    opacity: 0.5;
}

#calc-toggle.active {
    opacity: 1;
}

#briefing-toggle.active {
    opacity: 1 !important;
}

#briefing-toggle:not(.active) {
    opacity: 0.5 !important;
}

#price-intel-toggle.active {
    opacity: 1 !important;
}

#price-intel-toggle:not(.active) {
    opacity: 0.5 !important;
}

#objkt-toggle {
    opacity: 0.5;
}

#objkt-toggle.active {
    opacity: 1;
}

#comparison-toggle {
    opacity: 0.5;
}

#comparison-toggle.active {
    opacity: 1;
}

/* Toggleable sections (hidden by default, shown with .visible) */
.toggleable-section {
    display: none;
    padding: 0;
}

.toggleable-section.visible {
    display: block;
}

/* Mobile tabs integration for toggleable sections */
body.mobile-tabs-active .toggleable-section {
    display: none !important;
}

body.mobile-tabs-active[data-active-tab="overview"] .toggleable-section.visible {
    display: block !important;
}

#tezos-stats-toggle {
    opacity: 1;
}

#tezos-stats-toggle:not(.active) {
    opacity: 0.5;
}

#comparison-toggle {
    opacity: 1;
}

#comparison-toggle:not(.active) {
    opacity: 0.5;
}

#leaderboard-toggle {
    opacity: 0.5;
}

#leaderboard-toggle.active {
    opacity: 1;
}

#whale-toggle {
    opacity: 0.5;
}

#whale-toggle.active {
    opacity: 1;
}

/* Whale section hidden by default */
.whale-section,
.giants-section {
    display: none;
    max-width: 1200px;
    margin: 0 auto 5rem;
    padding: 0;
    transition: margin-bottom 0.3s ease;
}

.whale-section.visible,
.giants-section.visible {
    display: block;
}

.whale-section.collapsed,
.giants-section.collapsed {
    margin-bottom: 1rem;
}

.whale-section.collapsed .section-header,
.giants-section.collapsed .section-header {
    margin-bottom: 0;
}

.whale-section:hover .section-title,
.giants-section:hover .section-title {
    color: var(--accent-cyan);
    text-shadow: 0 0 10px var(--accent-cyan);
}

/* History modal scrollbar theming */
.modal-large::-webkit-scrollbar {
    width: 8px;
}

.modal-large::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.modal-large::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--accent-cyan) 0%, var(--accent-purple) 100%);
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

.modal-large::-webkit-scrollbar-thumb:hover {
    background: var(--accent-cyan);
    box-shadow: 0 0 10px var(--accent-cyan);
}

/* Firefox scrollbar */
.modal-large {
    scrollbar-width: thin;
    scrollbar-color: var(--accent-cyan) rgba(0, 0, 0, 0.3);
}

/* Fix word-spacing in protocol history modals (mobile rendering bug) */
#protocol-history-modal .modal-large *,
#history-modal .modal-large * {
    word-spacing: 0.15em !important;
    text-rendering: geometricPrecision;
    -webkit-text-size-adjust: 100%;
}

.history-versus-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}
@media (max-width: 800px) {
    .history-versus-grid {
        grid-template-columns: 1fr;
    }
}

/* Matrix theme scrollbar */
[data-theme="matrix"] .modal-large::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #00ff00 0%, #00aa00 100%);
}

[data-theme="matrix"] .modal-large::-webkit-scrollbar-thumb:hover {
    background: #00ff00;
    box-shadow: 0 0 10px #00ff00;
}

[data-theme="matrix"] .modal-large {
    scrollbar-color: #00ff00 rgba(0, 0, 0, 0.3);
}

/* Share modal scrollbar theming */
.share-modal-content::-webkit-scrollbar,
.tweet-picker::-webkit-scrollbar {
    width: 8px;
}

.share-modal-content::-webkit-scrollbar-track,
.tweet-picker::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.share-modal-content::-webkit-scrollbar-thumb,
.tweet-picker::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--accent-cyan) 0%, var(--accent-purple) 100%);
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

.share-modal-content::-webkit-scrollbar-thumb:hover,
.tweet-picker::-webkit-scrollbar-thumb:hover {
    background: var(--accent-cyan);
    box-shadow: 0 0 10px var(--accent-cyan);
}

.share-modal-content,
.tweet-picker {
    scrollbar-width: thin;
    scrollbar-color: var(--accent-cyan) rgba(0, 0, 0, 0.3);
}

[data-theme="matrix"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="matrix"] .tweet-picker::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #00ff00 0%, #00aa00 100%);
}

[data-theme="matrix"] .share-modal-content::-webkit-scrollbar-thumb:hover,
[data-theme="matrix"] .tweet-picker::-webkit-scrollbar-thumb:hover {
    background: #00ff00;
    box-shadow: 0 0 10px #00ff00;
}

[data-theme="matrix"] .share-modal-content,
[data-theme="matrix"] .tweet-picker {
    scrollbar-color: #00ff00 rgba(0, 0, 0, 0.3);
}

/* ==========================================
   Sleeping Giants Section
   ========================================== */

/* giants-section rules consolidated below with whale-section */

.giants-section-inner {
    background: none;
    border: none;
    border-radius: 0;
    backdrop-filter: none;
    padding: 0;
}

.giants-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 16px;
}

.giants-title-row {
    display: flex;
    align-items: baseline;
    gap: 12px;
}

.giants-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.giants-subtitle {
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

.giants-stats {
    display: flex;
    gap: 24px;
}

.giants-stat {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.giants-stat .stat-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
    font-family: 'SF Mono', 'Fira Code', monospace;
}

.giants-stat .stat-label {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Giants Grid */
.giants-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
}

/* Giant Card */
.giant-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.giant-card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.giant-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--text-tertiary);
    opacity: 0.5;
}

/* Tier colors */
.giant-ancient::before { background: linear-gradient(90deg, #78716c, #a8a29e); }
.giant-legendary::before { background: linear-gradient(90deg, #fbbf24, #f59e0b); }
.giant-epic::before { background: linear-gradient(90deg, #a855f7, #7c3aed); }
.giant-rare::before { background: linear-gradient(90deg, #3b82f6, #2563eb); }
.giant-common::before { background: linear-gradient(90deg, #6b7280, #9ca3af); }

.giant-rank {
    position: absolute;
    top: 8px;
    right: 12px;
    font-size: 0.7rem;
    color: var(--text-tertiary);
    font-weight: 600;
}

.giant-status {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 8px;
}

.giant-emoji {
    font-size: 1.2rem;
}

.giant-tier {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-secondary);
}

.giant-balance {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text-primary);
    font-family: 'SF Mono', 'Fira Code', monospace;
    margin-bottom: 8px;
}

.giant-balance .xtz {
    font-size: 0.9rem;
    color: var(--accent-cyan);
}

.giant-dormancy {
    display: flex;
    flex-direction: column;
    margin-bottom: 8px;
}

.dormancy-label {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
}

.dormancy-value {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-secondary);
}

.giant-address {
    font-size: 0.7rem;
    color: var(--text-tertiary);
    font-family: 'SF Mono', 'Fira Code', monospace;
}

.giant-heartbeat {
    margin-top: 12px;
    height: 20px;
}

.giant-heartbeat svg {
    width: 100%;
    height: 100%;
}

.giant-heartbeat .flatline {
    fill: none;
    stroke: var(--text-tertiary);
    stroke-width: 1.5;
    opacity: 0.3;
}

/* Loading/Empty states */
.giants-loading,
.giants-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 48px;
    color: var(--text-tertiary);
    text-align: center;
    grid-column: 1 / -1;
}

.giants-loading .loading-icon,
.giants-empty .giants-empty-icon {
    font-size: 2.5rem;
    opacity: 0.5;
}

/* Awakening Alerts */
.awakening-alerts {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
}

.awakening-alert {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.1) 100%);
    border: 1px solid rgba(239, 68, 68, 0.4);
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    animation: alertPulse 2s ease-in-out infinite;
}

@keyframes alertPulse {
    0%, 100% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }
    50% { box-shadow: 0 0 40px rgba(239, 68, 68, 0.5); }
}

.awakening-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.awakening-icon {
    font-size: 1.2rem;
    animation: alertShake 0.5s ease-in-out infinite;
}

@keyframes alertShake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-10deg); }
    75% { transform: rotate(10deg); }
}

.awakening-title {
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #ef4444;
}

.awakening-details {
    display: flex;
    gap: 12px;
    align-items: baseline;
}

.awakening-balance {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
}

.awakening-dormancy {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.awakening-address {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    font-family: monospace;
    margin-top: 8px;
}

.awakening-fade {
    animation: fadeOut 0.5s ease forwards;
}

@keyframes fadeOut {
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* Giants toggle button */
#giants-toggle {
    opacity: 0.5;
}

#giants-toggle.active {
    opacity: 1;
}

/* Matrix theme */
[data-theme="matrix"] .giants-stat .stat-value {
    color: #00ff00;
}

[data-theme="matrix"] .giant-balance .xtz {
    color: #00ff00;
}

[data-theme="matrix"] .awakening-alert {
    background: linear-gradient(135deg, rgba(0, 255, 0, 0.2) 0%, rgba(0, 200, 0, 0.1) 100%);
    border-color: rgba(0, 255, 0, 0.4);
}

[data-theme="matrix"] .awakening-title {
    color: #00ff00;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .giants-section {
        padding: 0;
    }
    
    .giants-section-inner {
        padding: 16px;
    }
    
    .giants-header {
        flex-direction: column;
    }
    
    .giants-stats {
        width: 100%;
        justify-content: space-between;
    }
    
    .giants-stat {
        align-items: center;
    }
    
    .giants-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 12px;
    }
    
    .giant-card {
        padding: 12px;
    }
    
    .giant-balance {
        font-size: 1.2rem;
    }
}

/* Mobile tabs integration */
body.mobile-tabs-active .giants-section {
    display: none !important;
}

body.mobile-tabs-active[data-active-tab="overview"] .giants-section.visible {
    display: block !important;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .awakening-alert {
        animation: none;
    }
    
    .awakening-icon {
        animation: none;
    }
}

/* Awakenings History Log */
.awakenings-history {
    margin-top: 24px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.awakenings-history-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin: 0 0 12px 0;
}

.awakenings-log {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 300px;
    overflow-y: auto;
}

.awakenings-empty {
    color: var(--text-tertiary);
    font-size: 0.85rem;
    font-style: italic;
    padding: 16px;
    text-align: center;
}

.awakening-log-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: rgba(239, 68, 68, 0.05);
    border: 1px solid rgba(239, 68, 68, 0.15);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.awakening-log-item:hover {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.3);
    transform: translateX(4px);
}

.log-item-main {
    display: flex;
    align-items: baseline;
    gap: 8px;
}

.log-balance {
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-primary);
    font-family: 'SF Mono', 'Fira Code', monospace;
}

.log-dormancy {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.log-item-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
}

.log-address {
    font-size: 0.7rem;
    color: var(--text-tertiary);
    font-family: monospace;
}

.log-time {
    font-size: 0.7rem;
    color: var(--accent-cyan);
}

/* Matrix theme */
[data-theme="matrix"] .awakening-log-item {
    background: rgba(0, 255, 0, 0.05);
    border-color: rgba(0, 255, 0, 0.15);
}

[data-theme="matrix"] .awakening-log-item:hover {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.3);
}

[data-theme="matrix"] .log-time {
    color: #00ff00;
}

/* Scrollbar for awakenings log */
.awakenings-log::-webkit-scrollbar {
    width: 6px;
}

.awakenings-log::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
}

.awakenings-log::-webkit-scrollbar-thumb {
    background: rgba(239, 68, 68, 0.3);
    border-radius: 3px;
}

.awakenings-log::-webkit-scrollbar-thumb:hover {
    background: rgba(239, 68, 68, 0.5);
}

[data-theme="matrix"] .awakenings-log::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 0, 0.3);
}

[data-theme="matrix"] .awakenings-log::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 0, 0.5);
}

/* ==========================================
   Protocol Infographic Timeline
   ========================================== */

.infographic-toggle {
    display: block;
    margin-top: 4px;
}

.infographic-toggle-btn {
    background: none;
    border: 1px solid rgba(255, 255, 255, 0.08);
    color: var(--text-tertiary);
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.8px;
    text-transform: uppercase;
    padding: 3px 12px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.infographic-toggle-btn:hover {
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
    background: rgba(0, 212, 255, 0.05);
}

[data-theme="matrix"] .infographic-toggle-btn:hover {
    border-color: #00ff00;
    color: #00ff00;
    background: rgba(0, 255, 0, 0.05);
}

.protocol-infographic {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    margin-top: 0;
}

.protocol-infographic.expanded {
    max-height: 2000px;
    margin-top: 12px;
}

.infographic-inner {
    position: relative;
    padding: 8px 0 8px 28px;
}

/* Vertical connecting line */
.infographic-inner::before {
    content: '';
    position: absolute;
    left: 8px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(180deg, rgba(0, 212, 255, 0.3), rgba(183, 148, 246, 0.3));
    border-radius: 1px;
}

[data-theme="matrix"] .infographic-inner::before {
    background: linear-gradient(180deg, rgba(0, 255, 0, 0.3), rgba(0, 200, 0, 0.15));
}

.infographic-row {
    display: flex;
    align-items: center;
    gap: 10px;
    height: 44px;
    position: relative;
    opacity: 0;
    transform: translateX(-8px);
    animation: infraRowIn 0.3s ease forwards;
}

.protocol-infographic:not(.expanded) .infographic-row {
    animation: none;
    opacity: 0;
}

@keyframes infraRowIn {
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Dot on the vertical line */
.infographic-dot {
    position: absolute;
    left: -24px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--accent-cyan);
    border: 2px solid var(--bg-primary);
    box-shadow: 0 0 6px rgba(0, 212, 255, 0.4);
    flex-shrink: 0;
    z-index: 1;
}

.infographic-row.contentious .infographic-dot {
    background: #f97316;
    box-shadow: 0 0 8px rgba(249, 115, 22, 0.6);
}

.infographic-row.current .infographic-dot {
    background: var(--accent-cyan);
    width: 12px;
    height: 12px;
    left: -25px;
    box-shadow: 0 0 12px rgba(0, 212, 255, 0.6);
}

[data-theme="matrix"] .infographic-dot {
    background: #00ff00;
    box-shadow: 0 0 6px rgba(0, 255, 0, 0.4);
}

[data-theme="matrix"] .infographic-row.contentious .infographic-dot {
    background: #ff4444;
    box-shadow: 0 0 8px rgba(255, 68, 68, 0.6);
}

[data-theme="matrix"] .infographic-row.current .infographic-dot {
    background: #00ff00;
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.6);
}

.infographic-letter {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--text-primary);
    width: 20px;
    text-align: center;
    flex-shrink: 0;
}

.infographic-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary);
    width: 80px;
    flex-shrink: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.infographic-row.current .infographic-name {
    color: var(--accent-cyan);
}

[data-theme="matrix"] .infographic-row.current .infographic-name {
    color: #00ff00;
}

.infographic-date {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    width: 65px;
    flex-shrink: 0;
}

.infographic-headline {
    font-size: 0.7rem;
    color: var(--text-secondary);
    flex: 1;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.infographic-contention {
    font-size: 0.75rem;
    flex-shrink: 0;
    filter: drop-shadow(0 0 4px rgba(255, 80, 80, 0.8));
}

.infographic-tags {
    display: flex;
    gap: 4px;
    flex-shrink: 0;
}

.infographic-tag {
    font-size: 0.6rem;
    padding: 1px 6px;
    border-radius: 3px;
    background: rgba(0, 212, 255, 0.1);
    border: 1px solid rgba(0, 212, 255, 0.2);
    color: var(--accent-cyan);
    white-space: nowrap;
}

[data-theme="matrix"] .infographic-tag {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.2);
    color: #00ff00;
}

.infographic-row.contentious .infographic-tag {
    background: rgba(249, 115, 22, 0.1);
    border-color: rgba(249, 115, 22, 0.25);
    color: #f97316;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .infographic-headline {
        display: none;
    }
    
    .infographic-name {
        width: 70px;
        font-size: 0.65rem;
    }
    
    .infographic-tags {
        display: none;
    }
    
    .infographic-row {
        height: 36px;
    }
}

@media (prefers-reduced-motion: reduce) {
    .infographic-row {
        animation: none;
        opacity: 1;
        transform: none;
    }
    
    .protocol-infographic {
        transition: none;
    }
}

/* ===== Streak Badge ===== */
/* Streak badge — base (matrix green default) */
.streak-badge {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: rgba(0, 10, 0, 0.85);
    border: 1px solid rgba(0, 255, 0, 0.3);
    color: #00ff00;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.82rem;
    font-family: 'Orbitron', sans-serif;
    z-index: 1000;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.4s ease, transform 0.4s ease;
    pointer-events: none;
    box-shadow: 0 2px 12px rgba(0, 255, 0, 0.1);
    letter-spacing: 0.5px;
}

.streak-badge.visible {
    opacity: 1;
    transform: translateY(0);
}

.streak-badge.milestone {
    animation: streak-glow 2s ease-in-out infinite;
    border-color: rgba(0, 255, 0, 0.6);
}

@keyframes streak-glow {
    0%, 100% { box-shadow: 0 2px 12px rgba(0, 255, 0, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(0, 255, 0, 0.4), 0 0 40px rgba(0, 255, 0, 0.15); }
}

/* Default/Cyber theme */
[data-theme="default"] .streak-badge {
    background: rgba(10, 10, 25, 0.85);
    border-color: rgba(0, 229, 255, 0.3);
    color: #00E5FF;
    box-shadow: 0 2px 12px rgba(0, 229, 255, 0.1);
}
[data-theme="default"] .streak-badge.milestone {
    border-color: rgba(0, 229, 255, 0.6);
    animation: streak-glow-default 2s ease-in-out infinite;
}
@keyframes streak-glow-default {
    0%, 100% { box-shadow: 0 2px 12px rgba(0, 229, 255, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(0, 229, 255, 0.4), 0 0 40px rgba(0, 229, 255, 0.15); }
}

/* Void theme */
[data-theme="void"] .streak-badge {
    background: rgba(12, 6, 25, 0.9);
    border-color: rgba(139, 92, 246, 0.3);
    color: #A78BFA;
    box-shadow: 0 2px 12px rgba(139, 92, 246, 0.1);
}
[data-theme="void"] .streak-badge.milestone {
    border-color: rgba(139, 92, 246, 0.6);
    animation: streak-glow-void 2s ease-in-out infinite;
}
@keyframes streak-glow-void {
    0%, 100% { box-shadow: 0 2px 12px rgba(139, 92, 246, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(139, 92, 246, 0.4), 0 0 40px rgba(139, 92, 246, 0.15); }
}

/* Ember theme */
[data-theme="ember"] .streak-badge {
    background: rgba(25, 12, 5, 0.9);
    border-color: rgba(255, 138, 0, 0.3);
    color: #FF8A00;
    font-family: 'Chakra Petch', sans-serif;
    box-shadow: 0 2px 12px rgba(255, 138, 0, 0.1);
}
[data-theme="ember"] .streak-badge.milestone {
    border-color: rgba(255, 138, 0, 0.6);
    animation: streak-glow-ember 2s ease-in-out infinite;
}
@keyframes streak-glow-ember {
    0%, 100% { box-shadow: 0 2px 12px rgba(255, 138, 0, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(255, 138, 0, 0.4), 0 0 40px rgba(255, 138, 0, 0.15); }
}

/* Signal theme */
[data-theme="signal"] .streak-badge {
    background: rgba(8, 18, 20, 0.9);
    border-color: rgba(0, 191, 165, 0.3);
    color: #00BFA5;
    box-shadow: 0 2px 12px rgba(0, 191, 165, 0.1);
}
[data-theme="signal"] .streak-badge.milestone {
    border-color: rgba(0, 191, 165, 0.6);
    animation: streak-glow-signal 2s ease-in-out infinite;
}
@keyframes streak-glow-signal {
    0%, 100% { box-shadow: 0 2px 12px rgba(0, 191, 165, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(0, 191, 165, 0.4), 0 0 40px rgba(0, 191, 165, 0.15); }
}

/* Clean theme */
[data-theme="clean"] .streak-badge {
    background: rgba(255, 255, 255, 0.95);
    border-color: #d5dae2;
    color: #0784c3;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    letter-spacing: 0;
}
[data-theme="clean"] .streak-badge.milestone {
    border-color: #0784c3;
    animation: none;
    box-shadow: 0 2px 12px rgba(7, 132, 195, 0.15);
}

/* Dark theme */
[data-theme="dark"] .streak-badge {
    background: rgba(30, 30, 30, 0.9);
    border-color: #3a3a3a;
    color: #C8C8C8;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    letter-spacing: 0;
}
[data-theme="dark"] .streak-badge.milestone {
    border-color: #666;
    animation: none;
    box-shadow: 0 2px 12px rgba(200, 200, 200, 0.1);
}

/* Bubblegum theme */
[data-theme="bubblegum"] .streak-badge {
    background: rgba(31, 14, 24, 0.9);
    border-color: rgba(255, 105, 180, 0.3);
    color: #FF69B4;
    box-shadow: 0 2px 12px rgba(255, 105, 180, 0.1);
}
[data-theme="bubblegum"] .streak-badge.milestone {
    border-color: rgba(255, 105, 180, 0.6);
    animation: streak-glow-bubblegum 2s ease-in-out infinite;
}
@keyframes streak-glow-bubblegum {
    0%, 100% { box-shadow: 0 2px 12px rgba(255, 105, 180, 0.15); }
    50% { box-shadow: 0 2px 24px rgba(255, 105, 180, 0.4), 0 0 40px rgba(255, 105, 180, 0.15); }
}

@media (max-width: 768px) {
    .streak-badge {
        bottom: 12px;
        left: 12px;
        font-size: 0.72rem;
        padding: 6px 12px;
    }
}

/* ===== Deltas Panel (Since Last Visit) ===== */
.deltas-panel {
    background: rgba(15, 15, 25, 0.95);
    border: 1px solid rgba(0, 255, 0, 0.2);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}
.deltas-panel .deltas-header { color: rgba(0, 255, 0, 0.6); }
.deltas-panel .delta-label { color: #00ff00; }

[data-theme="default"] .deltas-panel {
    background: rgba(10, 10, 30, 0.95);
    border-color: rgba(0, 229, 255, 0.2);
}
[data-theme="default"] .deltas-panel .deltas-header { color: rgba(0, 229, 255, 0.6); }
[data-theme="default"] .deltas-panel .delta-label { color: #e0e0e0; }

[data-theme="void"] .deltas-panel {
    background: rgba(12, 6, 25, 0.95);
    border-color: rgba(139, 92, 246, 0.2);
}
[data-theme="void"] .deltas-panel .deltas-header { color: rgba(139, 92, 246, 0.6); }
[data-theme="void"] .deltas-panel .delta-label { color: #e0d0ff; }

[data-theme="ember"] .deltas-panel {
    background: rgba(25, 12, 5, 0.95);
    border-color: rgba(255, 138, 0, 0.2);
}
[data-theme="ember"] .deltas-panel .deltas-header { color: rgba(255, 138, 0, 0.6); }
[data-theme="ember"] .deltas-panel .delta-label { color: #f0d0a0; }

[data-theme="signal"] .deltas-panel {
    background: rgba(8, 18, 20, 0.95);
    border-color: rgba(0, 191, 165, 0.2);
}
[data-theme="signal"] .deltas-panel .deltas-header { color: rgba(0, 191, 165, 0.6); }
[data-theme="signal"] .deltas-panel .delta-label { color: #d0e8e4; }

[data-theme="clean"] .deltas-panel {
    background: rgba(255, 255, 255, 0.97);
    border: 1px solid #d5dae2;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
}
[data-theme="clean"] .deltas-panel .deltas-header { color: #6c757d; }
[data-theme="clean"] .deltas-panel .delta-label { color: #1e2022; }
[data-theme="clean"] .deltas-panel .deltas-close { color: #6c757d; }
[data-theme="clean"] .deltas-panel .deltas-close:hover { color: #1e2022; }

[data-theme="dark"] .deltas-panel {
    background: rgba(30, 30, 30, 0.95);
    border: 1px solid #3a3a3a;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}
[data-theme="dark"] .deltas-panel .deltas-header { color: #9A9A9A; }
[data-theme="dark"] .deltas-panel .delta-label { color: #E8E8E8; }
[data-theme="dark"] .deltas-panel .deltas-close { color: #9A9A9A; }
[data-theme="dark"] .deltas-panel .deltas-close:hover { color: #E8E8E8; }

[data-theme="bubblegum"] .deltas-panel {
    background: rgba(31, 14, 24, 0.95);
    border-color: rgba(255, 105, 180, 0.2);
}
[data-theme="bubblegum"] .deltas-panel .deltas-header { color: rgba(255, 105, 180, 0.6); }
[data-theme="bubblegum"] .deltas-panel .delta-label { color: #F5E0EE; }

/* ===== Staking Target Gauge ===== */
/* Staking Gauge - full-width row in stats-grid */
/* Stake-O-Meter mini badge in protocol header */
.stake-o-meter-badge {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.15rem 0.25rem !important;
    min-width: 110px;
    overflow: visible;
    position: relative;
}

.stake-o-meter-info {
    position: absolute;
    top: 2px;
    right: 2px;
    width: 18px !important;
    height: 18px !important;
    min-width: unset;
    padding: 0 !important;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.4;
    transition: opacity 0.2s ease;
}

.stake-o-meter-info:hover {
    opacity: 1;
}

.stake-o-meter-badge canvas {
    width: 110px;
    height: 60px;
    display: block;
}

/* Gauge share button handled by share.js (same as other stat-cards) */

/* ==========================================
   MY BAKER SECTION
   ========================================== */

.my-baker-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
}

.my-baker-input {
    flex: 1;
    min-width: 200px;
    padding: 10px 14px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    color: var(--text-primary);
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 0.85rem;
    outline: none;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.my-baker-input:focus {
    border-color: var(--accent-cyan);
    box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
}

.my-baker-input::placeholder {
    color: var(--text-muted);
}

[data-theme="matrix"] .my-baker-input:focus {
    border-color: #00ff00;
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.2);
}

.my-baker-btn {
    width: auto !important;
    padding: 10px 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.my-baker-error {
    color: #ff6b6b;
    font-size: 0.8rem;
    margin-top: 8px;
    min-height: 1.2em;
}

.my-baker-results {
    margin-top: 16px;
}

.my-baker-loading {
    color: var(--text-muted);
    font-size: 0.85rem;
    animation: pulse 2s ease-in-out infinite;
}

.my-baker-loading-matrix {
    display: flex;
    justify-content: center;
    gap: 2px;
    padding: 1.5rem 0;
    flex-wrap: wrap;
    max-width: 280px;
    margin: 0 auto;
}

.matrix-char {
    font-family: 'Orbitron', monospace;
    font-size: 0.75rem;
    color: var(--accent-cyan);
    opacity: 0;
    animation: matrixPulse ease-in-out infinite;
    width: 14px;
    text-align: center;
    line-height: 1.6;
}

[data-theme="matrix"] .matrix-char {
    color: #00ff00;
}

@keyframes matrixPulse {
    0%, 100% { opacity: 0.05; }
    50% { opacity: 0.8; }
}

.my-baker-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

.my-baker-stat {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 14px 16px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    transition: var(--transition);
}

.my-baker-stat:hover {
    border-color: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px);
}

.my-baker-stat-label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.my-baker-stat-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
    word-break: break-all;
}

[data-theme="matrix"] .my-baker-stat-value {
    color: #00ff00;
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.5);
}

[data-theme="matrix"] .my-baker-stat {
    border-color: rgba(0, 255, 0, 0.15);
}

[data-theme="matrix"] .my-baker-stat:hover {
    border-color: rgba(0, 255, 0, 0.3);
}

@media (max-width: 640px) {
    .my-baker-grid {
        grid-template-columns: 1fr 1fr;
    }
}

/* ==========================================
   CAPACITY BARS
   ========================================== */

.capacity-bars {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 12px;
}

.capacity-bar-card {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 16px;
}

.capacity-bar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.capacity-bar-label {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-tertiary);
}

.capacity-bar-pct {
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--accent-cyan);
}

.capacity-bar-track {
    width: 100%;
    height: 12px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 8px;
}

.capacity-bar-fill {
    height: 100%;
    border-radius: 6px;
    background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
    transition: width 0.6s ease;
    min-width: 2px;
}

.capacity-bar-fill.capacity-warning {
    background: linear-gradient(90deg, #f0a030, #ff6b00);
}

.capacity-bar-fill.capacity-critical {
    background: linear-gradient(90deg, #ff4444, #ff0066);
}

.capacity-bar-details {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.capacity-bar-note {
    margin-top: 6px;
    font-size: 0.65rem;
    color: var(--text-tertiary);
    text-align: center;
}

/* Matrix theme */
[data-theme="matrix"] .capacity-bar-pct {
    color: #00ff41;
}

[data-theme="matrix"] .capacity-bar-fill {
    background: linear-gradient(90deg, #00ff41, #00cc33);
}

[data-theme="matrix"] .capacity-bar-fill.capacity-warning {
    background: linear-gradient(90deg, #ffcc00, #ff8800);
}

[data-theme="matrix"] .capacity-bar-fill.capacity-critical {
    background: linear-gradient(90deg, #ff4444, #ff0066);
}

[data-theme="matrix"] .capacity-bar-card {
    border-color: rgba(0, 255, 0, 0.1);
}

@media (max-width: 640px) {
    .capacity-bars {
        grid-template-columns: 1fr;
    }
}

/* ==========================================
   REWARDS CALCULATOR
   ========================================== */

.calc-controls {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: center;
    flex-wrap: wrap;
}

.calc-input-group {
    position: relative;
    flex: 1;
    min-width: 200px;
}

.calc-input {
    width: 100%;
    padding: 0.75rem 2.5rem 0.75rem 1rem;
    background: var(--bg-secondary);
    border: 1px solid var(--accent-cyan);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 1.1rem;
    font-family: inherit;
    outline: none;
    transition: var(--transition);
    box-sizing: border-box;
}

.calc-input::placeholder {
    color: var(--text-tertiary);
}

.calc-input:focus {
    border-color: var(--accent-cyan);
    box-shadow: 0 0 12px rgba(0, 212, 255, 0.15);
}

[data-theme="matrix"] .calc-input {
    border-color: #00ff00;
}

[data-theme="matrix"] .calc-input:focus {
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.15);
}

.calc-input-suffix {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-tertiary);
    font-size: 1.1rem;
    pointer-events: none;
}

.calc-toggle {
    display: flex;
    gap: 0;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--glass-border);
}

.calc-toggle-btn {
    padding: 0.75rem 1.25rem;
    background: var(--glass-bg);
    border: none;
    color: var(--text-secondary);
    font-size: 0.95rem;
    font-family: inherit;
    cursor: pointer;
    transition: var(--transition);
    white-space: nowrap;
}

.calc-toggle-btn.calc-toggle-active {
    background: var(--accent-cyan);
    color: #000;
    font-weight: 600;
}

[data-theme="matrix"] .calc-toggle-btn.calc-toggle-active {
    background: #00ff00;
    color: #000;
}

.calc-toggle-btn:hover:not(.calc-toggle-active) {
    background: rgba(255, 255, 255, 0.05);
}

.calc-info-tooltip {
    display: none;
    position: absolute;
    z-index: 100;
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem 1.25rem;
    max-width: 320px;
    margin-top: 0.5rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.calc-info-tooltip.visible {
    display: block;
}

.calc-info-tooltip h4 {
    margin: 0 0 0.5rem;
    color: var(--text-primary);
}

.calc-info-tooltip p {
    margin: 0.3rem 0;
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.4;
}

.calc-info-tooltip a {
    color: var(--accent-cyan);
    font-size: 0.85rem;
    text-decoration: none;
}

.calc-share {
    display: flex;
    justify-content: center;
    margin-top: 1rem;
}

@media (max-width: 640px) {
    .calc-controls {
        flex-direction: column;
    }
    .calc-input-group {
        width: 100%;
    }
    .calc-toggle {
        width: 100%;
    }
    .calc-toggle-btn {
        flex: 1;
        text-align: center;
    }
}

/* ==========================================
   COMPARISON SECTION - Tezos vs Others
   ========================================== */

.comparison-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

@media (min-width: 640px) {
    .comparison-grid {
        grid-template-columns: repeat(1, 1fr);
    }
}

@media (min-width: 900px) {
    .comparison-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.comparison-card {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur-amount));
    -webkit-backdrop-filter: blur(var(--blur-amount));
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 1.25rem;
    transition: var(--transition);
    position: relative;
}

.comparison-card:hover {
    border-color: rgba(255, 255, 255, 0.12);
    transform: translateY(-3px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
}

.comparison-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.comparison-metric-name {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.comparison-share-btn {
    position: static !important;
    width: 28px;
    height: 28px;
    font-size: 14px;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s ease, background 0.2s ease;
}

.comparison-card:hover .comparison-share-btn {
    opacity: 0.7;
}

.comparison-share-btn:hover {
    opacity: 1 !important;
    background: rgba(255, 255, 255, 0.08);
}

.comparison-columns {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 6px;
}

.comparison-col {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 10px 8px;
    border-radius: 10px;
    transition: var(--transition);
    min-width: 0;
}

.comparison-col-tezos {
    background: rgba(0, 212, 255, 0.06);
    border: 1px solid rgba(0, 212, 255, 0.15);
}

.comparison-col-ethereum,
.comparison-col-solana,
.comparison-col-cardano,
.comparison-col-algorand {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.04);
}

.comparison-chain-name {
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 6px;
}

.comparison-col-tezos .comparison-chain-name {
    color: var(--accent-cyan);
}

.comparison-col-ethereum .comparison-chain-name,
.comparison-col-solana .comparison-chain-name,
.comparison-col-cardano .comparison-chain-name,
.comparison-col-algorand .comparison-chain-name {
    color: rgba(255, 255, 255, 0.4);
}

.comparison-chain-value {
    font-size: 1.1rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 2px;
}

.comparison-col-tezos .comparison-chain-value {
    color: var(--accent-cyan);
    text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
}

.comparison-col-ethereum .comparison-chain-value,
.comparison-col-solana .comparison-chain-value,
.comparison-col-cardano .comparison-chain-value,
.comparison-col-algorand .comparison-chain-value {
    color: rgba(255, 255, 255, 0.5);
}

.comparison-chain-note {
    font-size: 0.65rem;
    color: rgba(255, 255, 255, 0.3);
    margin-top: 2px;
    word-spacing: 0.15em;
    overflow-wrap: break-word;
}

/* Winner highlight */
.comparison-winner {
    box-shadow: 0 0 12px rgba(0, 212, 255, 0.1);
}

.comparison-winner .comparison-chain-value {
    color: #00ff88 !important;
    text-shadow: 0 0 12px rgba(0, 255, 136, 0.4) !important;
}

.comparison-win-badge {
    font-size: 0.55rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #00ff88;
    background: rgba(0, 255, 136, 0.1);
    padding: 2px 8px;
    border-radius: 4px;
    margin-top: 6px;
}

.comparison-footer {
    margin-top: 1rem;
    text-align: center;
}

.comparison-last-updated {
    font-size: 0.7rem;
    color: var(--text-muted);
    letter-spacing: 0.5px;
}

/* Matrix theme overrides */
[data-theme="matrix"] .comparison-col-tezos {
    background: rgba(0, 255, 0, 0.06);
    border-color: rgba(0, 255, 0, 0.15);
}

[data-theme="matrix"] .comparison-col-tezos .comparison-chain-name,
[data-theme="matrix"] .comparison-col-tezos .comparison-chain-value {
    color: #00ff00;
}

[data-theme="matrix"] .comparison-col-tezos .comparison-chain-value {
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
}

[data-theme="matrix"] .comparison-winner {
    box-shadow: 0 0 12px rgba(0, 255, 0, 0.15);
}

[data-theme="matrix"] .comparison-card {
    border-color: rgba(0, 255, 0, 0.1);
}

[data-theme="matrix"] .comparison-card:hover {
    border-color: rgba(0, 255, 0, 0.25);
    box-shadow: 0 8px 32px rgba(0, 255, 0, 0.1);
}

/* Responsive — 5 column comparison */
@media (max-width: 900px) {
    .comparison-columns {
        grid-template-columns: repeat(5, 1fr);
        gap: 4px;
    }
    .comparison-col { padding: 8px 4px; }
    .comparison-chain-value { font-size: 0.85rem; }
    .comparison-chain-name { font-size: 0.58rem; }
}

@media (max-width: 640px) {
    .comparison-card {
        padding: 1rem;
    }
    .comparison-columns {
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: auto auto;
        gap: 4px;
    }
    /* Stack: Tezos/ETH/Solana top row, Cardano/Algorand bottom row centered */
    .comparison-col-cardano {
        grid-column: 1 / 2;
        grid-row: 2;
    }
    .comparison-col-algorand {
        grid-column: 2 / 3;
        grid-row: 2;
    }
    .comparison-chain-value {
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .comparison-chain-value { font-size: 0.8rem; }
    .comparison-chain-name { font-size: 0.55rem; }
    .comparison-col { padding: 6px 3px; }
}

/* ==========================================
   STAKING REWARDS CALCULATOR
   ========================================== */

.calc-container {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur-amount));
    -webkit-backdrop-filter: blur(var(--blur-amount));
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 2rem;
}

.calc-input-row {
    display: flex;
    align-items: flex-end;
    gap: 1.5rem;
    flex-wrap: wrap;
    margin-bottom: 2rem;
}

.calc-amount-wrap {
    flex: 1;
    min-width: 180px;
}

.calc-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.5rem;
}

.calc-input {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    color: var(--text-primary);
    font-size: 1.25rem;
    font-weight: 600;
    font-family: 'Orbitron', monospace;
    outline: none;
    transition: var(--transition);
}

.calc-input::placeholder {
    color: var(--text-muted);
}

.calc-input:focus {
    border-color: var(--accent-cyan);
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.15);
}

[data-theme="matrix"] .calc-input:focus {
    border-color: #00ff00;
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.15);
}

/* Toggle switch */
.calc-toggle-wrap {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding-bottom: 0.25rem;
}

/* Objkt NFT Profile */
.objkt-subsection {
    margin-bottom: 1.25rem;
}

.objkt-subtitle {
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--text-tertiary);
    margin: 0 0 0.5rem;
}

.objkt-collections {
    margin-top: 0.75rem;
}

.objkt-collections-label {
    display: block;
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--text-tertiary);
    margin-bottom: 0.4rem;
}

.objkt-collection-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 0.3rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    gap: 1rem;
}

.objkt-coll-name {
    font-size: 0.85rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 40%;
}

.objkt-coll-stats {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    text-align: right;
    flex-shrink: 0;
}

@media (max-width: 600px) {
    .objkt-collection-row {
        flex-direction: column;
        gap: 0.15rem;
    }
    .objkt-coll-name {
        max-width: 100%;
    }
    .objkt-coll-stats {
        text-align: left;
    }
}

/* (old checkbox toggle removed — now using button group from .calc-toggle-btn) */

/* Baker fields */
.calc-baker-fields {
    margin-bottom: 1.5rem;
}

.calc-baker-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 0.75rem;
}

.calc-baker-row .calc-amount-wrap {
    flex: 1;
}

.calc-baker-row .calc-input {
    width: 100%;
}

@media (max-width: 600px) {
    .calc-baker-row {
        flex-direction: column;
        gap: 0.75rem;
    }
}

/* Baker income breakdown */
.calc-baker-breakdown {
    margin-top: 1.5rem;
    padding: 1rem 1.25rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
}

.calc-baker-breakdown h4 {
    margin: 0 0 0.75rem;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-tertiary);
}

.calc-breakdown-row {
    display: flex;
    justify-content: space-between;
    padding: 0.35rem 0;
    font-size: 0.9rem;
}

.calc-breakdown-label {
    color: var(--text-secondary);
}

.calc-breakdown-value {
    color: var(--text-primary);
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
}

.calc-breakdown-total {
    border-top: 1px solid var(--glass-border);
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    font-weight: 600;
}

.calc-breakdown-total .calc-breakdown-value {
    color: var(--accent-cyan);
}

[data-theme="matrix"] .calc-breakdown-total .calc-breakdown-value {
    color: #00ff00;
}

/* APY badge */
.calc-apy-badge {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.5rem 1.25rem;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(183, 148, 246, 0.1) 100%);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 12px;
}

.calc-apy-label {
    font-size: 0.65rem;
    font-weight: 700;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.calc-apy-value {
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
}

[data-theme="matrix"] .calc-apy-badge {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.3);
}

[data-theme="matrix"] .calc-apy-value {
    color: #00ff00;
}

/* Results grid */
.calc-results-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
}

.calc-result-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1.25rem 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--glass-border);
    border-radius: 14px;
    transition: var(--transition);
}

.calc-result-card:hover {
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.calc-result-period {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 0.5rem;
}

.calc-result-xtz {
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.calc-result-usd {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

/* Compound projection */
.calc-compound {
    border-top: 1px solid var(--glass-border);
    padding-top: 1.5rem;
}

.calc-compound-title {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 1rem;
}

.calc-compound-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.6rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
}

.calc-compound-row:last-child {
    border-bottom: none;
}

.calc-compound-year {
    font-family: 'Orbitron', monospace;
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--accent-cyan);
    min-width: 2.5rem;
}

[data-theme="matrix"] .calc-compound-year {
    color: #00ff00;
}

.calc-compound-xtz {
    font-family: 'Orbitron', monospace;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    min-width: 140px;
}

.calc-compound-earned {
    font-size: 0.8rem;
    color: #10b981;
    margin-left: auto;
}

[data-theme="matrix"] .calc-compound-earned {
    color: #00ff00;
}

/* Responsive */
@media (max-width: 640px) {
    .calc-container {
        padding: 1.25rem;
    }

    .calc-input-row {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }

    .calc-toggle-wrap {
        justify-content: center;
    }

    .calc-apy-badge {
        flex-direction: row;
        gap: 0.5rem;
        justify-content: center;
    }

    .calc-results-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }

    .calc-compound-row {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .calc-compound-earned {
        margin-left: 0;
        width: 100%;
        padding-left: 2.5rem;
    }
}

/* ========================================
   MY BAKER & CALCULATOR TOGGLE SECTIONS
   ======================================== */
.my-baker-section {
    display: none;
    max-width: 1200px;
    margin: 0 auto 5rem;
    padding: 0;
    transition: margin-bottom 0.3s ease;
}

.my-baker-section.visible {
    display: block;
}

.my-baker-section.collapsed {
    margin-bottom: 1rem;
}

.my-baker-section.collapsed .section-header {
    margin-bottom: 0;
}

.my-baker-section-inner {
    background: none;
    border: none;
    border-radius: 0;
    backdrop-filter: none;
    padding: 0;
}

.my-baker-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.my-baker-desc {
    font-size: 0.8rem;
    margin-top: 0;
    color: var(--text-tertiary);
    margin: 0 0 1rem;
    line-height: 1.4;
}

@media (max-width: 768px) {
    .my-baker-section {
        padding: 0;
        margin-bottom: 1.5rem;
    }
}

/* ==========================================
   VOID / EMBER / SIGNAL THEME OVERRIDES
   ========================================== */

/* body::before ambient gradients */
[data-theme="void"] body::before {
    background: radial-gradient(ellipse 60% 50% at 50% 100%, rgba(99, 102, 241, 0.07) 0%, transparent 70%),
                radial-gradient(ellipse 40% 40% at 20% 20%, rgba(139, 92, 246, 0.04) 0%, transparent 60%);
}
[data-theme="ember"] body::before {
    background: radial-gradient(ellipse 80% 30% at 50% 105%, rgba(229, 80, 57, 0.1) 0%, transparent 70%),
                radial-gradient(ellipse 50% 50% at 80% 90%, rgba(255, 99, 72, 0.06) 0%, transparent 60%);
}
[data-theme="signal"] body::before {
    background: radial-gradient(ellipse 50% 40% at 50% 100%, rgba(0, 255, 200, 0.04) 0%, transparent 60%),
                radial-gradient(ellipse 30% 30% at 50% 50%, rgba(0, 210, 211, 0.02) 0%, transparent 50%);
}

/* Scrollbars — Void */
[data-theme="void"] ::-webkit-scrollbar-track { background: rgba(6, 6, 12, 0.3); }
[data-theme="void"] ::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.25); border: 1px solid rgba(99, 102, 241, 0.1); }
[data-theme="void"] ::-webkit-scrollbar-thumb:hover { background: rgba(139, 92, 246, 0.5); box-shadow: 0 0 6px rgba(139, 92, 246, 0.3); }
[data-theme="void"] * { scrollbar-color: rgba(139, 92, 246, 0.25) rgba(6, 6, 12, 0.3); }

/* Scrollbars — Ember */
[data-theme="ember"] ::-webkit-scrollbar-track { background: rgba(13, 8, 6, 0.3); }
[data-theme="ember"] ::-webkit-scrollbar-thumb { background: rgba(255, 159, 67, 0.25); border: 1px solid rgba(229, 80, 57, 0.1); }
[data-theme="ember"] ::-webkit-scrollbar-thumb:hover { background: rgba(255, 159, 67, 0.5); box-shadow: 0 0 6px rgba(255, 99, 72, 0.3); }
[data-theme="ember"] * { scrollbar-color: rgba(255, 159, 67, 0.25) rgba(13, 8, 6, 0.3); }

/* Scrollbars — Signal */
[data-theme="signal"] ::-webkit-scrollbar-track { background: rgba(8, 9, 10, 0.3); }
[data-theme="signal"] ::-webkit-scrollbar-thumb { background: rgba(0, 255, 200, 0.25); border: 1px solid rgba(0, 184, 148, 0.1); }
[data-theme="signal"] ::-webkit-scrollbar-thumb:hover { background: rgba(0, 255, 200, 0.5); box-shadow: 0 0 6px rgba(0, 255, 200, 0.3); }
[data-theme="signal"] * { scrollbar-color: rgba(0, 255, 200, 0.25) rgba(8, 9, 10, 0.3); }

/* --- Price change colors --- */
[data-theme="void"] .price-change.positive { color: #8B5CF6; }
[data-theme="void"] .price-change.negative { color: #ff6b9d; }
[data-theme="ember"] .price-change.positive { color: #FF9F43; }
[data-theme="ember"] .price-change.negative { color: #E55039; }
[data-theme="signal"] .price-change.positive { color: #00FFC8; }
[data-theme="signal"] .price-change.negative { color: #ff4466; }

/* --- CTA buttons --- */
[data-theme="void"] .hero-cta-primary { background: #8B5CF6; box-shadow: 0 0 16px rgba(139, 92, 246, 0.25); }
[data-theme="void"] .hero-cta-primary:hover { box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4); }
[data-theme="ember"] .hero-cta-primary { background: #FF9F43; box-shadow: 0 0 16px rgba(255, 159, 67, 0.25); }
[data-theme="ember"] .hero-cta-primary:hover { box-shadow: 0 4px 20px rgba(255, 159, 67, 0.4); }
[data-theme="signal"] .hero-cta-primary { background: #00FFC8; box-shadow: 0 0 16px rgba(0, 255, 200, 0.25); }
[data-theme="signal"] .hero-cta-primary:hover { box-shadow: 0 4px 20px rgba(0, 255, 200, 0.4); }

/* --- Contention icons --- */
[data-theme="void"] .contention-icon { filter: drop-shadow(0 0 3px rgba(255, 60, 60, 0.7)); }
[data-theme="void"] .timeline-item.contentious:hover .contention-icon { filter: drop-shadow(0 0 8px rgba(255, 60, 60, 1)); }
[data-theme="ember"] .contention-icon { filter: drop-shadow(0 0 3px rgba(255, 60, 60, 0.7)); }
[data-theme="ember"] .timeline-item.contentious:hover .contention-icon { filter: drop-shadow(0 0 8px rgba(255, 60, 60, 1)); }
[data-theme="signal"] .contention-icon { filter: drop-shadow(0 0 3px rgba(255, 60, 60, 0.7)); }
[data-theme="signal"] .timeline-item.contentious:hover .contention-icon { filter: drop-shadow(0 0 8px rgba(255, 60, 60, 1)); }

/* --- Upgrade clock --- */
[data-theme="void"] .upgrade-number { background: linear-gradient(135deg, #8B5CF6 0%, #6366F1 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="void"] .upgrade-badge { background: rgba(139, 92, 246, 0.1); border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .uptime-clock { background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(99, 102, 241, 0.05) 100%); border-color: rgba(139, 92, 246, 0.2); box-shadow: 0 0 20px rgba(139, 92, 246, 0.08), inset 0 1px 0 rgba(255,255,255,0.03); }
[data-theme="void"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #8B5CF6, transparent); }
[data-theme="void"] .uptime-tagline { color: #8B5CF6; }
[data-theme="void"] .uptime-pulse-dot { color: #8B5CF6; }
[data-theme="void"] .badge-text { color: #8B5CF6; }
[data-theme="void"] .voting-dot { background: #8B5CF6; }
[data-theme="void"] .voting-progress-bar { background: linear-gradient(90deg, #8B5CF6, #6366F1); }
[data-theme="void"] .timeline-item.current { background: rgba(139, 92, 246, 0.2); border-color: #8B5CF6; color: #8B5CF6; }
[data-theme="void"] .timeline-item:hover { background: rgba(139, 92, 246, 0.1); border-color: #8B5CF6; }

[data-theme="ember"] .upgrade-number { background: linear-gradient(135deg, #FF9F43 0%, #E55039 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="ember"] .upgrade-badge { background: rgba(255, 159, 67, 0.1); border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .uptime-clock { background: linear-gradient(135deg, rgba(255, 159, 67, 0.08) 0%, rgba(229, 80, 57, 0.05) 100%); border-color: rgba(255, 159, 67, 0.2); box-shadow: 0 0 20px rgba(255, 159, 67, 0.08), inset 0 1px 0 rgba(255,255,255,0.03); }
[data-theme="ember"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #FF9F43, transparent); }
[data-theme="ember"] .uptime-tagline { color: #FF9F43; }
[data-theme="ember"] .uptime-pulse-dot { color: #FF9F43; }
[data-theme="ember"] .badge-text { color: #FF9F43; }
[data-theme="ember"] .voting-dot { background: #FF9F43; }
[data-theme="ember"] .voting-progress-bar { background: linear-gradient(90deg, #FF9F43, #E55039); }
[data-theme="ember"] .timeline-item.current { background: rgba(255, 159, 67, 0.2); border-color: #FF9F43; color: #FF9F43; }
[data-theme="ember"] .timeline-item:hover { background: rgba(255, 159, 67, 0.1); border-color: #FF9F43; }

[data-theme="signal"] .upgrade-number { background: linear-gradient(135deg, #00FFC8 0%, #00B894 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="signal"] .upgrade-badge { background: rgba(0, 255, 200, 0.1); border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .uptime-clock { background: linear-gradient(135deg, rgba(0, 255, 200, 0.08) 0%, rgba(0, 184, 148, 0.05) 100%); border-color: rgba(0, 255, 200, 0.2); box-shadow: 0 0 20px rgba(0, 255, 200, 0.08), inset 0 1px 0 rgba(255,255,255,0.03); }
[data-theme="signal"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #00FFC8, transparent); }
[data-theme="signal"] .uptime-tagline { color: #00FFC8; }
[data-theme="signal"] .uptime-pulse-dot { color: #00FFC8; }
[data-theme="signal"] .badge-text { color: #00FFC8; }
[data-theme="signal"] .voting-dot { background: #00FFC8; }
[data-theme="signal"] .voting-progress-bar { background: linear-gradient(90deg, #00FFC8, #00B894); }
[data-theme="signal"] .timeline-item.current { background: rgba(0, 255, 200, 0.2); border-color: #00FFC8; color: #00FFC8; }
[data-theme="signal"] .timeline-item:hover { background: rgba(0, 255, 200, 0.1); border-color: #00FFC8; }

/* --- Settings dropdown --- */
[data-theme="void"] .settings-dropdown { background: #0a0a14; border-color: rgba(139, 92, 246, 0.15); }
[data-theme="ember"] .settings-dropdown { background: #0f0a08; border-color: rgba(255, 159, 67, 0.15); }
[data-theme="signal"] .settings-dropdown { background: #0a0f0e; border-color: rgba(0, 255, 200, 0.15); }

/* --- Pulse indicators --- */
[data-theme="void"] .glass-button.has-pulse::after { background: #8B5CF6; box-shadow: 0 0 6px rgba(139, 92, 246, 0.6); }
[data-theme="ember"] .glass-button.has-pulse::after { background: #FF9F43; box-shadow: 0 0 6px rgba(255, 159, 67, 0.6); }
[data-theme="signal"] .glass-button.has-pulse::after { background: #00FFC8; box-shadow: 0 0 6px rgba(0, 255, 200, 0.6); }

/* --- Ultra toggle active --- */
[data-theme="void"] #ultra-toggle.active { background: rgba(139, 92, 246, 0.2); border-color: rgba(139, 92, 246, 0.4); box-shadow: 0 0 15px rgba(139, 92, 246, 0.3); }
[data-theme="ember"] #ultra-toggle.active { background: rgba(255, 159, 67, 0.2); border-color: rgba(255, 159, 67, 0.4); box-shadow: 0 0 15px rgba(255, 159, 67, 0.3); }
[data-theme="signal"] #ultra-toggle.active { background: rgba(0, 255, 200, 0.2); border-color: rgba(0, 255, 200, 0.4); box-shadow: 0 0 15px rgba(0, 255, 200, 0.3); }

/* --- Trend arrows --- */
[data-theme="void"] .trend-arrow.up { color: #8B5CF6; }
[data-theme="void"] .trend-arrow.down { color: #ff6b9d; }
[data-theme="void"] .trend-arrow.up.inverted { color: #ff6b9d; }
[data-theme="void"] .trend-arrow.down.inverted { color: #8B5CF6; }

[data-theme="ember"] .trend-arrow.up { color: #FF9F43; }
[data-theme="ember"] .trend-arrow.down { color: #E55039; }
[data-theme="ember"] .trend-arrow.up.inverted { color: #E55039; }
[data-theme="ember"] .trend-arrow.down.inverted { color: #FF9F43; }

[data-theme="signal"] .trend-arrow.up { color: #00FFC8; }
[data-theme="signal"] .trend-arrow.down { color: #ff4466; }
[data-theme="signal"] .trend-arrow.up.inverted { color: #ff4466; }
[data-theme="signal"] .trend-arrow.down.inverted { color: #00FFC8; }

/* --- History modal --- */
[data-theme="void"] .modal-large { border-color: rgba(139, 92, 246, 0.2); box-shadow: 0 0 60px rgba(139, 92, 246, 0.15), 0 0 100px rgba(0, 0, 0, 0.8); }
[data-theme="void"] .modal-large .modal-title { background: linear-gradient(90deg, #8B5CF6, #6366F1); -webkit-background-clip: text; background-clip: text; }
[data-theme="void"] .time-range-btn { border-color: rgba(139, 92, 246, 0.2); }
[data-theme="void"] .time-range-btn:hover { background: rgba(139, 92, 246, 0.1); border-color: rgba(139, 92, 246, 0.4); box-shadow: 0 4px 20px rgba(139, 92, 246, 0.2); }
[data-theme="void"] .time-range-btn.active { background: rgba(139, 92, 246, 0.15); border-color: #8B5CF6; box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), inset 0 0 20px rgba(139, 92, 246, 0.1); }
[data-theme="void"] .chart-section::before { background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.3), transparent); }
[data-theme="void"] .chart-section h4 { color: #8B5CF6; text-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
[data-theme="void"] .chart-section canvas { filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.2)); }
[data-theme="void"] .chart-stats .stat-value.positive { color: #8B5CF6; text-shadow: 0 0 10px rgba(139, 92, 246, 0.5); }

[data-theme="ember"] .modal-large { border-color: rgba(255, 159, 67, 0.2); box-shadow: 0 0 60px rgba(255, 159, 67, 0.15), 0 0 100px rgba(0, 0, 0, 0.8); }
[data-theme="ember"] .modal-large .modal-title { background: linear-gradient(90deg, #FF9F43, #E55039); -webkit-background-clip: text; background-clip: text; }
[data-theme="ember"] .time-range-btn { border-color: rgba(255, 159, 67, 0.2); }
[data-theme="ember"] .time-range-btn:hover { background: rgba(255, 159, 67, 0.1); border-color: rgba(255, 159, 67, 0.4); box-shadow: 0 4px 20px rgba(255, 159, 67, 0.2); }
[data-theme="ember"] .time-range-btn.active { background: rgba(255, 159, 67, 0.15); border-color: #FF9F43; box-shadow: 0 0 20px rgba(255, 159, 67, 0.3), inset 0 0 20px rgba(255, 159, 67, 0.1); }
[data-theme="ember"] .chart-section::before { background: linear-gradient(90deg, transparent, rgba(255, 159, 67, 0.3), transparent); }
[data-theme="ember"] .chart-section h4 { color: #FF9F43; text-shadow: 0 0 20px rgba(255, 159, 67, 0.5); }
[data-theme="ember"] .chart-section canvas { filter: drop-shadow(0 0 8px rgba(255, 159, 67, 0.2)); }
[data-theme="ember"] .chart-stats .stat-value.positive { color: #FF9F43; text-shadow: 0 0 10px rgba(255, 159, 67, 0.5); }

[data-theme="signal"] .modal-large { border-color: rgba(0, 255, 200, 0.2); box-shadow: 0 0 60px rgba(0, 255, 200, 0.15), 0 0 100px rgba(0, 0, 0, 0.8); }
[data-theme="signal"] .modal-large .modal-title { background: linear-gradient(90deg, #00FFC8, #00B894); -webkit-background-clip: text; background-clip: text; }
[data-theme="signal"] .time-range-btn { border-color: rgba(0, 255, 200, 0.2); }
[data-theme="signal"] .time-range-btn:hover { background: rgba(0, 255, 200, 0.1); border-color: rgba(0, 255, 200, 0.4); box-shadow: 0 4px 20px rgba(0, 255, 200, 0.2); }
[data-theme="signal"] .time-range-btn.active { background: rgba(0, 255, 200, 0.15); border-color: #00FFC8; box-shadow: 0 0 20px rgba(0, 255, 200, 0.3), inset 0 0 20px rgba(0, 255, 200, 0.1); }
[data-theme="signal"] .chart-section::before { background: linear-gradient(90deg, transparent, rgba(0, 255, 200, 0.3), transparent); }
[data-theme="signal"] .chart-section h4 { color: #00FFC8; text-shadow: 0 0 20px rgba(0, 255, 200, 0.5); }
[data-theme="signal"] .chart-section canvas { filter: drop-shadow(0 0 8px rgba(0, 255, 200, 0.2)); }
[data-theme="signal"] .chart-stats .stat-value.positive { color: #00FFC8; text-shadow: 0 0 10px rgba(0, 255, 200, 0.5); }

/* --- Glass button hover --- */
[data-theme="void"] .glass-button:hover { border-color: rgba(139, 92, 246, 0.5); box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
[data-theme="ember"] .glass-button:hover { border-color: rgba(255, 159, 67, 0.5); box-shadow: 0 0 20px rgba(255, 159, 67, 0.3); }
[data-theme="signal"] .glass-button:hover { border-color: rgba(0, 255, 200, 0.5); box-shadow: 0 0 20px rgba(0, 255, 200, 0.3); }

/* --- Stat card borders --- */
[data-theme="void"] .stat-card { border-color: rgba(139, 92, 246, 0.2); }
[data-theme="void"] .stat-card:hover { border-color: rgba(139, 92, 246, 0.4); box-shadow: 0 8px 32px rgba(139, 92, 246, 0.15); }
[data-theme="ember"] .stat-card { border-color: rgba(255, 159, 67, 0.2); }
[data-theme="ember"] .stat-card:hover { border-color: rgba(255, 159, 67, 0.4); box-shadow: 0 8px 32px rgba(255, 159, 67, 0.15); }
[data-theme="signal"] .stat-card { border-color: rgba(0, 255, 200, 0.2); }
[data-theme="signal"] .stat-card:hover { border-color: rgba(0, 255, 200, 0.4); box-shadow: 0 8px 32px rgba(0, 255, 200, 0.15); }

/* --- Toolbar CTA hover --- */
[data-theme="void"] .toolbar-cta:hover { box-shadow: 0 0 12px rgba(139, 92, 246, 0.3); }
[data-theme="ember"] .toolbar-cta:hover { box-shadow: 0 0 12px rgba(255, 159, 67, 0.3); }
[data-theme="signal"] .toolbar-cta:hover { box-shadow: 0 0 12px rgba(0, 255, 200, 0.3); }

/* --- Ultra selector --- */
[data-theme="void"] .ultra-selector { border-color: rgba(139, 92, 246, 0.2); }
[data-theme="void"] .ultra-selector-title, [data-theme="void"] .ultra-mode-icon { color: #8B5CF6; }
[data-theme="void"] .ultra-mode-btn.active { background: rgba(139, 92, 246, 0.1); border-color: #8B5CF6; }
[data-theme="void"] .ultra-selector-footer button.active { background: rgba(139, 92, 246, 0.2); border-color: #8B5CF6; color: #8B5CF6; box-shadow: 0 0 20px rgba(139, 92, 246, 0.2); }

[data-theme="ember"] .ultra-selector { border-color: rgba(255, 159, 67, 0.2); }
[data-theme="ember"] .ultra-selector-title, [data-theme="ember"] .ultra-mode-icon { color: #FF9F43; }
[data-theme="ember"] .ultra-mode-btn.active { background: rgba(255, 159, 67, 0.1); border-color: #FF9F43; }
[data-theme="ember"] .ultra-selector-footer button.active { background: rgba(255, 159, 67, 0.2); border-color: #FF9F43; color: #FF9F43; box-shadow: 0 0 20px rgba(255, 159, 67, 0.2); }

[data-theme="signal"] .ultra-selector { border-color: rgba(0, 255, 200, 0.2); }
[data-theme="signal"] .ultra-selector-title, [data-theme="signal"] .ultra-mode-icon { color: #00FFC8; }
[data-theme="signal"] .ultra-mode-btn.active { background: rgba(0, 255, 200, 0.1); border-color: #00FFC8; }
[data-theme="signal"] .ultra-selector-footer button.active { background: rgba(0, 255, 200, 0.2); border-color: #00FFC8; color: #00FFC8; box-shadow: 0 0 20px rgba(0, 255, 200, 0.2); }

/* --- Hex/scanline/bracket ultra effects --- */
[data-theme="void"] .stat-card.hex-active::before { color: #8B5CF6; }
[data-theme="ember"] .stat-card.hex-active::before { color: #FF9F43; }
[data-theme="signal"] .stat-card.hex-active::before { color: #00FFC8; }

/* --- Share action button --- */
[data-theme="void"] .share-action-btn:hover { border-color: #8B5CF6; color: #8B5CF6; }
[data-theme="ember"] .share-action-btn:hover { border-color: #FF9F43; color: #FF9F43; }
[data-theme="signal"] .share-action-btn:hover { border-color: #00FFC8; color: #00FFC8; }

/* --- Tab button --- */
[data-theme="void"] .tab-button::after { background: #8B5CF6; }
[data-theme="ember"] .tab-button::after { background: #FF9F43; }
[data-theme="signal"] .tab-button::after { background: #00FFC8; }

/* --- Whale tracker --- */
[data-theme="void"] .whale-tx:hover { border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .whale-tx-amount .xtz { color: #8B5CF6; }
[data-theme="void"] .whale-tx-whale { color: #C084FC; }
[data-theme="void"] .whale-tx-addr .domain-name { color: #8B5CF6; }

[data-theme="ember"] .whale-tx:hover { border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .whale-tx-amount .xtz { color: #FF9F43; }
[data-theme="ember"] .whale-tx-whale { color: #FF6348; }
[data-theme="ember"] .whale-tx-addr .domain-name { color: #FF9F43; }

[data-theme="signal"] .whale-tx:hover { border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .whale-tx-amount .xtz { color: #00FFC8; }
[data-theme="signal"] .whale-tx-whale { color: #55E6C1; }
[data-theme="signal"] .whale-tx-addr .domain-name { color: #00FFC8; }

/* --- Modal scrollbars --- */
[data-theme="void"] .modal-large::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .modal-large::-webkit-scrollbar-thumb:hover { background: rgba(139, 92, 246, 0.5); }
[data-theme="void"] .modal-large { scrollbar-color: rgba(139, 92, 246, 0.3) rgba(6, 6, 12, 0.3); }

[data-theme="ember"] .modal-large::-webkit-scrollbar-thumb { background: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .modal-large::-webkit-scrollbar-thumb:hover { background: rgba(255, 159, 67, 0.5); }
[data-theme="ember"] .modal-large { scrollbar-color: rgba(255, 159, 67, 0.3) rgba(13, 8, 6, 0.3); }

[data-theme="signal"] .modal-large::-webkit-scrollbar-thumb { background: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .modal-large::-webkit-scrollbar-thumb:hover { background: rgba(0, 255, 200, 0.5); }
[data-theme="signal"] .modal-large { scrollbar-color: rgba(0, 255, 200, 0.3) rgba(8, 9, 10, 0.3); }

/* --- Share modal scrollbars --- */
[data-theme="void"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="void"] .tweet-picker::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); }
[data-theme="ember"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="ember"] .tweet-picker::-webkit-scrollbar-thumb { background: rgba(255, 159, 67, 0.3); }
[data-theme="signal"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="signal"] .tweet-picker::-webkit-scrollbar-thumb { background: rgba(0, 255, 200, 0.3); }

/* --- Sleeping Giants --- */
[data-theme="void"] .giants-stat .stat-value { color: #8B5CF6; }
[data-theme="void"] .giant-balance .xtz { color: #8B5CF6; }
[data-theme="void"] .awakening-alert { border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .awakening-title { color: #8B5CF6; }

[data-theme="ember"] .giants-stat .stat-value { color: #FF9F43; }
[data-theme="ember"] .giant-balance .xtz { color: #FF9F43; }
[data-theme="ember"] .awakening-alert { border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .awakening-title { color: #FF9F43; }

[data-theme="signal"] .giants-stat .stat-value { color: #00FFC8; }
[data-theme="signal"] .giant-balance .xtz { color: #00FFC8; }
[data-theme="signal"] .awakening-alert { border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .awakening-title { color: #00FFC8; }

/* --- Awakening log --- */
[data-theme="void"] .awakening-log-item { border-color: rgba(139, 92, 246, 0.1); }
[data-theme="void"] .awakening-log-item:hover { border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .log-time { color: #8B5CF6; }
[data-theme="void"] .awakenings-log::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); }

[data-theme="ember"] .awakening-log-item { border-color: rgba(255, 159, 67, 0.1); }
[data-theme="ember"] .awakening-log-item:hover { border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .log-time { color: #FF9F43; }
[data-theme="ember"] .awakenings-log::-webkit-scrollbar-thumb { background: rgba(255, 159, 67, 0.3); }

[data-theme="signal"] .awakening-log-item { border-color: rgba(0, 255, 200, 0.1); }
[data-theme="signal"] .awakening-log-item:hover { border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .log-time { color: #00FFC8; }
[data-theme="signal"] .awakenings-log::-webkit-scrollbar-thumb { background: rgba(0, 255, 200, 0.3); }

/* --- Infographic --- */
[data-theme="void"] .infographic-toggle-btn:hover { border-color: #8B5CF6; color: #8B5CF6; }
[data-theme="void"] .infographic-inner::before { background: linear-gradient(180deg, #8B5CF6 0%, rgba(139, 92, 246, 0.2) 100%); }
[data-theme="void"] .infographic-dot { background: #6366F1; box-shadow: 0 0 6px rgba(99, 102, 241, 0.4); }
[data-theme="void"] .infographic-row.current .infographic-dot { background: #8B5CF6; box-shadow: 0 0 10px rgba(139, 92, 246, 0.6); }
[data-theme="void"] .infographic-row.current .infographic-name { color: #8B5CF6; }
[data-theme="void"] .infographic-tag { border-color: rgba(139, 92, 246, 0.2); color: #9B97C9; }

[data-theme="ember"] .infographic-toggle-btn:hover { border-color: #FF9F43; color: #FF9F43; }
[data-theme="ember"] .infographic-inner::before { background: linear-gradient(180deg, #FF9F43 0%, rgba(255, 159, 67, 0.2) 100%); }
[data-theme="ember"] .infographic-dot { background: #E55039; box-shadow: 0 0 6px rgba(229, 80, 57, 0.4); }
[data-theme="ember"] .infographic-row.current .infographic-dot { background: #FF9F43; box-shadow: 0 0 10px rgba(255, 159, 67, 0.6); }
[data-theme="ember"] .infographic-row.current .infographic-name { color: #FF9F43; }
[data-theme="ember"] .infographic-tag { border-color: rgba(255, 159, 67, 0.2); color: #C9A88A; }

[data-theme="signal"] .infographic-toggle-btn:hover { border-color: #00FFC8; color: #00FFC8; }
[data-theme="signal"] .infographic-inner::before { background: linear-gradient(180deg, #00FFC8 0%, rgba(0, 255, 200, 0.2) 100%); }
[data-theme="signal"] .infographic-dot { background: #00B894; box-shadow: 0 0 6px rgba(0, 184, 148, 0.4); }
[data-theme="signal"] .infographic-row.current .infographic-dot { background: #00FFC8; box-shadow: 0 0 10px rgba(0, 255, 200, 0.6); }
[data-theme="signal"] .infographic-row.current .infographic-name { color: #00FFC8; }
[data-theme="signal"] .infographic-tag { border-color: rgba(0, 255, 200, 0.2); color: #7FB5AD; }

/* --- My Baker input focus --- */
[data-theme="void"] .my-baker-input:focus { border-color: #8B5CF6; box-shadow: 0 0 10px rgba(139, 92, 246, 0.2); }
[data-theme="ember"] .my-baker-input:focus { border-color: #FF9F43; box-shadow: 0 0 10px rgba(255, 159, 67, 0.2); }
[data-theme="signal"] .my-baker-input:focus { border-color: #00FFC8; box-shadow: 0 0 10px rgba(0, 255, 200, 0.2); }

/* --- My Baker stats --- */
[data-theme="void"] .my-baker-stat-value { color: #8B5CF6; }
[data-theme="void"] .my-baker-stat { border-color: rgba(139, 92, 246, 0.1); }
[data-theme="void"] .my-baker-stat:hover { border-color: rgba(139, 92, 246, 0.3); }

[data-theme="ember"] .my-baker-stat-value { color: #FF9F43; }
[data-theme="ember"] .my-baker-stat { border-color: rgba(255, 159, 67, 0.1); }
[data-theme="ember"] .my-baker-stat:hover { border-color: rgba(255, 159, 67, 0.3); }

[data-theme="signal"] .my-baker-stat-value { color: #00FFC8; }
[data-theme="signal"] .my-baker-stat { border-color: rgba(0, 255, 200, 0.1); }
[data-theme="signal"] .my-baker-stat:hover { border-color: rgba(0, 255, 200, 0.3); }

/* --- Capacity bar --- */
[data-theme="void"] .capacity-bar-pct { color: #8B5CF6; }
[data-theme="void"] .capacity-bar-fill { background: linear-gradient(90deg, #6366F1, #8B5CF6); }
[data-theme="void"] .capacity-bar-card { border-color: rgba(139, 92, 246, 0.1); }

[data-theme="ember"] .capacity-bar-pct { color: #FF9F43; }
[data-theme="ember"] .capacity-bar-fill { background: linear-gradient(90deg, #E55039, #FF9F43); }
[data-theme="ember"] .capacity-bar-card { border-color: rgba(255, 159, 67, 0.1); }

[data-theme="signal"] .capacity-bar-pct { color: #00FFC8; }
[data-theme="signal"] .capacity-bar-fill { background: linear-gradient(90deg, #00B894, #00FFC8); }
[data-theme="signal"] .capacity-bar-card { border-color: rgba(0, 255, 200, 0.1); }

/* --- Calculator --- */
[data-theme="void"] .calc-input:focus { border-color: #8B5CF6; box-shadow: 0 0 10px rgba(139, 92, 246, 0.2); }
[data-theme="void"] .calc-toggle-btn.calc-toggle-active { background: rgba(139, 92, 246, 0.2); border-color: #8B5CF6; color: #8B5CF6; }
[data-theme="void"] .calc-apy-badge { border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .calc-apy-value { color: #8B5CF6; }
[data-theme="void"] .calc-breakdown-total .calc-breakdown-value { color: #8B5CF6; }
[data-theme="void"] .calc-compound-year { border-color: rgba(139, 92, 246, 0.1); }
[data-theme="void"] .calc-compound-earned { color: #8B5CF6; }

[data-theme="ember"] .calc-input:focus { border-color: #FF9F43; box-shadow: 0 0 10px rgba(255, 159, 67, 0.2); }
[data-theme="ember"] .calc-toggle-btn.calc-toggle-active { background: rgba(255, 159, 67, 0.2); border-color: #FF9F43; color: #FF9F43; }
[data-theme="ember"] .calc-apy-badge { border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .calc-apy-value { color: #FF9F43; }
[data-theme="ember"] .calc-breakdown-total .calc-breakdown-value { color: #FF9F43; }
[data-theme="ember"] .calc-compound-year { border-color: rgba(255, 159, 67, 0.1); }
[data-theme="ember"] .calc-compound-earned { color: #FF9F43; }

[data-theme="signal"] .calc-input:focus { border-color: #00FFC8; box-shadow: 0 0 10px rgba(0, 255, 200, 0.2); }
[data-theme="signal"] .calc-toggle-btn.calc-toggle-active { background: rgba(0, 255, 200, 0.2); border-color: #00FFC8; color: #00FFC8; }
[data-theme="signal"] .calc-apy-badge { border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .calc-apy-value { color: #00FFC8; }
[data-theme="signal"] .calc-breakdown-total .calc-breakdown-value { color: #00FFC8; }
[data-theme="signal"] .calc-compound-year { border-color: rgba(0, 255, 200, 0.1); }
[data-theme="signal"] .calc-compound-earned { color: #00FFC8; }

/* --- Comparison --- */
[data-theme="void"] .comparison-col-tezos { border-color: rgba(139, 92, 246, 0.3); }
[data-theme="void"] .comparison-col-tezos .comparison-chain-name,
[data-theme="void"] .comparison-col-tezos .comparison-chain-value { color: #8B5CF6; }
[data-theme="void"] .comparison-winner { color: #8B5CF6; }
[data-theme="void"] .comparison-card { border-color: rgba(139, 92, 246, 0.1); }
[data-theme="void"] .comparison-card:hover { border-color: rgba(139, 92, 246, 0.3); }

[data-theme="ember"] .comparison-col-tezos { border-color: rgba(255, 159, 67, 0.3); }
[data-theme="ember"] .comparison-col-tezos .comparison-chain-name,
[data-theme="ember"] .comparison-col-tezos .comparison-chain-value { color: #FF9F43; }
[data-theme="ember"] .comparison-winner { color: #FF9F43; }
[data-theme="ember"] .comparison-card { border-color: rgba(255, 159, 67, 0.1); }
[data-theme="ember"] .comparison-card:hover { border-color: rgba(255, 159, 67, 0.3); }

[data-theme="signal"] .comparison-col-tezos { border-color: rgba(0, 255, 200, 0.3); }
[data-theme="signal"] .comparison-col-tezos .comparison-chain-name,
[data-theme="signal"] .comparison-col-tezos .comparison-chain-value { color: #00FFC8; }
[data-theme="signal"] .comparison-winner { color: #00FFC8; }
[data-theme="signal"] .comparison-card { border-color: rgba(0, 255, 200, 0.1); }
[data-theme="signal"] .comparison-card:hover { border-color: rgba(0, 255, 200, 0.3); }

/* ============================================================
   THEME-SPECIFIC DISPLAY FONTS
   Each theme overrides Orbitron with its signature typeface.
   ============================================================ */

/* --- Matrix: keeps Orbitron (default font) — no override needed --- */

/* --- Void: Exo 2 --- */
[data-theme="void"] .title {
    font-family: 'Exo 2', 'Orbitron', sans-serif !important;
    font-weight: 300 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.2em !important;
    background: linear-gradient(135deg, #BF40FF, #FF40A0) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    text-shadow: none !important;
    filter: drop-shadow(0 0 8px rgba(191,64,255,0.4)) !important;
}
[data-theme="void"] .upgrade-number,
[data-theme="void"] .current-name,
[data-theme="void"] .stat-value,
[data-theme="void"] .price-label,
[data-theme="void"] .price-value,
[data-theme="void"] .price-change,
[data-theme="void"] .badge-text,
[data-theme="void"] .chart-section h4,
[data-theme="void"] .infographic-letter,
[data-theme="void"] .infographic-name,
[data-theme="void"] .about-tezos-stat-value,
[data-theme="void"] .calc-breakdown-value,
[data-theme="void"] .calc-apy-value,
[data-theme="void"] .calc-result-xtz,
[data-theme="void"] .calc-compound-year,
[data-theme="void"] .calc-compound-xtz,
[data-theme="void"] .my-baker-title {
    font-family: 'Exo 2', 'Orbitron', sans-serif;
    font-weight: 400;
}

/* --- Ember: Chakra Petch --- */
[data-theme="ember"] .title,
[data-theme="ember"] .upgrade-number,
[data-theme="ember"] .current-name,
[data-theme="ember"] .stat-value,
[data-theme="ember"] .price-label,
[data-theme="ember"] .price-value,
[data-theme="ember"] .price-change,
[data-theme="ember"] .badge-text,
[data-theme="ember"] .chart-section h4,
[data-theme="ember"] .infographic-letter,
[data-theme="ember"] .infographic-name,
[data-theme="ember"] .about-tezos-stat-value,
[data-theme="ember"] .calc-breakdown-value,
[data-theme="ember"] .calc-apy-value,
[data-theme="ember"] .calc-result-xtz,
[data-theme="ember"] .calc-compound-year,
[data-theme="ember"] .calc-compound-xtz,
[data-theme="ember"] .my-baker-title {
    font-family: 'Chakra Petch', 'Orbitron', sans-serif;
    font-weight: 700;
}

/* --- Signal: IBM Plex Mono --- */
[data-theme="signal"] .title,
[data-theme="signal"] .upgrade-number,
[data-theme="signal"] .current-name,
[data-theme="signal"] .stat-value,
[data-theme="signal"] .price-label,
[data-theme="signal"] .price-value,
[data-theme="signal"] .price-change,
[data-theme="signal"] .badge-text,
[data-theme="signal"] .chart-section h4,
[data-theme="signal"] .infographic-letter,
[data-theme="signal"] .infographic-name,
[data-theme="signal"] .about-tezos-stat-value,
[data-theme="signal"] .calc-breakdown-value,
[data-theme="signal"] .calc-apy-value,
[data-theme="signal"] .calc-result-xtz,
[data-theme="signal"] .calc-compound-year,
[data-theme="signal"] .calc-compound-xtz,
[data-theme="signal"] .my-baker-title {
    font-family: 'IBM Plex Mono', 'Courier New', monospace;
    font-weight: 500;
}

/* Ember title treatment — Chakra Petch, amber with firelight glow */
[data-theme="ember"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #FF8A00 !important;
    background-clip: unset !important;
    color: #FF8A00 !important;
    font-family: 'Chakra Petch', sans-serif !important;
    font-weight: 700 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.15em !important;
    text-shadow: 0 0 3px #FF8A00, 0 0 12px rgba(255,138,0,0.5), 0 0 30px rgba(200,50,0,0.25) !important;
    filter: none !important;
}

/* Signal title treatment — teal, crisp LED glow */
[data-theme="signal"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #00D4B0 !important;
    background-clip: unset !important;
    color: #00D4B0 !important;
    font-family: 'IBM Plex Mono', 'Courier New', monospace !important;
    font-weight: 600 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.15em !important;
    text-shadow: 0 0 2px #00D4B0, 0 0 8px rgba(0,212,176,0.4) !important;
    filter: none !important;
}

/* ============================================================
   CLEAN THEME — Full light-mode overrides
   ============================================================ */

/* Kill ambient gradient overlay */
[data-theme="clean"] body::before { display: none; }

/* Kill ALL text-shadow glow effects */
[data-theme="clean"] * { text-shadow: none !important; }

/* Light scrollbars */
[data-theme="clean"] ::-webkit-scrollbar-track { background: #EDF0F4; }
[data-theme="clean"] ::-webkit-scrollbar-thumb { background: #CBD5E0; border: none; }
[data-theme="clean"] ::-webkit-scrollbar-thumb:hover { background: #A0AEC0; box-shadow: none; }
[data-theme="clean"] * { scrollbar-color: #CBD5E0 #EDF0F4; }

/* Cards: solid white + subtle shadow, no glassmorphism */
[data-theme="clean"] .glass-card,
[data-theme="clean"] .metric-card,
[data-theme="clean"] .card,
[data-theme="clean"] .stat-card {
    background: #FFFFFF;
    border: 1px solid #E2E8F0;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}
[data-theme="clean"] .glass-card:hover,
[data-theme="clean"] .metric-card:hover,
[data-theme="clean"] .card:hover,
[data-theme="clean"] .stat-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #CBD5E0;
}

/* Price changes — standard fintech colors */
[data-theme="clean"] .price-change.positive { color: #059669; }
[data-theme="clean"] .price-change.negative { color: #DC2626; }

/* CTA button */
[data-theme="clean"] .hero-cta-primary { background: #2563EB; box-shadow: 0 2px 8px rgba(37, 99, 235, 0.25); }
[data-theme="clean"] .hero-cta-primary:hover { box-shadow: 0 4px 16px rgba(37, 99, 235, 0.35); }

/* Contention icons — no glow */
[data-theme="clean"] .contention-icon { filter: none; }
[data-theme="clean"] .timeline-item.contentious:hover .contention-icon { filter: none; }

/* Upgrade clock / timeline */
[data-theme="clean"] .upgrade-number { background: linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="clean"] .upgrade-badge { background: rgba(37, 99, 235, 0.08); border-color: rgba(37, 99, 235, 0.2); }
[data-theme="clean"] .uptime-clock { background: linear-gradient(135deg, rgba(37, 99, 235, 0.06) 0%, rgba(29, 78, 216, 0.03) 100%); border-color: rgba(37, 99, 235, 0.15); box-shadow: 0 0 20px rgba(37, 99, 235, 0.06), inset 0 1px 0 rgba(255,255,255,0.05); }
[data-theme="clean"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #2563EB, transparent); }
[data-theme="clean"] .uptime-tagline { color: #2563EB; }
[data-theme="clean"] .uptime-pulse-dot { color: #2563EB; }
[data-theme="clean"] .uptime-counter { text-shadow: none; }
[data-theme="clean"] .badge-text { color: #2563EB; }
[data-theme="clean"] .voting-dot { background: #2563EB; }
[data-theme="clean"] .voting-progress-bar { background: linear-gradient(90deg, #2563EB, #1D4ED8); }
[data-theme="clean"] .timeline-item.current { background: rgba(37, 99, 235, 0.08); border-color: #2563EB; color: #2563EB; }
[data-theme="clean"] .timeline-item:hover { background: rgba(37, 99, 235, 0.05); border-color: #2563EB; }

/* Settings dropdown */
[data-theme="clean"] .settings-dropdown { background: #FFFFFF; border-color: #E2E8F0; }

/* Pulse indicator */
[data-theme="clean"] .glass-button.has-pulse::after { background: #2563EB; box-shadow: 0 0 4px rgba(37, 99, 235, 0.4); }

/* Ultra toggle */
[data-theme="clean"] #ultra-toggle.active { background: rgba(37, 99, 235, 0.1); border-color: rgba(37, 99, 235, 0.3); box-shadow: 0 2px 8px rgba(37, 99, 235, 0.15); }

/* Trend arrows */
[data-theme="clean"] .trend-arrow.up { color: #059669; }
[data-theme="clean"] .trend-arrow.down { color: #DC2626; }
[data-theme="clean"] .trend-arrow.up.inverted { color: #DC2626; }
[data-theme="clean"] .trend-arrow.down.inverted { color: #059669; }

/* Modal large */
[data-theme="clean"] .modal-large { background: #FFFFFF; border-color: #E2E8F0; box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12); color: #1A1A2E; }
[data-theme="clean"] .modal-large .modal-title { background: none; -webkit-background-clip: unset; background-clip: unset; color: #1A1A2E; -webkit-text-fill-color: #1A1A2E; }
[data-theme="clean"] .time-range-btn { border-color: #E2E8F0; color: #4A5568; }
[data-theme="clean"] .time-range-btn:hover { background: #F8F9FA; border-color: #CBD5E0; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); }
[data-theme="clean"] .time-range-btn.active { background: rgba(37, 99, 235, 0.08); border-color: #2563EB; color: #2563EB; box-shadow: none; }
[data-theme="clean"] .chart-section::before { background: linear-gradient(90deg, transparent, #E2E8F0, transparent); }
[data-theme="clean"] .chart-section h4 { color: #1A1A2E; }
[data-theme="clean"] .chart-section canvas { filter: none; }
[data-theme="clean"] .chart-stats .stat-value.positive { color: #059669; }

/* Stat display */
[data-theme="clean"] .stat-value { color: #1A1A2E; }
[data-theme="clean"] .stat-label { color: #718096; }
[data-theme="clean"] .stat-description { color: #4A5568; }
[data-theme="clean"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #0277BD !important;
    background-clip: unset !important;
    color: #0277BD !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', sans-serif !important;
    font-weight: 700 !important;
    font-size: clamp(1.75rem, 3.5vw, 2.25rem) !important;
    text-transform: none !important;
    letter-spacing: 0.02em !important;
    text-shadow: none !important;
    filter: none !important;
}
[data-theme="clean"] .glass-button:hover { border-color: #CBD5E0; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); }

/* Toolbar CTA */
[data-theme="clean"] .toolbar-cta:hover { box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2); }

/* Ultra selector */
[data-theme="clean"] .ultra-selector { border-color: #E2E8F0; background: #FFFFFF; }
[data-theme="clean"] .ultra-selector-title,
[data-theme="clean"] .ultra-mode-icon { color: #2563EB; }
[data-theme="clean"] .ultra-mode-btn.active { background: rgba(37, 99, 235, 0.08); border-color: #2563EB; }
[data-theme="clean"] .ultra-selector-footer button.active { background: rgba(37, 99, 235, 0.1); border-color: #2563EB; color: #2563EB; box-shadow: none; }

/* Stat card ultra effects — disable all decorative effects */
[data-theme="clean"] .stat-card.hex-active::before { display: none; }
[data-theme="clean"] .stat-card.scanline-active::after { display: none; }
[data-theme="clean"] .stat-card.bracket-locked::before,
[data-theme="clean"] .stat-card.bracket-locked::after { display: none; }
[data-theme="clean"] .stat-card.pulse-active { animation: none; }

/* Share action button */
[data-theme="clean"] .share-action-btn:hover { border-color: #2563EB; color: #2563EB; }

/* Tab button */
[data-theme="clean"] .tab-button::after { background: #2563EB; }

/* Whale tracker */
[data-theme="clean"] .whale-tx:hover { border-color: #CBD5E0; }
[data-theme="clean"] .whale-tx-amount .xtz { color: #2563EB; }
[data-theme="clean"] .whale-tx-whale { color: #1D4ED8; }
[data-theme="clean"] .whale-tx-addr .domain-name { color: #2563EB; }

/* Modal scrollbars */
[data-theme="clean"] .modal-large::-webkit-scrollbar-thumb { background: #CBD5E0; }
[data-theme="clean"] .modal-large::-webkit-scrollbar-thumb:hover { background: #A0AEC0; }
[data-theme="clean"] .modal-large { scrollbar-color: #CBD5E0 #EDF0F4; }

/* Share modal scrollbars */
[data-theme="clean"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="clean"] .tweet-picker::-webkit-scrollbar-thumb { background: #CBD5E0; }
[data-theme="clean"] .share-modal-content::-webkit-scrollbar-thumb:hover,
[data-theme="clean"] .tweet-picker::-webkit-scrollbar-thumb:hover { background: #A0AEC0; }
[data-theme="clean"] .share-modal-content,
[data-theme="clean"] .tweet-picker { scrollbar-color: #CBD5E0 #EDF0F4; }

/* Sleeping Giants */
[data-theme="clean"] .giants-stat .stat-value { color: #1A1A2E; }
[data-theme="clean"] .giant-balance .xtz { color: #2563EB; }
[data-theme="clean"] .awakening-alert { background: #FFFFFF; border-color: #E2E8F0; }
[data-theme="clean"] .awakening-title { color: #1A1A2E; }

/* Awakening log */
[data-theme="clean"] .awakening-log-item { border-color: #EDF0F4; }
[data-theme="clean"] .awakening-log-item:hover { border-color: #CBD5E0; }
[data-theme="clean"] .log-time { color: #2563EB; }
[data-theme="clean"] .awakenings-log::-webkit-scrollbar-thumb { background: #CBD5E0; }
[data-theme="clean"] .awakenings-log::-webkit-scrollbar-thumb:hover { background: #A0AEC0; }

/* Infographic */
[data-theme="clean"] .infographic-toggle-btn:hover { border-color: #2563EB; color: #2563EB; }
[data-theme="clean"] .infographic-inner::before { background: linear-gradient(180deg, #2563EB 0%, rgba(37, 99, 235, 0.2) 100%); }
[data-theme="clean"] .infographic-dot { background: #2563EB; box-shadow: none; }
[data-theme="clean"] .infographic-row.contentious .infographic-dot { background: #DC2626; box-shadow: none; }
[data-theme="clean"] .infographic-row.current .infographic-dot { background: #2563EB; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }
[data-theme="clean"] .infographic-row.current .infographic-name { color: #2563EB; }
[data-theme="clean"] .infographic-tag { border-color: #E2E8F0; color: #718096; }

/* My Baker */
[data-theme="clean"] .my-baker-input:focus { border-color: #2563EB; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
[data-theme="clean"] .matrix-char { display: none !important; }
[data-theme="clean"] .my-baker-stat-value { color: #1A1A2E; }
[data-theme="clean"] .my-baker-stat { border-color: #EDF0F4; }
[data-theme="clean"] .my-baker-stat:hover { border-color: #CBD5E0; }

/* Capacity bar */
[data-theme="clean"] .capacity-bar-pct { color: #2563EB; }
[data-theme="clean"] .capacity-bar-fill { background: linear-gradient(90deg, #2563EB, #1D4ED8); }
[data-theme="clean"] .capacity-bar-fill.capacity-warning { background: linear-gradient(90deg, #D97706, #B45309); }
[data-theme="clean"] .capacity-bar-fill.capacity-critical { background: linear-gradient(90deg, #DC2626, #B91C1C); }
[data-theme="clean"] .capacity-bar-card { border-color: #EDF0F4; }

/* Calculator */
[data-theme="clean"] .calc-input { background: #FFFFFF; border-color: #E2E8F0; color: #1A1A2E; }
[data-theme="clean"] .calc-input:focus { border-color: #2563EB; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
[data-theme="clean"] .calc-toggle-btn.calc-toggle-active { background: rgba(37, 99, 235, 0.08); border-color: #2563EB; color: #2563EB; }
[data-theme="clean"] .calc-apy-badge { border-color: #E2E8F0; }
[data-theme="clean"] .calc-apy-value { color: #059669; }
[data-theme="clean"] .calc-breakdown-total .calc-breakdown-value { color: #2563EB; }
[data-theme="clean"] .calc-compound-year { border-color: #EDF0F4; }
[data-theme="clean"] .calc-compound-earned { color: #059669; }

/* Comparison */
[data-theme="clean"] .comparison-col-tezos { border-color: rgba(37, 99, 235, 0.2); background: rgba(37, 99, 235, 0.04); }
[data-theme="clean"] .comparison-col-tezos .comparison-chain-name,
[data-theme="clean"] .comparison-col-tezos .comparison-chain-value { color: #2563EB; }
[data-theme="clean"] .comparison-winner { color: #059669; }
[data-theme="clean"] .comparison-card { border-color: #EDF0F4; }
[data-theme="clean"] .comparison-card:hover { border-color: #CBD5E0; }

/* Links */
[data-theme="clean"] a { color: #2563EB; }
[data-theme="clean"] a:hover { color: #1D4ED8; }

/* Status colors */
[data-theme="clean"] .status-good,
[data-theme="clean"] .positive { color: #059669; }
[data-theme="clean"] .status-bad,
[data-theme="clean"] .negative { color: #DC2626; }

/* Clean theme display font — system monospace for data */
[data-theme="clean"] .title {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-weight: 600;
}
[data-theme="clean"] .upgrade-number,
[data-theme="clean"] .current-name,
[data-theme="clean"] .stat-value,
[data-theme="clean"] .price-label,
[data-theme="clean"] .price-value,
[data-theme="clean"] .price-change,
[data-theme="clean"] .badge-text,
[data-theme="clean"] .chart-section h4,
[data-theme="clean"] .infographic-letter,
[data-theme="clean"] .infographic-name,
[data-theme="clean"] .about-tezos-stat-value,
[data-theme="clean"] .calc-breakdown-value,
[data-theme="clean"] .calc-apy-value,
[data-theme="clean"] .calc-result-xtz,
[data-theme="clean"] .calc-compound-year,
[data-theme="clean"] .calc-compound-xtz,
[data-theme="clean"] .my-baker-title {
    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
    font-weight: 500;
}

/* ============================================================
   CLEAN THEME V2 — Etherscan-inspired fixes
   ============================================================ */

/* CRITICAL: Force ALL stat values to dark color — override rainbow colors */
[data-theme="clean"] .stat-value,
[data-theme="clean"] .value-text,
[data-theme="clean"] .metric-value,
[data-theme="clean"] .price-display .price-value,
[data-theme="clean"] .ticker-price,
[data-theme="clean"] .hex-value,
[data-theme="clean"] .supply-burned .xtz,
[data-theme="clean"] .supply-total .xtz,
[data-theme="clean"] .delegate-count .delegate-number,
[data-theme="clean"] .baker-stats .stat-number,
[data-theme="clean"] .network-stat-value,
[data-theme="clean"] .protocol-stat .stat-value,
[data-theme="clean"] .governance-stat .value,
[data-theme="clean"] .burn-stat .burn-amount,
[data-theme="clean"] .whale-amount,
[data-theme="clean"] .giant-balance .balance-number,
[data-theme="clean"] .volume-stat .volume-number,
[data-theme="clean"] .market-stat .market-value {
    color: #1e2022 !important;
    -webkit-text-fill-color: #1e2022 !important;
    background: none !important;
    -webkit-background-clip: unset !important;
    background-clip: unset !important;
    text-shadow: none !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
}

/* Force system font for all number displays, not Orbitron */
[data-theme="clean"] .title,
[data-theme="clean"] .big-number,
[data-theme="clean"] .large-stat,
[data-theme="clean"] .protocol-number {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    font-size: 1.5rem;
    font-weight: 600;
    letter-spacing: 0;
    color: #1e2022 !important;
}

/* Compact layout - reduce spacing throughout */
[data-theme="clean"] .header {
    padding: 0.75rem 1.5rem 1rem;
}

[data-theme="clean"] .section {
    margin-bottom: 1rem;
}

[data-theme="clean"] .section-header {
    margin-bottom: 0.5rem;
}

[data-theme="clean"] .metrics-grid {
    gap: 12px;
}

/* Etherscan-style cards */
[data-theme="clean"] .glass-card,
[data-theme="clean"] .metric-card,
[data-theme="clean"] .card,
[data-theme="clean"] .stat-card {
    padding: 14px 16px !important;
    border-radius: 0.5rem !important;
    border: 1px solid #e7eaf3 !important;
    background: #FFFFFF !important;
    box-shadow: 0 0.5rem 1.2rem rgb(189 197 209 / 20%) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

/* Hover effects - subtle shadow only */
[data-theme="clean"] .glass-card:hover,
[data-theme="clean"] .metric-card:hover,
[data-theme="clean"] .card:hover,
[data-theme="clean"] .stat-card:hover {
    box-shadow: 0 0.5rem 1.5rem rgb(189 197 209 / 30%) !important;
    transform: none !important;
    border-color: #cbd5e0 !important;
}

/* Section labels - clean professional style */
[data-theme="clean"] .section-label,
[data-theme="clean"] .section-title {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #6c757e;
    font-weight: 600;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif !important;
}

/* Links/buttons */
[data-theme="clean"] a {
    color: #0784c3 !important;
}

[data-theme="clean"] .glass-button {
    border: 1px solid #d5dae2;
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    color: #6c757d;
}

[data-theme="clean"] .glass-button:hover {
    border-color: #0784c3;
    color: #0784c3;
    box-shadow: 0 2px 8px rgba(7, 132, 195, 0.12);
}

/* Price changes - standard fintech colors but no rainbow numbers */
[data-theme="clean"] .price-change.positive {
    color: #059669 !important;
}

[data-theme="clean"] .price-change.negative {
    color: #dc3545 !important;
}

/* Ensure trend arrows keep their colors but numbers stay dark */
[data-theme="clean"] .trend-arrow.up {
    color: #059669 !important;
}

[data-theme="clean"] .trend-arrow.down {
    color: #dc3545 !important;
}

/* But the actual stat values next to them stay dark */
[data-theme="clean"] .stat-card .stat-value,
[data-theme="clean"] .metric-card .metric-value {
    color: #1e2022 !important;
}

/* Compact timeline/protocol section */
[data-theme="clean"] .timeline-grid {
    gap: 8px;
}

[data-theme="clean"] .timeline-item {
    padding: 10px 12px;
    font-size: 0.9rem;
}

/* Clean typography throughout */
[data-theme="clean"] h1, 
[data-theme="clean"] h2, 
[data-theme="clean"] h3, 
[data-theme="clean"] h4, 
[data-theme="clean"] h5, 
[data-theme="clean"] h6 {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    color: #1e2022 !important;
    letter-spacing: 0 !important;
}

/* Remove any remaining glows or special effects */
[data-theme="clean"] * {
    text-shadow: none !important;
    filter: none !important;
    -webkit-text-stroke: unset !important;
}

/* Ensure sparklines and charts are visible */
[data-theme="clean"] .sparkline-canvas,
[data-theme="clean"] .chart-canvas {
    opacity: 1 !important;
    filter: none !important;
}

/* ==========================================
   THEME PICKER DROPDOWN
   ========================================== */

.theme-picker-dropdown {
    display: none;
    position: fixed;
    right: 0;
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 8px;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    transition: var(--transition);
    z-index: 201;
    min-width: 200px;
}

.theme-picker-dropdown.open {
    display: block;
}

.theme-row {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transition);
    gap: 12px;
    min-height: 40px;
}

.theme-row:hover {
    background: var(--glass-bg);
    transform: translateX(2px);
}

.theme-dots {
    display: flex;
    gap: 4px;
}

.theme-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex-shrink: 0;
}

.theme-label {
    flex-grow: 1;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-secondary);
}

.theme-checkmark {
    color: var(--accent-cyan);
    font-size: 0.9rem;
    font-weight: bold;
}

/* Mobile bottom sheet */
.theme-picker-dropdown.mobile-bottom-sheet {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    margin: 0;
    border-radius: 16px 16px 0 0;
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.6);
    animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
    }
    to {
        transform: translateY(0);
    }
}

/* ==========================================
   FIRST-VISIT MODAL
   ========================================== */

.first-visit-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.first-visit-modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

.first-visit-modal-content {
    position: relative;
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 0;
    max-width: 560px;
    width: 92%;
    max-height: 90vh;
    overflow-y: auto;
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    box-shadow: 0 16px 64px rgba(0, 0, 0, 0.6);
    text-align: center;
}

.first-visit-modal.closing {
    animation: fadeOut 0.3s ease forwards;
}

@keyframes fadeOut {
    to { opacity: 0; transform: scale(0.95); }
}

/* Hero section */
.hero-section {
    padding: 28px 32px 20px;
    border-bottom: 1px solid var(--glass-border);
}

.hero-title {
    margin: 0 0 6px 0;
    color: var(--text-primary);
    font-size: clamp(1.4rem, 4vw, 1.8rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.hero-subtitle {
    margin: 0 0 14px 0;
    color: var(--text-secondary);
    font-size: 0.95rem;
    font-weight: 400;
    opacity: 0.8;
}

.hero-stats {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}

.hero-stat {
    font-size: 0.78rem;
    color: var(--text-secondary);
    opacity: 0.7;
    display: flex;
    align-items: center;
    gap: 5px;
}

.hero-stat-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #4ade80;
    display: inline-block;
    animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

.hero-stat-divider {
    color: var(--text-secondary);
    opacity: 0.3;
    font-size: 0.7rem;
}

/* Vibe section */
.vibe-section {
    padding: 20px 32px 24px;
}

.vibe-heading {
    margin: 0 0 4px 0;
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 600;
}

.theme-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-top: 16px;
}

.theme-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 14px 8px;
    border-radius: 10px;
    cursor: pointer;
    transition: var(--transition);
    border: 1px solid transparent;
}

.theme-card:hover {
    background: var(--glass-bg);
    border-color: var(--glass-border);
    transform: translateY(-2px);
}

.theme-preview {
    width: 48px;
    height: 32px;
    border-radius: 6px;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

.theme-accent {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 6px;
    border-radius: 0 0 5px 5px;
}

.theme-name {
    font-size: 0.72rem;
    font-weight: 600;
    color: var(--text-primary);
    opacity: 0.9;
}

.theme-tagline {
    font-size: 0.62rem;
    color: var(--text-secondary);
    opacity: 0.6;
    white-space: nowrap;
}

.hero-skip {
    margin-top: 16px;
    background: none;
    border: none;
    color: var(--text-secondary);
    opacity: 0.5;
    font-size: 0.78rem;
    cursor: pointer;
    padding: 6px 12px;
    transition: opacity 0.2s;
}

.hero-skip:hover {
    opacity: 0.9;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Theme-specific dropdown styles */
[data-theme="matrix"] .theme-picker-dropdown {
    background: #0a0f0a;
    border-color: rgba(0, 255, 0, 0.15);
}

[data-theme="void"] .theme-picker-dropdown {
    background: #0a0a14;
    border-color: rgba(139, 92, 246, 0.15);
}

[data-theme="ember"] .theme-picker-dropdown {
    background: #0f0a08;
    border-color: rgba(255, 159, 67, 0.15);
}

[data-theme="signal"] .theme-picker-dropdown {
    background: #0a0f0e;
    border-color: rgba(0, 255, 200, 0.15);
}

[data-theme="clean"] .theme-picker-dropdown {
    background: #ffffff;
    border-color: #e2e8f0;
}

[data-theme="clean"] .theme-row:hover {
    background: rgba(0, 0, 0, 0.02);
}

[data-theme="clean"] .theme-label {
    color: #64748b;
}

/* Theme-specific modal styles */
[data-theme="matrix"] .first-visit-modal-content {
    background: #0a0f0a;
    border-color: rgba(0, 255, 0, 0.15);
}

[data-theme="void"] .first-visit-modal-content {
    background: #0a0a14;
    border-color: rgba(139, 92, 246, 0.15);
}

[data-theme="ember"] .first-visit-modal-content {
    background: #0f0a08;
    border-color: rgba(255, 159, 67, 0.15);
}

[data-theme="signal"] .first-visit-modal-content {
    background: #0a0f0e;
    border-color: rgba(0, 255, 200, 0.15);
}

[data-theme="clean"] .first-visit-modal-content {
    background: #ffffff;
    border-color: #e2e8f0;
}

[data-theme="clean"] .theme-card:hover {
    background: rgba(0, 0, 0, 0.02);
    border-color: #e2e8f0;
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
    .theme-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
    }
    
    .theme-card {
        padding: 10px 6px;
    }
    
    .theme-preview {
        width: 40px;
        height: 26px;
    }
    
    .first-visit-modal-content {
        width: 95%;
    }

    .hero-section {
        padding: 22px 20px 16px;
    }

    .vibe-section {
        padding: 16px 20px 20px;
    }

    .theme-tagline {
        display: none;
    }
}

@media (max-width: 400px) {
    .theme-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Add smooth transitions for theme changes */
body {
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* ==========================================
   DARK THEME OVERRIDES - ACHROMATIC ZEN
   ========================================== */

/* No ambient gradient */
[data-theme="dark"] body::before { display: none; }

/* No text shadows */
[data-theme="dark"] * { text-shadow: none !important; }

/* Scrollbar styles */
[data-theme="dark"] ::-webkit-scrollbar-track { background: #1A1A1A; }
[data-theme="dark"] ::-webkit-scrollbar-thumb { background: #333333; border: none; }
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover { background: #484848; box-shadow: none; }
[data-theme="dark"] * { scrollbar-color: #333333 #1A1A1A; }

/* Cards - no borders, elevation via bg contrast */
[data-theme="dark"] .glass-card,
[data-theme="dark"] .metric-card,
[data-theme="dark"] .card,
[data-theme="dark"] .stat-card {
    background: #222222;
    border: none;
    box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    backdrop-filter: none;
}

[data-theme="dark"] .glass-card:hover,
[data-theme="dark"] .metric-card:hover,
[data-theme="dark"] .card:hover,
[data-theme="dark"] .stat-card:hover {
    background: #282828;
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

/* Positive/negative indicators - keep green/red only for price changes and trends */
[data-theme="dark"] .price-change.positive { color: #4ADE80; }
[data-theme="dark"] .price-change.negative { color: #F87171; }

/* Buttons */
[data-theme="dark"] .hero-cta-primary { background: #C8C8C8; color: #1A1A1A; box-shadow: 0 2px 8px rgba(200, 200, 200, 0.25); }
[data-theme="dark"] .hero-cta-primary:hover { box-shadow: 0 4px 16px rgba(200, 200, 200, 0.35); }

/* Remove contention icon effects */
[data-theme="dark"] .contention-icon { filter: none; }
[data-theme="dark"] .timeline-item.contentious:hover .contention-icon { filter: none; }

/* Upgrade clock elements */
[data-theme="dark"] .upgrade-number { background: linear-gradient(135deg, #C8C8C8 0%, #B0B0B0 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="dark"] .upgrade-badge { background: rgba(200, 200, 200, 0.08); border-color: rgba(200, 200, 200, 0.2); }
[data-theme="dark"] .uptime-clock { background: linear-gradient(135deg, rgba(200, 200, 200, 0.05) 0%, rgba(180, 180, 180, 0.03) 100%); border-color: rgba(200, 200, 200, 0.15); box-shadow: 0 0 20px rgba(200, 200, 200, 0.04), inset 0 1px 0 rgba(255,255,255,0.04); }
[data-theme="dark"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #C8C8C8, transparent); opacity: 0.25; }
[data-theme="dark"] .uptime-tagline { color: #C8C8C8; }
[data-theme="dark"] .uptime-pulse-dot { color: #C8C8C8; }
[data-theme="dark"] .uptime-counter { text-shadow: none; }
[data-theme="dark"] .badge-text { color: #C8C8C8; }
[data-theme="dark"] .voting-dot { background: #C8C8C8; }
[data-theme="dark"] .voting-progress-bar { background: linear-gradient(90deg, #C8C8C8, #B0B0B0); }
[data-theme="dark"] .timeline-item.current { background: rgba(200, 200, 200, 0.08); border-color: #C8C8C8; color: #C8C8C8; }
[data-theme="dark"] .timeline-item:hover { background: rgba(200, 200, 200, 0.05); border-color: #C8C8C8; }

/* Settings dropdown */
[data-theme="dark"] .settings-dropdown { background: #222222; border-color: #333333; }

/* Pulse indicator */
[data-theme="dark"] .glass-button.has-pulse::after { background: #C8C8C8; box-shadow: 0 0 4px rgba(200, 200, 200, 0.4); }

/* Ultra toggle */
[data-theme="dark"] #ultra-toggle.active { background: rgba(200, 200, 200, 0.1); border-color: rgba(200, 200, 200, 0.3); box-shadow: 0 2px 8px rgba(200, 200, 200, 0.15); }

/* Trend arrows - keep green/red only for these */
[data-theme="dark"] .trend-arrow.up { color: #4ADE80; }
[data-theme="dark"] .trend-arrow.down { color: #F87171; }
[data-theme="dark"] .trend-arrow.up.inverted { color: #F87171; }
[data-theme="dark"] .trend-arrow.down.inverted { color: #4ADE80; }

/* Modal styles */
[data-theme="dark"] .modal-large { background: rgba(26,26,26,0.98); border-color: #333333; box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12); color: #E8E8E8; }
[data-theme="dark"] .modal-large .modal-title { background: none; -webkit-background-clip: unset; background-clip: unset; color: #E8E8E8; -webkit-text-fill-color: #E8E8E8; }
[data-theme="dark"] .time-range-btn { border-color: #333333; color: #9A9A9A; }
[data-theme="dark"] .time-range-btn:hover { background: #2A2A2A; border-color: #484848; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); }
[data-theme="dark"] .time-range-btn.active { background: rgba(200, 200, 200, 0.08); border-color: #C8C8C8; color: #C8C8C8; box-shadow: none; }
[data-theme="dark"] .chart-section::before { background: linear-gradient(90deg, transparent, #333333, transparent); }
[data-theme="dark"] .chart-section h4 { color: #E8E8E8; }
[data-theme="dark"] .chart-section canvas { filter: none; }
[data-theme="dark"] .chart-stats .stat-value.positive { color: #4ADE80; }

/* Force all stat values to #E8E8E8 */
[data-theme="dark"] .stat-value { color: #E8E8E8 !important; }
[data-theme="dark"] .stat-label { color: #9A9A9A; }
[data-theme="dark"] .stat-description { color: #737373; }
[data-theme="dark"] .title { color: #E8EAED; background: none; -webkit-text-fill-color: #E8EAED; }
[data-theme="dark"] .glass-button:hover { border-color: #484848; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); }

/* Toolbar button */
[data-theme="dark"] .toolbar-cta:hover { box-shadow: 0 2px 8px rgba(200, 200, 200, 0.2); }

/* Ultra mode selector */
[data-theme="dark"] .ultra-selector { border-color: #333333; background: #222222; }
[data-theme="dark"] .ultra-selector-title,
[data-theme="dark"] .ultra-mode-icon { color: #C8C8C8; }
[data-theme="dark"] .ultra-mode-btn.active { background: rgba(200, 200, 200, 0.08); border-color: #C8C8C8; }
[data-theme="dark"] .ultra-selector-footer button.active { background: rgba(200, 200, 200, 0.1); border-color: #C8C8C8; color: #C8C8C8; box-shadow: none; }

/* Disable card effects */
[data-theme="dark"] .stat-card.hex-active::before { display: none; }
[data-theme="dark"] .stat-card.scanline-active::after { display: none; }
[data-theme="dark"] .stat-card.bracket-locked::before,
[data-theme="dark"] .stat-card.bracket-locked::after { display: none; }
[data-theme="dark"] .stat-card.pulse-active { animation: none; }

/* Share actions */
[data-theme="dark"] .share-action-btn:hover { border-color: #C8C8C8; color: #C8C8C8; }

/* Tab button */
[data-theme="dark"] .tab-button::after { background: #C8C8C8; }

/* Whale transactions */
[data-theme="dark"] .whale-tx:hover { border-color: #484848; }
[data-theme="dark"] .whale-tx-amount .xtz { color: #C8C8C8; }
[data-theme="dark"] .whale-tx-whale { color: #B0B0B0; }
[data-theme="dark"] .whale-tx-addr .domain-name { color: #C8C8C8; }

/* Modal scrollbars */
[data-theme="dark"] .modal-large::-webkit-scrollbar-thumb { background: #333333; }
[data-theme="dark"] .modal-large::-webkit-scrollbar-thumb:hover { background: #484848; }
[data-theme="dark"] .modal-large { scrollbar-color: #333333 #1A1A1A; }

/* Share modal scrollbars */
[data-theme="dark"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="dark"] .tweet-picker::-webkit-scrollbar-thumb { background: #333333; }
[data-theme="dark"] .share-modal-content::-webkit-scrollbar-thumb:hover,
[data-theme="dark"] .tweet-picker::-webkit-scrollbar-thumb:hover { background: #484848; }
[data-theme="dark"] .share-modal-content,
[data-theme="dark"] .tweet-picker { scrollbar-color: #333333 #1A1A1A; }

/* Giants stats */
[data-theme="dark"] .giants-stat .stat-value { color: #E8E8E8; }
[data-theme="dark"] .giant-balance .xtz { color: #C8C8C8; }
[data-theme="dark"] .awakening-alert { background: #222222; border-color: #333333; }
[data-theme="dark"] .awakening-title { color: #E8E8E8; }

/* Awakening log */
[data-theme="dark"] .awakening-log-item { border-color: #2A2A2A; }
[data-theme="dark"] .awakening-log-item:hover { border-color: #484848; }
[data-theme="dark"] .log-time { color: #C8C8C8; }
[data-theme="dark"] .awakenings-log::-webkit-scrollbar-thumb { background: #333333; }
[data-theme="dark"] .awakenings-log::-webkit-scrollbar-thumb:hover { background: #484848; }

/* Infographic */
[data-theme="dark"] .infographic-toggle-btn:hover { border-color: #C8C8C8; color: #C8C8C8; }
[data-theme="dark"] .infographic-inner::before { background: linear-gradient(180deg, #C8C8C8 0%, rgba(200, 200, 200, 0.2) 100%); }
[data-theme="dark"] .infographic-dot { background: #C8C8C8; box-shadow: none; }
[data-theme="dark"] .infographic-row.contentious .infographic-dot { background: #F87171; box-shadow: none; }
[data-theme="dark"] .infographic-row.current .infographic-dot { background: #C8C8C8; box-shadow: 0 0 0 3px rgba(200, 200, 200, 0.2); }
[data-theme="dark"] .infographic-row.current .infographic-name { color: #C8C8C8; }
[data-theme="dark"] .infographic-tag { border-color: #333333; color: #9A9A9A; }

/* My Baker */
[data-theme="dark"] .my-baker-input:focus { border-color: #C8C8C8; box-shadow: 0 0 0 3px rgba(200, 200, 200, 0.1); }
[data-theme="dark"] .matrix-char { display: none !important; }
[data-theme="dark"] .my-baker-stat-value { color: #E8E8E8; }
[data-theme="dark"] .my-baker-stat { border-color: #2A2A2A; }
[data-theme="dark"] .my-baker-stat:hover { border-color: #484848; }

/* Capacity bar */
[data-theme="dark"] .capacity-bar-pct { color: #C8C8C8; }
[data-theme="dark"] .capacity-bar-fill { background: linear-gradient(90deg, #C8C8C8, #B0B0B0); }
[data-theme="dark"] .capacity-bar-fill.capacity-warning { background: linear-gradient(90deg, #D97706, #B45309); }
[data-theme="dark"] .capacity-bar-fill.capacity-critical { background: linear-gradient(90deg, #F87171, #EF4444); }
[data-theme="dark"] .capacity-bar-card { border-color: #2A2A2A; }

/* Calculator */
[data-theme="dark"] .calc-input { background: #222222; border-color: #333333; color: #E8E8E8; }
[data-theme="dark"] .calc-input:focus { border-color: #C8C8C8; box-shadow: 0 0 0 3px rgba(200, 200, 200, 0.1); }
[data-theme="dark"] .calc-toggle-btn.calc-toggle-active { background: rgba(200, 200, 200, 0.08); border-color: #C8C8C8; color: #C8C8C8; }
[data-theme="dark"] .calc-apy-badge { border-color: #333333; }
[data-theme="dark"] .calc-apy-value { color: #4ADE80; }
[data-theme="dark"] .calc-breakdown-total .calc-breakdown-value { color: #C8C8C8; }
[data-theme="dark"] .calc-compound-year { border-color: #2A2A2A; }
[data-theme="dark"] .calc-compound-earned { color: #4ADE80; }

/* Comparison */
[data-theme="dark"] .comparison-col-tezos { border-color: rgba(200, 200, 200, 0.2); background: rgba(200, 200, 200, 0.04); }
[data-theme="dark"] .comparison-col-tezos .comparison-chain-name,
[data-theme="dark"] .comparison-col-tezos .comparison-chain-value { color: #C8C8C8; }
[data-theme="dark"] .comparison-winner { color: #4ADE80; }
[data-theme="dark"] .comparison-card { border-color: #2A2A2A; }
[data-theme="dark"] .comparison-card:hover { border-color: #484848; }

/* Links */
[data-theme="dark"] a { color: #C8C8C8; }
[data-theme="dark"] a:hover { color: #E8E8E8; }

/* Status indicators - keep green/red only where needed */
[data-theme="dark"] .status-good,
[data-theme="dark"] .positive { color: #4ADE80; }
[data-theme="dark"] .status-bad,
[data-theme="dark"] .negative { color: #F87171; }

/* System font for all numbers - NO Orbitron */
[data-theme="dark"] .title {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
}

[data-theme="dark"] .upgrade-number,
[data-theme="dark"] .current-name,
[data-theme="dark"] .stat-value,
[data-theme="dark"] .price-label,
[data-theme="dark"] .price-value,
[data-theme="dark"] .price-change,
[data-theme="dark"] .badge-text,
[data-theme="dark"] .chart-section h4,
[data-theme="dark"] .infographic-letter,
[data-theme="dark"] .infographic-name,
[data-theme="dark"] .about-tezos-stat-value,
[data-theme="dark"] .calc-breakdown-value,
[data-theme="dark"] .calc-apy-value,
[data-theme="dark"] .calc-result-xtz,
[data-theme="dark"] .calc-compound-year,
[data-theme="dark"] .calc-compound-xtz,
[data-theme="dark"] .my-baker-title {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    font-weight: 600;
    letter-spacing: -0.02em;
}

/* Force all stat values to be achromatic */
[data-theme="dark"] .stat-value,
[data-theme="dark"] .value-text,
[data-theme="dark"] .metric-value,
[data-theme="dark"] .price-display .price-value,
[data-theme="dark"] .ticker-price,
[data-theme="dark"] .hex-value,
[data-theme="dark"] .supply-burned .xtz,
[data-theme="dark"] .supply-total .xtz,
[data-theme="dark"] .delegate-count .delegate-number,
[data-theme="dark"] .baker-stats .stat-number,
[data-theme="dark"] .network-stat-value,
[data-theme="dark"] .protocol-stat .stat-value,
[data-theme="dark"] .governance-stat .value,
[data-theme="dark"] .burn-stat .burn-amount,
[data-theme="dark"] .whale-amount,
[data-theme="dark"] .giant-balance .balance-number,
[data-theme="dark"] .volume-stat .volume-number,
[data-theme="dark"] .market-stat .market-value {
    color: #E8E8E8 !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
}

/* Large numbers use system font */
[data-theme="dark"] .title,
[data-theme="dark"] .big-number,
[data-theme="dark"] .large-stat,
[data-theme="dark"] .protocol-number {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    color: #E8E8E8 !important;
    font-weight: 700;
}

/* Clean minimal structure */
[data-theme="dark"] .header {
    background: none;
}

[data-theme="dark"] .section {
    background: none;
}

[data-theme="dark"] .section-header {
    border-bottom: 1px solid #333333;
    padding-bottom: 0.75rem;
}

[data-theme="dark"] .metrics-grid {
    gap: 1.5rem;
}

/* Cards with minimal styling */
[data-theme="dark"] .glass-card,
[data-theme="dark"] .metric-card,
[data-theme="dark"] .card,
[data-theme="dark"] .stat-card {
    background: #222222;
    border: none;
    border-radius: 16px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    transition: all 0.15s ease;
}

[data-theme="dark"] .glass-card:hover,
[data-theme="dark"] .metric-card:hover,
[data-theme="dark"] .card:hover,
[data-theme="dark"] .stat-card:hover {
    background: #282828;
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    transform: none; /* No transform on hover */
}

/* Professional section labels */
[data-theme="dark"] .section-label,
[data-theme="dark"] .section-title {
    color: #9A9A9A;
    font-weight: 500;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Links */
[data-theme="dark"] a {
    color: #C8C8C8;
    text-decoration: none;
}

[data-theme="dark"] .glass-button {
    background: rgba(42, 42, 42, 0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid #3a3a3a;
    color: #9A9A9A;
}

[data-theme="dark"] .glass-button:hover {
    background: rgba(50, 50, 50, 0.6);
    border-color: #555555;
    color: #E8E8E8;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Price changes - keep green/red ONLY for these */
[data-theme="dark"] .price-change.positive {
    color: #4ADE80;
}

[data-theme="dark"] .price-change.negative {
    color: #F87171;
}

/* Trend indicators */
[data-theme="dark"] .trend-arrow.up {
    color: #4ADE80;
}

[data-theme="dark"] .trend-arrow.down {
    color: #F87171;
}

/* Stat card values - all achromatic */
[data-theme="dark"] .stat-card .stat-value,
[data-theme="dark"] .metric-card .metric-value {
    color: #E8E8E8 !important;
}

/* Timeline minimal style */
[data-theme="dark"] .timeline-grid {
    gap: 1rem;
}

[data-theme="dark"] .timeline-item {
    background: #2A2A2A;
    border: 1px solid #333333;
    color: #9A9A9A;
}

/* Typography - no fancy fonts */
[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3, 
[data-theme="dark"] h4, 
[data-theme="dark"] h5, 
[data-theme="dark"] h6 {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    color: #E8E8E8;
}

/* Remove all effects */
[data-theme="dark"] * {
    text-shadow: none !important;
    box-shadow: none !important;
}

/* Restore only necessary shadows for cards */
[data-theme="dark"] .stat-card,
[data-theme="dark"] .glass-card,
[data-theme="dark"] .metric-card,
[data-theme="dark"] .card {
    box-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
}

[data-theme="dark"] .stat-card:hover,
[data-theme="dark"] .glass-card:hover,
[data-theme="dark"] .metric-card:hover,
[data-theme="dark"] .card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.4) !important;
}

/* Remove canvas effects */
[data-theme="dark"] .sparkline-canvas,
[data-theme="dark"] .chart-canvas {
    filter: none !important;
}

/* Theme picker and modal styling for dark theme */
[data-theme="dark"] .theme-picker-dropdown {
    background: #222222;
    border-color: #333333;
}

[data-theme="dark"] .theme-row:hover {
    background: rgba(200, 200, 200, 0.05);
}

[data-theme="dark"] .theme-label {
    color: #9A9A9A;
}

[data-theme="dark"] .first-visit-modal-content {
    background: #222222;
    border-color: #333333;
}

[data-theme="dark"] .theme-card:hover {
    background: rgba(200, 200, 200, 0.05);
    border-color: #333333;
}

/* ==========================================
   DARK THEME COMPACT LAYOUT (SAME AS CLEAN)
   ========================================== */

/* Compact header */
[data-theme="dark"] .header {
    padding: 0.75rem 1.5rem 1rem;
}

/* Tight section spacing */
[data-theme="dark"] .section {
    margin-bottom: 1rem;
}

[data-theme="dark"] .section-header {
    margin-bottom: 0.5rem;
}

/* Compact grid */
[data-theme="dark"] .metrics-grid {
    gap: 12px;
}

/* Compact cards */
[data-theme="dark"] .glass-card,
[data-theme="dark"] .metric-card,
[data-theme="dark"] .card,
[data-theme="dark"] .stat-card {
    padding: 14px 16px !important;
    border-radius: 0.5rem !important;
    border: none !important;
    background: #222222 !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

[data-theme="dark"] .glass-card:hover,
[data-theme="dark"] .metric-card:hover,
[data-theme="dark"] .card:hover,
[data-theme="dark"] .stat-card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.4) !important;
    transform: none !important;
    border-color: transparent !important;
    background: #282828 !important;
}

/* Section labels - clean professional style */
[data-theme="dark"] .section-label,
[data-theme="dark"] .section-title {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #9A9A9A;
    font-weight: 500;
}

/* Glass buttons compact */
[data-theme="dark"] .glass-button {
    border: 1px solid #3a3a3a;
    background: rgba(42, 42, 42, 0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    color: #9A9A9A;
}

[data-theme="dark"] .glass-button:hover {
    border-color: #555555;
    color: #E8E8E8;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Timeline compact */
[data-theme="dark"] .timeline-grid {
    gap: 8px;
}

[data-theme="dark"] .timeline-item {
    padding: 10px 12px;
    font-size: 0.9rem;
}

/* Typography - system font, compact */
[data-theme="dark"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #E8EAED !important;
    background-clip: unset !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    font-size: clamp(1.75rem, 3.5vw, 2.25rem) !important;
    font-weight: 300 !important;
    color: #E8EAED !important;
    letter-spacing: 0.02em !important;
    text-transform: none !important;
    text-shadow: 0 0 20px rgba(255,255,255,0.05) !important;
    filter: none !important;
}

[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3, 
[data-theme="dark"] h4, 
[data-theme="dark"] h5, 
[data-theme="dark"] h6 {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif !important;
    color: #E8E8E8 !important;
    letter-spacing: 0 !important;
    text-transform: none !important;
}

/* Remove all effects for clean look */
[data-theme="dark"] * {
    text-shadow: none !important;
    filter: none !important;
    -webkit-text-stroke: unset !important;
    background-attachment: unset !important;
}

/* Charts - clean display */
[data-theme="dark"] .sparkline-canvas,
[data-theme="dark"] .chart-canvas {
    opacity: 1 !important;
    filter: none !important;
}

/* ============================================================
   BUBBLEGUM THEME — Full overrides
   ============================================================ */

[data-theme="bubblegum"] body::before {
    background: radial-gradient(ellipse 60% 50% at 50% 100%, rgba(255, 105, 180, 0.08) 0%, transparent 70%),
                radial-gradient(ellipse 40% 40% at 20% 20%, rgba(255, 133, 200, 0.04) 0%, transparent 60%);
}

[data-theme="bubblegum"] ::-webkit-scrollbar-track { background: rgba(31, 14, 24, 0.3); }
[data-theme="bubblegum"] ::-webkit-scrollbar-thumb { background: rgba(255, 105, 180, 0.25); border: 1px solid rgba(255, 133, 200, 0.1); }
[data-theme="bubblegum"] ::-webkit-scrollbar-thumb:hover { background: rgba(255, 105, 180, 0.5); box-shadow: 0 0 6px rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] * { scrollbar-color: rgba(255, 105, 180, 0.25) rgba(31, 14, 24, 0.3); }

[data-theme="bubblegum"] .price-change.positive { color: #7FFFBA; }
[data-theme="bubblegum"] .price-change.negative { color: #FF5E8A; }

[data-theme="bubblegum"] .hero-cta-primary { background: #FF69B4; box-shadow: 0 0 16px rgba(255, 105, 180, 0.25); }
[data-theme="bubblegum"] .hero-cta-primary:hover { box-shadow: 0 4px 20px rgba(255, 105, 180, 0.4); }

[data-theme="bubblegum"] .contention-icon { filter: drop-shadow(0 0 3px rgba(255, 60, 60, 0.7)); }
[data-theme="bubblegum"] .timeline-item.contentious:hover .contention-icon { filter: drop-shadow(0 0 8px rgba(255, 60, 60, 1)); }

[data-theme="bubblegum"] .upgrade-number { background: linear-gradient(135deg, #FF69B4 0%, #FF85C8 100%); -webkit-background-clip: text; background-clip: text; }
[data-theme="bubblegum"] .upgrade-badge { background: rgba(255, 105, 180, 0.1); border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .uptime-clock { background: linear-gradient(135deg, rgba(255, 105, 180, 0.08) 0%, rgba(255, 133, 200, 0.05) 100%); border-color: rgba(255, 105, 180, 0.2); box-shadow: 0 0 20px rgba(255, 105, 180, 0.08), inset 0 1px 0 rgba(255,255,255,0.03); }
[data-theme="bubblegum"] .uptime-clock::before { background: linear-gradient(90deg, transparent, #FF69B4, transparent); }
[data-theme="bubblegum"] .uptime-tagline { color: #FF69B4; }
[data-theme="bubblegum"] .uptime-pulse-dot { color: #FF69B4; }
[data-theme="bubblegum"] .badge-text { color: #FF69B4; }
[data-theme="bubblegum"] .voting-dot { background: #FF69B4; }
[data-theme="bubblegum"] .voting-progress-bar { background: linear-gradient(90deg, #FF69B4, #FF85C8); }
[data-theme="bubblegum"] .timeline-item.current { background: rgba(255, 105, 180, 0.2); border-color: #FF69B4; color: #FF69B4; }
[data-theme="bubblegum"] .timeline-item:hover { background: rgba(255, 105, 180, 0.1); border-color: #FF69B4; }

[data-theme="bubblegum"] .settings-dropdown { background: #1F0E18; border-color: rgba(255, 105, 180, 0.15); }

[data-theme="bubblegum"] .glass-button.has-pulse::after { background: #FF69B4; box-shadow: 0 0 6px rgba(255, 105, 180, 0.6); }

[data-theme="bubblegum"] #ultra-toggle.active { background: rgba(255, 105, 180, 0.2); border-color: rgba(255, 105, 180, 0.4); box-shadow: 0 0 15px rgba(255, 105, 180, 0.3); }

[data-theme="bubblegum"] .trend-arrow.up { color: #7FFFBA; }
[data-theme="bubblegum"] .trend-arrow.down { color: #FF5E8A; }
[data-theme="bubblegum"] .trend-arrow.up.inverted { color: #FF5E8A; }
[data-theme="bubblegum"] .trend-arrow.down.inverted { color: #7FFFBA; }

[data-theme="bubblegum"] .modal-large { border-color: rgba(255, 105, 180, 0.2); box-shadow: 0 0 60px rgba(255, 105, 180, 0.15), 0 0 100px rgba(0, 0, 0, 0.8); }
[data-theme="bubblegum"] .modal-large .modal-title { background: linear-gradient(90deg, #FF69B4, #FF85C8); -webkit-background-clip: text; background-clip: text; }
[data-theme="bubblegum"] .time-range-btn { border-color: rgba(255, 105, 180, 0.2); }
[data-theme="bubblegum"] .time-range-btn:hover { background: rgba(255, 105, 180, 0.1); border-color: rgba(255, 105, 180, 0.4); box-shadow: 0 4px 20px rgba(255, 105, 180, 0.2); }
[data-theme="bubblegum"] .time-range-btn.active { background: rgba(255, 105, 180, 0.15); border-color: #FF69B4; box-shadow: 0 0 20px rgba(255, 105, 180, 0.3), inset 0 0 20px rgba(255, 105, 180, 0.1); }
[data-theme="bubblegum"] .chart-section::before { background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.3), transparent); }
[data-theme="bubblegum"] .chart-section h4 { color: #FF69B4; text-shadow: 0 0 20px rgba(255, 105, 180, 0.5); }
[data-theme="bubblegum"] .chart-section canvas { filter: drop-shadow(0 0 8px rgba(255, 105, 180, 0.2)); }
[data-theme="bubblegum"] .chart-stats .stat-value.positive { color: #7FFFBA; text-shadow: 0 0 10px rgba(127, 255, 186, 0.5); }

[data-theme="bubblegum"] .glass-button:hover { border-color: rgba(255, 105, 180, 0.5); box-shadow: 0 0 20px rgba(255, 105, 180, 0.3); }

[data-theme="bubblegum"] .stat-card { border-color: rgba(255, 105, 180, 0.2); }
[data-theme="bubblegum"] .stat-card:hover { border-color: rgba(255, 105, 180, 0.4); box-shadow: 0 8px 32px rgba(255, 105, 180, 0.15); }

[data-theme="bubblegum"] .toolbar-cta:hover { box-shadow: 0 0 12px rgba(255, 105, 180, 0.3); }

[data-theme="bubblegum"] .ultra-selector { border-color: rgba(255, 105, 180, 0.2); }
[data-theme="bubblegum"] .ultra-selector-title, [data-theme="bubblegum"] .ultra-mode-icon { color: #FF69B4; }
[data-theme="bubblegum"] .ultra-mode-btn.active { background: rgba(255, 105, 180, 0.1); border-color: #FF69B4; }
[data-theme="bubblegum"] .ultra-selector-footer button.active { background: rgba(255, 105, 180, 0.2); border-color: #FF69B4; color: #FF69B4; box-shadow: 0 0 20px rgba(255, 105, 180, 0.2); }

[data-theme="bubblegum"] .stat-card.hex-active::before { color: #FF69B4; }

[data-theme="bubblegum"] .share-action-btn:hover { border-color: #FF69B4; color: #FF69B4; }

[data-theme="bubblegum"] .tab-button::after { background: #FF69B4; }

[data-theme="bubblegum"] .whale-tx:hover { border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .whale-tx-amount .xtz { color: #FF69B4; }
[data-theme="bubblegum"] .whale-tx-whale { color: #FF85C8; }
[data-theme="bubblegum"] .whale-tx-addr .domain-name { color: #FF69B4; }

[data-theme="bubblegum"] .modal-large::-webkit-scrollbar-thumb { background: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .modal-large::-webkit-scrollbar-thumb:hover { background: rgba(255, 105, 180, 0.5); }
[data-theme="bubblegum"] .modal-large { scrollbar-color: rgba(255, 105, 180, 0.3) rgba(26, 15, 34, 0.3); }

[data-theme="bubblegum"] .share-modal-content::-webkit-scrollbar-thumb,
[data-theme="bubblegum"] .tweet-picker::-webkit-scrollbar-thumb { background: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .share-modal-content::-webkit-scrollbar-thumb:hover,
[data-theme="bubblegum"] .tweet-picker::-webkit-scrollbar-thumb:hover { background: rgba(255, 105, 180, 0.5); }
[data-theme="bubblegum"] .share-modal-content,
[data-theme="bubblegum"] .tweet-picker { scrollbar-color: rgba(255, 105, 180, 0.3) rgba(26, 15, 34, 0.3); }

[data-theme="bubblegum"] .giants-stat .stat-value { color: #FF85C8; }
[data-theme="bubblegum"] .giant-balance .xtz { color: #FF69B4; }
[data-theme="bubblegum"] .awakening-alert { border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .awakening-title { color: #FF69B4; }

[data-theme="bubblegum"] .awakening-log-item { border-color: rgba(255, 105, 180, 0.1); }
[data-theme="bubblegum"] .awakening-log-item:hover { border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .log-time { color: #FF69B4; }
[data-theme="bubblegum"] .awakenings-log::-webkit-scrollbar-thumb { background: rgba(255, 105, 180, 0.3); }

[data-theme="bubblegum"] .infographic-toggle-btn:hover { border-color: #FF69B4; color: #FF69B4; }
[data-theme="bubblegum"] .infographic-inner::before { background: linear-gradient(180deg, #FF69B4 0%, rgba(255, 105, 180, 0.2) 100%); }
[data-theme="bubblegum"] .infographic-dot { background: #FF85C8; box-shadow: 0 0 6px rgba(255, 133, 200, 0.4); }
[data-theme="bubblegum"] .infographic-row.current .infographic-dot { background: #FF69B4; box-shadow: 0 0 10px rgba(255, 105, 180, 0.6); }
[data-theme="bubblegum"] .infographic-row.current .infographic-name { color: #FF69B4; }
[data-theme="bubblegum"] .infographic-tag { border-color: rgba(255, 105, 180, 0.2); color: #A07DB5; }

[data-theme="bubblegum"] .my-baker-input:focus { border-color: #FF69B4; box-shadow: 0 0 10px rgba(255, 105, 180, 0.2); }

[data-theme="bubblegum"] .my-baker-stat-value { color: #FF85C8; }
[data-theme="bubblegum"] .my-baker-stat { border-color: rgba(255, 105, 180, 0.1); }
[data-theme="bubblegum"] .my-baker-stat:hover { border-color: rgba(255, 105, 180, 0.3); }

[data-theme="bubblegum"] .capacity-bar-pct { color: #FF69B4; }
[data-theme="bubblegum"] .capacity-bar-fill { background: linear-gradient(90deg, #FF85C8, #FF69B4); }
[data-theme="bubblegum"] .capacity-bar-card { border-color: rgba(255, 105, 180, 0.1); }

[data-theme="bubblegum"] .calc-input:focus { border-color: #FF69B4; box-shadow: 0 0 10px rgba(255, 105, 180, 0.2); }
[data-theme="bubblegum"] .calc-toggle-btn.calc-toggle-active { background: rgba(255, 105, 180, 0.2); border-color: #FF69B4; color: #FF69B4; }
[data-theme="bubblegum"] .calc-apy-badge { border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .calc-apy-value { color: #FF69B4; }
[data-theme="bubblegum"] .calc-breakdown-total .calc-breakdown-value { color: #FF69B4; }
[data-theme="bubblegum"] .calc-compound-year { border-color: rgba(255, 105, 180, 0.1); }
[data-theme="bubblegum"] .calc-compound-earned { color: #FF69B4; }

[data-theme="bubblegum"] .comparison-col-tezos { border-color: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .comparison-col-tezos .comparison-chain-name,
[data-theme="bubblegum"] .comparison-col-tezos .comparison-chain-value { color: #FF69B4; }
[data-theme="bubblegum"] .comparison-winner { color: #FF69B4; }
[data-theme="bubblegum"] .comparison-card { border-color: rgba(255, 105, 180, 0.1); }
[data-theme="bubblegum"] .comparison-card:hover { border-color: rgba(255, 105, 180, 0.3); }

/* --- Bubblegum: Display font (Orbitron, keeps default) --- */
[data-theme="bubblegum"] .title {
    background: none !important;
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: #FF69B4 !important;
    background-clip: unset !important;
    color: #FF69B4 !important;
    font-family: 'Orbitron', sans-serif !important;
    font-weight: 600 !important;
    font-size: clamp(2rem, 4vw, 2.5rem) !important;
    text-transform: none !important;
    letter-spacing: 0.05em !important;
    text-shadow: 0 0 4px rgba(255,105,180,0.5), 0 0 15px rgba(255,105,180,0.25), 0 2px 4px rgba(0,0,0,0.3) !important;
    filter: none !important;
}
[data-theme="bubblegum"] .upgrade-number,
[data-theme="bubblegum"] .current-name,
[data-theme="bubblegum"] .stat-value,
[data-theme="bubblegum"] .price-label,
[data-theme="bubblegum"] .price-value,
[data-theme="bubblegum"] .price-change,
[data-theme="bubblegum"] .badge-text,
[data-theme="bubblegum"] .chart-section h4,
[data-theme="bubblegum"] .infographic-letter,
[data-theme="bubblegum"] .infographic-name,
[data-theme="bubblegum"] .about-tezos-stat-value,
[data-theme="bubblegum"] .calc-breakdown-value,
[data-theme="bubblegum"] .calc-apy-value,
[data-theme="bubblegum"] .calc-result-xtz,
[data-theme="bubblegum"] .calc-compound-year,
[data-theme="bubblegum"] .calc-compound-xtz,
[data-theme="bubblegum"] .my-baker-title {
    font-family: 'Orbitron', monospace;
    font-weight: 400;
}

[data-theme="bubblegum"] .theme-picker-dropdown {
    background: #271838;
    border-color: rgba(255, 105, 180, 0.2);
}

[data-theme="bubblegum"] .first-visit-modal-content {
    background: #271838;
    border-color: rgba(255, 105, 180, 0.2);
}

/* Hide ultra canvas effects on clean and dark themes */
[data-theme="clean"] #ultra-canvas,
[data-theme="dark"] #ultra-canvas {
    display: none !important;
}

/* ═══════════════════════════════════════════════════════════════════
   NETWORK MOMENTS — Toast Notifications + Timeline
   ═══════════════════════════════════════════════════════════════════ */

/* ─── Toast Container ─────────────────────────────────────────── */

#moments-toast-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 10002;
    display: flex;
    flex-direction: column;
    gap: 10px;
    pointer-events: none;
}

@media (max-width: 600px) {
    #moments-toast-container {
        right: 50%;
        transform: translateX(50%);
        width: 90%;
        bottom: 16px;
    }
}

/* ─── Toast Card ──────────────────────────────────────────────── */

.moment-toast {
    pointer-events: auto;
    background: rgba(12, 12, 20, 0.95);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 12px;
    padding: 14px 18px 10px;
    min-width: 280px;
    max-width: 360px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 212, 255, 0.1);
    backdrop-filter: blur(12px);
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.4s ease, transform 0.4s ease;
    overflow: hidden;
    position: relative;
}

.moment-toast.visible {
    opacity: 1;
    transform: translateY(0);
}

.moment-toast.exiting {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.moment-toast-header {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: rgba(0, 212, 255, 0.7);
    margin-bottom: 4px;
}

.moment-toast-label {
    font-weight: 600;
}

.moment-toast-title {
    font-size: 1rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 12px;
    line-height: 1.3;
}

.moment-toast-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 8px;
}

.moment-toast-share,
.moment-toast-dismiss {
    flex: 1;
    padding: 6px 0;
    border: none;
    border-radius: 6px;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s, transform 0.15s;
}

.moment-toast-share:active,
.moment-toast-dismiss:active {
    transform: scale(0.97);
}

.moment-toast-share {
    background: rgba(0, 212, 255, 0.2);
    color: #00d4ff;
    border: 1px solid rgba(0, 212, 255, 0.3);
}

.moment-toast-share:hover {
    background: rgba(0, 212, 255, 0.35);
}

.moment-toast-dismiss {
    background: rgba(255, 255, 255, 0.06);
    color: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.moment-toast-dismiss:hover {
    background: rgba(255, 255, 255, 0.12);
    color: rgba(255, 255, 255, 0.7);
}

/* Progress bar */
.moment-toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: rgba(255, 255, 255, 0.05);
}

.moment-toast-progress-bar {
    height: 100%;
    width: 100%;
    background: rgba(0, 212, 255, 0.6);
    transition: width 15s linear;
}

/* ─── Moments Dismiss Button ──────────────────────────────────── */

.moments-dismiss-all {
    margin-left: auto;
    font-size: 0.85rem;
    padding: 4px 10px;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s;
}

.moments-dismiss-all:hover {
    opacity: 1;
}

/* ─── Moments Timeline ────────────────────────────────────────── */

.moments-timeline {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 0 4px;
}

.moments-empty {
    text-align: center;
    padding: 24px 16px;
    color: rgba(255, 255, 255, 0.35);
    font-size: 0.85rem;
    font-style: italic;
}

.moment-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.06);
    transition: background 0.2s;
}

.moment-item:hover {
    background: rgba(255, 255, 255, 0.06);
}

.moment-item-emoji {
    font-size: 1.4rem;
    flex-shrink: 0;
}

.moment-item-info {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.moment-item-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary, #fff);
}

.moment-item-time {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.35);
}

.moment-item-share {
    flex-shrink: 0;
    background: rgba(0, 212, 255, 0.12);
    border: 1px solid rgba(0, 212, 255, 0.2);
    color: rgba(0, 212, 255, 0.8);
    width: 32px;
    height: 32px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}

.moment-item-share:hover {
    background: rgba(0, 212, 255, 0.25);
}

/* ─── Theme: Matrix ───────────────────────────────────────────── */

[data-theme="matrix"] .moment-toast {
    background: rgba(0, 10, 0, 0.95);
    border-color: rgba(0, 255, 0, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 255, 0, 0.15);
}

[data-theme="matrix"] .moment-toast-header { color: rgba(0, 255, 0, 0.7); }
[data-theme="matrix"] .moment-toast-title { color: #00ff00; }
[data-theme="matrix"] .moment-toast-share {
    background: rgba(0, 255, 0, 0.15);
    color: #00ff00;
    border-color: rgba(0, 255, 0, 0.3);
}
[data-theme="matrix"] .moment-toast-share:hover { background: rgba(0, 255, 0, 0.3); }
[data-theme="matrix"] .moment-toast-progress-bar { background: rgba(0, 255, 0, 0.6); }
[data-theme="matrix"] .moment-item { border-color: rgba(0, 255, 0, 0.1); }
[data-theme="matrix"] .moment-item-time { color: rgba(0, 255, 0, 0.35); }
[data-theme="matrix"] .moment-item-share {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.2);
    color: #00ff00;
}
[data-theme="matrix"] .moments-empty { color: rgba(0, 255, 0, 0.3); }

/* ─── Theme: Default (blue/cyan) ──────────────────────────────── */
/* Base styles already use blue/cyan — no overrides needed */

/* ─── Theme: Void ─────────────────────────────────────────────── */

[data-theme="void"] .moment-toast {
    background: rgba(10, 5, 20, 0.95);
    border-color: rgba(160, 80, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(160, 80, 255, 0.15);
}

[data-theme="void"] .moment-toast-header { color: rgba(160, 80, 255, 0.7); }
[data-theme="void"] .moment-toast-share {
    background: rgba(160, 80, 255, 0.15);
    color: #a050ff;
    border-color: rgba(160, 80, 255, 0.3);
}
[data-theme="void"] .moment-toast-share:hover { background: rgba(160, 80, 255, 0.3); }
[data-theme="void"] .moment-toast-progress-bar { background: rgba(160, 80, 255, 0.6); }
[data-theme="void"] .moment-item-share {
    background: rgba(160, 80, 255, 0.1);
    border-color: rgba(160, 80, 255, 0.2);
    color: #a050ff;
}

/* ─── Theme: Ember ────────────────────────────────────────────── */

[data-theme="ember"] .moment-toast {
    background: rgba(20, 10, 5, 0.95);
    border-color: rgba(255, 160, 50, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255, 160, 50, 0.15);
}

[data-theme="ember"] .moment-toast-header { color: rgba(255, 160, 50, 0.7); }
[data-theme="ember"] .moment-toast-share {
    background: rgba(255, 160, 50, 0.15);
    color: #ffa032;
    border-color: rgba(255, 160, 50, 0.3);
}
[data-theme="ember"] .moment-toast-share:hover { background: rgba(255, 160, 50, 0.3); }
[data-theme="ember"] .moment-toast-progress-bar { background: rgba(255, 160, 50, 0.6); }
[data-theme="ember"] .moment-item-share {
    background: rgba(255, 160, 50, 0.1);
    border-color: rgba(255, 160, 50, 0.2);
    color: #ffa032;
}

/* ─── Theme: Signal ───────────────────────────────────────────── */

[data-theme="signal"] .moment-toast {
    border-color: rgba(0, 210, 180, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 210, 180, 0.1);
}

[data-theme="signal"] .moment-toast-header { color: rgba(0, 210, 180, 0.7); }
[data-theme="signal"] .moment-toast-share {
    background: rgba(0, 210, 180, 0.15);
    color: #00d2b4;
    border-color: rgba(0, 210, 180, 0.3);
}
[data-theme="signal"] .moment-toast-share:hover { background: rgba(0, 210, 180, 0.3); }
[data-theme="signal"] .moment-toast-progress-bar { background: rgba(0, 210, 180, 0.6); }
[data-theme="signal"] .moment-item-share {
    background: rgba(0, 210, 180, 0.1);
    border-color: rgba(0, 210, 180, 0.2);
    color: #00d2b4;
}

/* ─── Theme: Clean ────────────────────────────────────────────── */

[data-theme="clean"] .moment-toast {
    background: rgba(255, 255, 255, 0.98);
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

[data-theme="clean"] .moment-toast-header { color: rgba(37, 99, 235, 0.7); }
[data-theme="clean"] .moment-toast-title { color: #1a1a2e; }
[data-theme="clean"] .moment-toast-share {
    background: rgba(37, 99, 235, 0.1);
    color: #2563eb;
    border-color: rgba(37, 99, 235, 0.2);
}
[data-theme="clean"] .moment-toast-share:hover { background: rgba(37, 99, 235, 0.2); }
[data-theme="clean"] .moment-toast-dismiss {
    background: rgba(0, 0, 0, 0.04);
    color: rgba(0, 0, 0, 0.4);
    border-color: rgba(0, 0, 0, 0.08);
}
[data-theme="clean"] .moment-toast-dismiss:hover { background: rgba(0, 0, 0, 0.08); }
[data-theme="clean"] .moment-toast-progress-bar { background: rgba(37, 99, 235, 0.5); }

[data-theme="clean"] .moment-item {
    background: rgba(0, 0, 0, 0.02);
    border-color: rgba(0, 0, 0, 0.06);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}
[data-theme="clean"] .moment-item:hover { background: rgba(0, 0, 0, 0.04); }
[data-theme="clean"] .moment-item-title { color: #1a1a2e; }
[data-theme="clean"] .moment-item-time { color: rgba(0, 0, 0, 0.4); }
[data-theme="clean"] .moment-item-share {
    background: rgba(37, 99, 235, 0.08);
    border-color: rgba(37, 99, 235, 0.15);
    color: #2563eb;
}
[data-theme="clean"] .moments-empty { color: rgba(0, 0, 0, 0.35); }

/* ─── Theme: Dark ─────────────────────────────────────────────── */

[data-theme="dark"] .moment-toast {
    background: #222;
    border: none;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

[data-theme="dark"] .moment-toast-header { color: rgba(200, 200, 200, 0.6); }
[data-theme="dark"] .moment-toast-title { color: #e8e8e8; }
[data-theme="dark"] .moment-toast-share {
    background: rgba(200, 200, 200, 0.1);
    color: #c8c8c8;
    border-color: rgba(200, 200, 200, 0.15);
}
[data-theme="dark"] .moment-toast-share:hover { background: rgba(200, 200, 200, 0.2); }
[data-theme="dark"] .moment-toast-dismiss {
    background: rgba(255, 255, 255, 0.04);
    color: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.06);
}
[data-theme="dark"] .moment-toast-progress-bar { background: rgba(200, 200, 200, 0.4); }

[data-theme="dark"] .moment-item {
    background: rgba(255, 255, 255, 0.02);
    border: none;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}
[data-theme="dark"] .moment-item:hover { background: rgba(255, 255, 255, 0.05); }
[data-theme="dark"] .moment-item-title { color: #e8e8e8; }
[data-theme="dark"] .moment-item-time { color: rgba(200, 200, 200, 0.35); }
[data-theme="dark"] .moment-item-share {
    background: rgba(200, 200, 200, 0.08);
    border: none;
    color: #c8c8c8;
}
[data-theme="dark"] .moments-empty { color: rgba(200, 200, 200, 0.3); }

/* ─── Theme: Bubblegum ────────────────────────────────────────── */

[data-theme="bubblegum"] .moment-toast {
    background: rgba(26, 15, 34, 0.95);
    border-color: rgba(255, 105, 180, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255, 105, 180, 0.15);
}

[data-theme="bubblegum"] .moment-toast-header { color: rgba(255, 105, 180, 0.7); }
[data-theme="bubblegum"] .moment-toast-share {
    background: rgba(255, 105, 180, 0.15);
    color: #ff69b4;
    border-color: rgba(255, 105, 180, 0.3);
}
[data-theme="bubblegum"] .moment-toast-share:hover { background: rgba(255, 105, 180, 0.3); }
[data-theme="bubblegum"] .moment-toast-progress-bar { background: rgba(255, 105, 180, 0.6); }
[data-theme="bubblegum"] .moment-item-share {
    background: rgba(255, 105, 180, 0.1);
    border-color: rgba(255, 105, 180, 0.2);
    color: #ff69b4;
}

/* ==========================================
   Changelog Modal
   ========================================== */

.changelog-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 2000;
    align-items: center;
    justify-content: center;
}

.changelog-modal[aria-hidden="false"] {
    display: flex;
}

.changelog-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    animation: fadeIn 0.2s ease;
}

.changelog-modal-content {
    position: relative;
    z-index: 1;
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    width: 90%;
    max-width: 700px;
    max-height: 70vh;
    display: flex;
    flex-direction: column;
    animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.changelog-modal-header {
    padding: 2rem 2rem 1rem;
    border-bottom: 1px solid var(--glass-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}

.changelog-modal-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.02em;
    margin: 0;
}

.changelog-modal-close {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 2rem;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: var(--transition);
    line-height: 1;
    padding: 0;
}

.changelog-modal-close:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.changelog-modal-body {
    padding: 1.5rem 2rem 2rem;
    overflow-y: auto;
    flex: 1;
}

.changelog-section {
    margin-bottom: 2rem;
}

.changelog-section:last-child {
    margin-bottom: 0;
}

.changelog-date {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
    margin-bottom: 0.75rem;
    letter-spacing: -0.01em;
}

.changelog-entries {
    list-style: none;
    padding: 0;
    margin: 0;
}

.changelog-entry {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.5rem 0;
    color: var(--text-secondary);
    line-height: 1.5;
}

.changelog-type {
    font-size: 1.1rem;
    flex-shrink: 0;
    margin-top: 0.1rem;
}

.changelog-text {
    flex: 1;
    font-size: 0.95rem;
}

/* Mobile styles */
@media (max-width: 768px) {
    .changelog-modal-content {
        width: 100%;
        max-width: 100%;
        max-height: 100vh;
        border-radius: 0;
        border: none;
    }
    
    .changelog-modal-header {
        padding: 1.5rem 1.25rem 1rem;
    }
    
    .changelog-modal-header h2 {
        font-size: 1.5rem;
    }
    
    .changelog-modal-body {
        padding: 1rem 1.25rem 1.5rem;
    }
    
    .changelog-date {
        font-size: 1rem;
    }
    
    .changelog-entry {
        gap: 0.5rem;
    }
    
    .changelog-type {
        font-size: 1rem;
    }
    
    .changelog-text {
        font-size: 0.9rem;
    }
}

/* Scrollbar styling for changelog body */
.changelog-modal-body::-webkit-scrollbar {
    width: 8px;
}

.changelog-modal-body::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
}

.changelog-modal-body::-webkit-scrollbar-thumb {
    background: var(--glass-border);
    border-radius: 4px;
}

.changelog-modal-body::-webkit-scrollbar-thumb:hover {
    background: var(--accent-cyan);
}

/* ==========================================
   KEYBOARD HELP OVERLAY
   ========================================== */

.keyboard-help-overlay {
    position: fixed;
    inset: 0;
    z-index: 10002;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(8px);
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: all;
}

.keyboard-help-overlay.visible {
    opacity: 1;
}

.keyboard-help-card {
    background: var(--bg-secondary);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 28px 32px;
    min-width: 280px;
    max-width: 360px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.keyboard-help-card h3 {
    color: var(--accent-cyan);
    font-family: 'Orbitron', monospace;
    font-size: 0.95rem;
    margin-bottom: 20px;
    letter-spacing: 1px;
}

.keyboard-help-grid {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.keyboard-help-row {
    display: flex;
    align-items: center;
    gap: 14px;
}

.keyboard-help-row kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 32px;
    height: 28px;
    padding: 0 8px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 6px;
    color: var(--accent-cyan);
    font-family: 'IBM Plex Mono', 'Share Tech Mono', monospace;
    font-size: 0.78rem;
    font-weight: 600;
}

.keyboard-help-row span {
    color: var(--text-secondary);
    font-size: 0.82rem;
}

.keyboard-help-hint {
    color: var(--text-muted);
    font-size: 0.7rem;
    text-align: center;
    margin-top: 18px;
}

/* ==========================================
   LOADING SHIMMER / SKELETON
   ========================================== */

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.stat-value.loading {
    color: transparent !important;
    background: linear-gradient(
        90deg,
        var(--glass-bg) 25%,
        rgba(255, 255, 255, 0.06) 50%,
        var(--glass-bg) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.8s ease-in-out infinite;
    border-radius: 6px;
    min-width: 80px;
    min-height: 1.4em;
}

[data-theme="clean"] .stat-value.loading {
    background: linear-gradient(
        90deg,
        #f0f1f3 25%,
        #e0e2e6 50%,
        #f0f1f3 75%
    );
    background-size: 200% 100%;
}

/* ==========================================
   OFFLINE INDICATOR
   ========================================== */

.offline-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 10003;
    text-align: center;
    padding: 6px 12px;
    font-size: 0.72rem;
    font-family: 'Orbitron', monospace;
    letter-spacing: 1px;
    background: rgba(255, 107, 107, 0.15);
    border-bottom: 1px solid rgba(255, 107, 107, 0.3);
    color: #ff6b6b;
    backdrop-filter: blur(8px);
    transition: transform 0.3s ease;
}

.offline-banner.hidden {
    transform: translateY(-100%);
}

/* ==========================================
   MOBILE OVERVIEW SUMMARY
   ========================================== */

.mobile-overview-summary {
    display: none; /* Only visible on mobile */
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    padding: 0 16px 16px;
}

.mobile-tabs-active .mobile-overview-summary {
    display: grid;
}

/* Hide on non-overview tabs */
.mobile-tabs-active [data-active-tab]:not([data-active-tab="overview"]) ~ .mobile-overview-summary,
body:not([data-active-tab="overview"]) .mobile-overview-summary {
    display: none;
}

body[data-active-tab="overview"] .mobile-overview-summary {
    display: grid;
}

/* Only show when mobile tabs active AND overview tab selected */
body:not(.mobile-tabs-active) .mobile-overview-summary {
    display: none !important;
}

.overview-metric {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 14px 16px;
    text-align: center;
}

.overview-metric-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-muted);
    margin-bottom: 6px;
    font-family: 'Orbitron', monospace;
}

.overview-metric-value {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--accent-cyan);
    font-family: 'Orbitron', monospace;
}

/* ==========================================
   TIMELINE YEAR LABELS
   ========================================== */

/* ==========================================
   NETWORK HEALTH PULSE
   ========================================== */

.network-pulse {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    cursor: help;
    margin-left: 8px;
    padding-left: 10px;
    border-left: 1px solid rgba(255,255,255,0.08);
}

.pulse-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: #666;
    transition: background 0.5s ease;
    flex-shrink: 0;
}

.pulse-label {
    font-size: 0.7rem;
    color: rgba(255,255,255,0.4);
    letter-spacing: 0.5px;
    white-space: nowrap;
}

.network-pulse.healthy .pulse-label { color: rgba(0, 255, 136, 0.7); }
.network-pulse.delayed .pulse-label { color: rgba(255, 170, 0, 0.7); }
.network-pulse.warning .pulse-label { color: rgba(255, 68, 68, 0.7); }

.network-pulse.healthy .pulse-dot {
    background: #00ff88;
    box-shadow: 0 0 8px rgba(0, 255, 136, 0.5);
    animation: pulse-glow 2s ease-in-out infinite;
}

.network-pulse.delayed .pulse-dot {
    background: #ffaa00;
    box-shadow: 0 0 8px rgba(255, 170, 0, 0.5);
    animation: pulse-glow 1s ease-in-out infinite;
}

.network-pulse.warning .pulse-dot {
    background: #ff4444;
    box-shadow: 0 0 8px rgba(255, 68, 68, 0.5);
    animation: pulse-glow 0.5s ease-in-out infinite;
}

.network-pulse.unknown .pulse-dot {
    background: #666;
}

@keyframes pulse-glow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ==========================================
   GOVERNANCE COUNTDOWN BANNER
   ========================================== */

.gov-countdown-banner {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 8px 16px;
    font-size: 0.75rem;
    font-family: 'Orbitron', monospace;
    letter-spacing: 0.5px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    margin: 8px auto;
    max-width: 800px;
    color: var(--text-secondary);
    transition: all 0.3s ease;
}

.gov-countdown-banner.urgent {
    background: rgba(0, 212, 255, 0.08);
    border-color: rgba(0, 212, 255, 0.3);
    color: var(--accent-cyan);
}

.gov-banner-icon {
    font-size: 1rem;
}

.gov-banner-text {
    font-size: 0.72rem;
}

.gov-banner-text strong {
    color: var(--accent-cyan);
}

@media (max-width: 768px) {
    .gov-countdown-banner {
        margin: 4px 12px;
        font-size: 0.65rem;
    }
}

.timeline-year {
    position: absolute;
    bottom: -16px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.5rem;
    color: var(--text-muted);
    white-space: nowrap;
    pointer-events: none;
    opacity: 0.6;
    letter-spacing: 0.5px;
}

/* ==========================================
   BAKER LEADERBOARD
   ========================================== */
.leaderboard-results {
    margin-top: 12px;
}

.leaderboard-table-wrap {
    overflow-x: auto;
    border-radius: 8px;
    border: 1px solid var(--border-color, rgba(255,255,255,0.08));
}

.leaderboard-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.8rem;
    white-space: nowrap;
}

.leaderboard-table thead {
    position: sticky;
    top: 0;
    z-index: 2;
}

.leaderboard-table th {
    padding: 10px 12px;
    text-align: left;
    font-weight: 600;
    font-size: 0.72rem;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    background: var(--card-bg, rgba(255,255,255,0.03));
    border-bottom: 1px solid var(--border-color, rgba(255,255,255,0.08));
    user-select: none;
    transition: color 0.2s;
}

.leaderboard-table th.active {
    color: var(--color-primary, #00d4ff);
}

.leaderboard-table th:hover {
    color: var(--text-primary, #fff);
}

.leaderboard-table td {
    padding: 8px 12px;
    border-bottom: 1px solid var(--border-color, rgba(255,255,255,0.04));
    color: var(--text-primary, rgba(255,255,255,0.85));
}

.leaderboard-table tbody tr {
    transition: background 0.15s;
}

.leaderboard-table tbody tr:hover {
    background: var(--hover-bg, rgba(255,255,255,0.04));
}

.lb-rank {
    width: 40px;
    text-align: center !important;
    color: var(--text-secondary, rgba(255,255,255,0.4)) !important;
    font-size: 0.72rem;
}

.lb-name {
    max-width: 180px;
    overflow: hidden;
    text-overflow: ellipsis;
    font-weight: 500;
}

.lb-num {
    text-align: right !important;
    font-variant-numeric: tabular-nums;
}

.lb-tz4 {
    text-align: center !important;
    width: 50px;
}

.cap-warning {
    color: var(--color-warning, #f59e0b) !important;
}

.cap-critical {
    color: var(--color-error, #ef4444) !important;
}

.leaderboard-footer {
    padding: 8px 12px;
    font-size: 0.7rem;
    color: var(--text-secondary, rgba(255,255,255,0.4));
    text-align: center;
}

.leaderboard-loading,
.leaderboard-error {
    padding: 32px;
    text-align: center;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    font-size: 0.85rem;
}

.leaderboard-table-wrap {
    max-height: 500px;
    overflow-y: auto;
}

/* Leaderboard scrollbar (theme-aware) */
.leaderboard-table-wrap::-webkit-scrollbar { width: 6px; height: 6px; }
.leaderboard-table-wrap::-webkit-scrollbar-track { background: transparent; }
.leaderboard-table-wrap::-webkit-scrollbar-thumb {
    background: var(--color-primary, rgba(0, 212, 255, 0.3));
    border-radius: 3px;
}

/* Mobile: hide less important columns */
@media (max-width: 640px) {
    .leaderboard-table th:nth-child(5),
    .leaderboard-table td:nth-child(5),
    .leaderboard-table th:nth-child(6),
    .leaderboard-table td:nth-child(6) {
        display: none;
    }
    .lb-name { max-width: 120px; }
    .leaderboard-table th, .leaderboard-table td {
        padding: 6px 8px;
    }
}

/* ==========================================
   MY TEZOS — Personal Homepage Hero Strip
   ========================================== */
.my-tezos-strip {
    display: none;
    position: relative;
    padding: 16px 24px;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.06) 0%, rgba(0, 212, 255, 0.02) 100%);
    border-bottom: 1px solid rgba(0, 212, 255, 0.12);
    backdrop-filter: blur(12px);
    overflow: hidden;
}

.my-tezos-strip.visible {
    display: block;
}

.my-tezos-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 20px;
    max-width: 1400px;
    margin: 0 auto;
}

.my-tezos-cell {
    text-align: center;
}

.my-tezos-label {
    font-size: 0.68rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    margin-bottom: 4px;
}

.my-tezos-value {
    font-family: 'Orbitron', monospace;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary, #fff);
    line-height: 1.3;
}

.my-tezos-sub {
    font-size: 0.75rem;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    margin-top: 2px;
}

.my-tezos-delta {
    display: inline-block;
    font-size: 0.72rem;
    font-weight: 600;
    margin-top: 4px;
    padding: 2px 8px;
    border-radius: 4px;
    background: rgba(255,255,255,0.04);
}

.my-tezos-baker-name {
    font-size: 0.95rem !important;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin: 0 auto;
}

/* Streak cell — fire glow */
.my-tezos-streak .my-tezos-value {
    color: #f59e0b;
    text-shadow: 0 0 12px rgba(245, 158, 11, 0.3);
}

.my-tezos-actions {
    position: absolute;
    top: 8px;
    right: 12px;
    display: flex;
    gap: 4px;
}

.my-tezos-share,
.my-tezos-edit,
.my-tezos-close {
    background: none;
    border: none;
    color: var(--text-secondary, rgba(255,255,255,0.4));
    cursor: pointer;
    font-size: 0.9rem;
    padding: 4px 8px;
    border-radius: 4px;
    transition: all 0.2s;
}

.my-tezos-share:hover,
.my-tezos-edit:hover,
.my-tezos-close:hover {
    color: var(--text-primary, #fff);
    background: rgba(255,255,255,0.06);
}

.my-tezos-loading {
    text-align: center;
    padding: 8px;
}

.my-tezos-loading-text {
    color: var(--text-secondary, rgba(255,255,255,0.5));
    font-size: 0.8rem;
    letter-spacing: 1px;
    animation: my-tezos-pulse 1.5s ease-in-out infinite;
}

@keyframes my-tezos-pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

/* Onboarding state */
.my-tezos-strip.onboarding {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.08) 0%, rgba(0, 212, 255, 0.03) 100%);
    border-bottom: 1px solid rgba(0, 212, 255, 0.15);
}

.my-tezos-onboard {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    max-width: 900px;
    margin: 0 auto;
    padding: 8px 0;
    flex-wrap: wrap;
}

.my-tezos-onboard-title {
    font-family: 'Orbitron', monospace;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-primary, #00d4ff);
    display: block;
}

.my-tezos-onboard-sub {
    font-size: 0.78rem;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    display: block;
    margin-top: 2px;
}

.my-tezos-onboard-input {
    display: flex;
    gap: 8px;
}

.my-tezos-onboard-input input {
    padding: 8px 14px;
    border: 1px solid var(--border-color, rgba(255,255,255,0.12));
    border-radius: 6px;
    background: rgba(255,255,255,0.04);
    color: var(--text-primary, #fff);
    font-size: 0.85rem;
    width: 240px;
    outline: none;
    transition: border-color 0.2s;
}

.my-tezos-onboard-input input:focus {
    border-color: var(--color-primary, #00d4ff);
}

.my-tezos-go-btn {
    padding: 8px 18px;
    background: rgba(0, 212, 255, 0.15);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 6px;
    color: var(--color-primary, #00d4ff);
    font-family: 'Orbitron', monospace;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 1px;
}

.my-tezos-go-btn:hover {
    background: rgba(0, 212, 255, 0.25);
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.15);
}

.my-tezos-dismiss {
    background: none;
    border: none;
    color: var(--text-secondary, rgba(255,255,255,0.3));
    font-size: 0.72rem;
    cursor: pointer;
    padding: 4px 8px;
}

.my-tezos-dismiss:hover {
    color: var(--text-primary, rgba(255,255,255,0.7));
}

/* Tablet */
@media (max-width: 1024px) {
    .my-tezos-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 14px;
    }
}

/* Mobile */
@media (max-width: 768px) {
    .my-tezos-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
    .my-tezos-strip { padding: 12px 16px; }
    .my-tezos-value { font-size: 1rem; }
    .my-tezos-onboard { flex-direction: column; text-align: center; gap: 12px; }
    .my-tezos-onboard-input input { width: 180px; }
}

@media (max-width: 480px) {
    .my-tezos-grid {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }
    .my-tezos-value { font-size: 0.9rem; }
}

/* ==========================================
   MORNING BRIEF
   ========================================== */

.morning-brief {
    max-width: 800px;
    margin: 0 auto;
    cursor: pointer;
    transition: background 0.6s ease;
}

.brief-content {
    display: flex;
    align-items: flex-start;
    gap: 16px;

}

.brief-icon {
    font-size: 1.8rem;
    flex-shrink: 0;
    line-height: 1;
}

.brief-text {
    flex: 1;
    min-width: 0;
}

.brief-title {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--accent-cyan, #00d4ff);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 6px;
}

.brief-body {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--text-primary, #fff);
}

.brief-body strong {
    color: var(--accent-cyan, #00d4ff);
    font-weight: 700;
}

.brief-sub {
    font-size: 0.82rem;
    color: var(--text-secondary, rgba(255,255,255,0.5));
}

.brief-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 14px;
    padding-top: 10px;
    border-top: 1px solid rgba(255,255,255,0.06);
}

.brief-dots {
    display: flex;
    gap: 8px;
}

.brief-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255,255,255,0.15);
    cursor: pointer;
    transition: all 0.3s;
}

.brief-dot.active {
    background: var(--accent-cyan, #00d4ff);
    box-shadow: 0 0 8px rgba(0, 212, 255, 0.4);
}

.brief-dot:hover:not(.active) {
    background: rgba(255,255,255,0.3);
}

.brief-actions {
    display: flex;
    gap: 4px;
}

.brief-action-btn {
    background: none;
    border: none;
    color: var(--text-secondary, rgba(255,255,255,0.4));
    cursor: pointer;
    font-size: 0.85rem;
    padding: 4px 8px;
    border-radius: 4px;
    transition: all 0.2s;
}

.brief-action-btn:hover {
    color: var(--text-primary, #fff);
    background: rgba(255,255,255,0.06);
}

.brief-close {
    font-size: 1.1rem;
    font-weight: 300;
}

/* Accent variations per card type */
.morning-brief-earnings .brief-title { color: var(--accent-cyan, #00d4ff); }
.morning-brief-baker .brief-title { color: var(--color-success, #10b981); }
.morning-brief-story .brief-title { color: #a78bfa; }
.morning-brief-overnight .brief-title { color: #f59e0b; }
.overnight-bullets { display: flex; flex-direction: column; gap: 4px; }
.overnight-bullet { font-size: 0.82rem; line-height: 1.5; }

/* Collapsed state */
.brief-collapsed {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 2px 0;
    transition: opacity 0.3s;
}

.brief-collapsed:hover {
    opacity: 0.8;
}

.brief-dots-collapsed {
    display: flex;
    gap: 6px;
}

.brief-dots-collapsed .brief-dot {
    width: 5px;
    height: 5px;
    opacity: 0;
    animation: brief-dot-settle 0.4s ease forwards;
}

.brief-dots-collapsed {
    gap: 4px;
}

@keyframes brief-dot-settle {
    0% { transform: scale(0); opacity: 0; }
    60% { transform: scale(1.3); opacity: 0.8; }
    100% { transform: scale(1); opacity: 0.5; }
}

.brief-dots-collapsed .brief-dot:nth-child(2) { animation-delay: 0.1s; }
.brief-dots-collapsed .brief-dot:nth-child(3) { animation-delay: 0.2s; }

/* Mobile */
@media (max-width: 768px) {
    .brief-icon { font-size: 1.4rem; }
    .brief-body { font-size: 0.88rem; }
    .brief-title { font-size: 0.75rem; }
}

/* ==========================================
   UPGRADE EFFECT — Protocol Impact Chart
   ========================================== */
.upgrade-effect-panel {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.4s ease, opacity 0.3s ease;
    margin-top: 0;
}

.upgrade-effect-panel.expanded {
    max-height: 450px;
    opacity: 1;
    margin-top: 16px;
}

.upgrade-effect-chart {
    position: relative;
    height: 280px;
    margin-top: 8px;
}

.upgrade-effect-chart canvas {
    width: 100% !important;
    height: 280px !important;
}

.upgrade-effect-story {
    text-align: center;
    font-size: 0.78rem;
    color: var(--text-secondary, rgba(255,255,255,0.45));
    margin: 4px 0 0;
    font-style: italic;
    letter-spacing: 0.3px;
    transition: opacity 0.3s;
}

/* Metric selector pills */
.upgrade-effect-pills {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    justify-content: center;
    padding: 4px 0;
}

.upgrade-effect-pill {
    padding: 4px 12px;
    border: 1px solid var(--border-color, rgba(255,255,255,0.1));
    border-radius: 20px;
    background: transparent;
    color: var(--text-secondary, rgba(255,255,255,0.5));
    font-size: 0.7rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.5px;
}

.upgrade-effect-pill:hover {
    border-color: var(--color-primary, rgba(0,212,255,0.4));
    color: var(--text-primary, #fff);
}

.upgrade-effect-pill.active {
    background: rgba(0, 212, 255, 0.12);
    border-color: var(--color-primary, rgba(0,212,255,0.5));
    color: var(--color-primary, #00d4ff);
    font-weight: 600;
}

/* Theme overrides for pills */
[data-theme="matrix"] .upgrade-effect-pill.active {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.4);
    color: #00ff00;
}

[data-theme="clean"] .upgrade-effect-pill.active {
    background: rgba(37, 99, 235, 0.1);
    border-color: rgba(37, 99, 235, 0.4);
    color: #2563EB;
}

[data-theme="bubblegum"] .upgrade-effect-pill.active {
    background: rgba(255, 105, 180, 0.1);
    border-color: rgba(255, 105, 180, 0.4);
    color: #FF69B4;
}

/* Toggle button styling */
.upgrade-effect-toggle-btn {
    margin-left: 8px;
}

/* Mobile */
@media (max-width: 640px) {
    .upgrade-effect-chart { height: 200px; }
    .upgrade-effect-chart canvas { height: 200px !important; }
    .upgrade-effect-pill { padding: 3px 8px; font-size: 0.65rem; }
}

/* ==========================================
   HEADER REDESIGN — Nav labels & structure
   ========================================== */
.header-nav-btn {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    width: auto;
    padding: 0 12px;
    white-space: nowrap;
    position: relative;
}

/* Active state indicator — 2px accent underline */
.header-nav-btn.active {
    border-color: var(--accent-color, rgba(0, 255, 136, 0.4));
    color: var(--text-primary);
}
.header-nav-btn.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 20%;
    right: 20%;
    height: 2px;
    background: var(--accent-color, #00ff88);
    border-radius: 1px;
}

/* My Tezos connected — subtle inner glow */
#my-tezos-btn.connected {
    box-shadow: inset 0 0 8px rgba(0, 255, 136, 0.15), 0 0 6px rgba(0, 255, 136, 0.08);
}
#my-tezos-btn.connected .my-tezos-icon {
    filter: brightness(1.4);
}

/* My Tezos first-visit pulse */
#my-tezos-btn.nudge {
    animation: btn-nudge 2s ease-in-out 1;
}
@keyframes btn-nudge {
    0%, 100% { box-shadow: none; }
    50% { box-shadow: 0 0 12px rgba(0, 255, 136, 0.4); }
}

/* Dropdown section labels */
.dropdown-section-label {
    font-size: 0.6rem;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-secondary, rgba(255,255,255,0.35));
    padding: 6px 12px 2px;
    margin-top: 4px;
    user-select: none;
}
.dropdown-section-label:first-child {
    margin-top: 0;
}

.nav-label {
    font-size: 0.78rem;
    font-weight: 500;
    letter-spacing: 0.3px;
}

.dropdown-caret {
    font-size: 0.65rem;
    opacity: 0.5;
    transition: transform 0.15s ease;
}

.dock-settings-group.open .dropdown-caret {
    transform: rotate(180deg);
}

.dropdown-divider {
    height: 1px;
    background: var(--border-color, rgba(255,255,255,0.08));
    margin: 4px 8px;
}

/* Mobile: hide text labels, show icons only */
@media (max-width: 768px) {
    .nav-label { display: none; }
    .dropdown-caret { display: none; }
    .toolbar-cta-label { display: none; }
    .toolbar-cta-ext { display: none; }
    .toolbar-separator { display: none; }
}

/* Comparison tooltip */
.comparison-tooltip-wrap {
    position: relative;
    display: inline-block;
    margin-top: 4px;
}
.comparison-tooltip-icon {
    cursor: help;
    font-size: 0.75rem;
    opacity: 0.5;
    transition: opacity 0.2s;
    color: var(--text-secondary, #888);
}
.comparison-tooltip-icon:hover,
.comparison-tooltip-icon:focus {
    opacity: 1;
}
.comparison-tooltip-text {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    bottom: calc(100% + 6px);
    right: -10px;
    width: max-content;
    max-width: 220px;
    padding: 8px 10px;
    border-radius: 6px;
    font-size: 0.7rem;
    line-height: 1.4;
    color: var(--text-primary, #fff);
    background: var(--card-bg, rgba(20,20,30,0.95));
    border: 1px solid var(--border-color, rgba(255,255,255,0.1));
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    z-index: 100;
    pointer-events: none;
    transition: opacity 0.2s, visibility 0.2s;
    text-align: left;
    white-space: normal;
}
.comparison-tooltip-icon:hover + .comparison-tooltip-text,
.comparison-tooltip-icon:focus + .comparison-tooltip-text {
    visibility: visible;
    opacity: 1;
}
@media (max-width: 768px) {
    .comparison-tooltip-wrap { display: none; }
}

/* ==========================================
   LANDING PAGE — Full scroll experience
   ========================================== */

.first-visit-modal.fv-landing {
    align-items: stretch;
    justify-content: stretch;
}
.first-visit-modal.fv-landing .first-visit-modal-backdrop {
    background: var(--bg, #0a0a1a);
    backdrop-filter: none;
}
.first-visit-modal.fv-landing .first-visit-modal-content.fv-scroll {
    max-width: 100% !important;
    width: 100% !important;
    max-height: 100vh !important;
    height: 100vh !important;
    overflow-y: auto;
    overflow-x: hidden;
    border-radius: 0 !important;
    padding: 0 !important;
    border: none !important;
    box-shadow: none !important;
    background: var(--bg, #0a0a1a) !important;
    backdrop-filter: none !important;
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: rgba(255,255,255,0.15) transparent;
}

/* Hero Section */
.fv-hero {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 40px 20px;
    position: relative;
}
.fv-hero .hero-title {
    font-family: 'Orbitron', monospace;
    font-size: clamp(1.8rem, 5vw, 3rem);
    font-weight: 900;
    line-height: 1.2;
    margin-bottom: 12px;
    background: linear-gradient(135deg, var(--accent, #00d4ff), #a855f7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.fv-hero .hero-subtitle {
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    color: var(--text-secondary, #8888aa);
    margin-bottom: 32px;
    font-weight: 300;
}
.fv-enter-btn {
    display: inline-block;
    padding: 14px 32px;
    border-radius: 10px;
    border: none;
    background: var(--accent, #00d4ff);
    color: #000;
    font-family: 'Orbitron', monospace;
    font-size: 0.95rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.25s;
    letter-spacing: 0.03em;
}
.fv-enter-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 30px var(--accent, #00d4ff);
}
.fv-enter-big {
    font-size: 1.1rem;
    padding: 18px 48px;
}
.fv-scroll-hint {
    position: absolute;
    bottom: 24px;
    color: var(--text-secondary, #8888aa);
    font-size: 0.85rem;
    opacity: 0.5;
    animation: fvBounce 2s ease-in-out infinite;
}
@keyframes fvBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(8px); }
}

/* Live Proof Section */
.fv-live {
    padding: 60px 20px;
    display: flex;
    justify-content: center;
}
.fv-live-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    max-width: 700px;
    width: 100%;
}
.fv-live-card {
    background: var(--bg-card, #12122a);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px;
    padding: 20px 16px;
    text-align: center;
    transition: border-color 0.3s;
}
.fv-live-card:hover {
    border-color: var(--accent, #00d4ff);
}
.fv-live-value {
    font-family: 'Orbitron', monospace;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--accent, #00d4ff);
    margin-bottom: 4px;
}
.fv-live-label {
    font-size: 0.7rem;
    color: var(--text-secondary, #8888aa);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Features Section */
.fv-features {
    padding: 60px 20px 40px;
    max-width: 900px;
    margin: 0 auto;
}
.fv-section-title {
    font-family: 'Orbitron', monospace;
    font-size: clamp(1.2rem, 3vw, 1.6rem);
    text-align: center;
    margin-bottom: 8px;
    color: var(--text-primary, #e0e0e0);
}
.fv-section-sub {
    text-align: center;
    color: var(--text-secondary, #8888aa);
    font-size: 0.9rem;
    margin-bottom: 32px;
}
.fv-features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
}
.fv-feature-cat {
    background: var(--bg-card, #12122a);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 12px;
    padding: 20px;
    transition: border-color 0.3s;
}
.fv-feature-cat:hover {
    border-color: rgba(255,255,255,0.12);
}
.fv-cat-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
}
.fv-cat-icon {
    font-size: 1.2rem;
}
.fv-cat-name {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--accent, #00d4ff);
}
.fv-cat-items {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.fv-feature-item {
    padding-left: 8px;
    border-left: 2px solid rgba(255,255,255,0.06);
}
.fv-feature-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary, #e0e0e0);
    margin-bottom: 2px;
}
.fv-feature-desc {
    font-size: 0.75rem;
    color: var(--text-secondary, #8888aa);
    line-height: 1.4;
}

/* Themes Section */
.fv-themes {
    padding: 40px 20px 60px;
    max-width: 700px;
    margin: 0 auto;
}
.fv-themes .theme-grid {
    justify-content: center;
}
.fv-themes .theme-card.selected {
    border-color: var(--accent, #00d4ff);
    box-shadow: 0 0 15px rgba(0,212,255,0.3);
}

/* Final CTA Section */
.fv-final {
    padding: 40px 20px 60px;
    text-align: center;
}
.fv-compare-links {
    margin-top: 24px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
}
.fv-compare-links a {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 6px;
    background: rgba(255,255,255,0.05);
    color: var(--text-secondary, #8888aa);
    text-decoration: none;
    font-size: 0.8rem;
    transition: all 0.2s;
}
.fv-compare-links a:hover {
    background: rgba(255,255,255,0.1);
    color: var(--text-primary, #e0e0e0);
}

/* Mobile */
@media (max-width: 600px) {
    .fv-live-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    .fv-features-grid {
        grid-template-columns: 1fr;
    }
    .fv-live-value {
        font-size: 1rem;
    }
}

/* ─── Cycle Chip in Price Bar ─── */
.cycle-chip {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    font-family: 'Orbitron', monospace;
    font-size: 0.68rem;
    font-weight: 500;
    color: var(--text-secondary);
    letter-spacing: 0.5px;
    white-space: nowrap;
    font-variant-numeric: tabular-nums;
}
.cycle-chip-label {
    color: var(--accent, #00d4ff);
    letter-spacing: 0;
}
.cycle-chip-pct {
    color: var(--text-primary);
    min-width: 32px;
    text-align: right;
    letter-spacing: 0;
}
.cycle-chip-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #00ff88;
    box-shadow: 0 0 6px #00ff88;
    animation: chipDotPulse 2s ease-in-out infinite;
    flex-shrink: 0;
}
.cycle-chip-dot.warn { background: #ffcc00; box-shadow: 0 0 6px #ffcc00; }
.cycle-chip-dot.danger { background: #ff4466; box-shadow: 0 0 6px #ff4466; }
@keyframes chipDotPulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }

/* Price bar progress (bottom border fill) */
.price-bar {
    position: relative;
}
.price-bar-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    width: 0%;
    background: rgba(0, 212, 255, 0.15);
    box-shadow: none;
    transition: width 1s ease;
    border-radius: 0 1px 1px 0;
}

@media (max-width: 600px) {
    .cycle-chip { font-size: 0.65rem; gap: 3px; }
    .price-bar-progress { height: 1.5px; }
}

/* Price bar 3-zone layout: cycle | price | CTAs */
.price-bar-content .cycle-chip { flex-shrink: 0; }
.price-bar-content .price-cta:last-of-type { margin-right: 0; }
.price-bar-content .price-cta { flex-shrink: 0; }

/* Cycle chip: pulse dot + age in price bar */
.cycle-chip .uptime-pulse-dot,
[data-theme] .cycle-chip .uptime-pulse-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #00ff88 !important;
    box-shadow: 0 0 6px #00ff88 !important;
    display: inline-block;
    animation: chipDotPulse 2s ease-in-out infinite;
    flex-shrink: 0;
}
.cycle-chip .uptime-pulse-dot.stale { background: #ff0; box-shadow: 0 0 6px #ff0; }
.cycle-chip .uptime-pulse-dot.danger { background: #f00; box-shadow: 0 0 6px #f00; }
.cycle-chip-age {
    font-size: 0.65rem;
    min-width: 46px;
    text-align: right;
    color: var(--text-secondary);
    opacity: 0.7;
    font-variant-numeric: tabular-nums;
    letter-spacing: 0;
    min-width: 36px;
}

/* Price bar pipe dividers */
.price-pipe {
    color: rgba(255, 255, 255, 0.12);
    font-size: 0.7rem;
    user-select: none;
    line-height: 1;
}

.cycle-chip-block {
    font-size: 0.65rem;
    color: var(--text-secondary);
    opacity: 0.6;
    font-variant-numeric: tabular-nums;
    letter-spacing: 0;
}
